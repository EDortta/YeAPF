/* YeAPF 0.8.49-110 built on 2016-08-12 15:24 (-3 DST) Copyright (C) 2004-2016 Esteban Daniel Dortta - dortta@yahoo.com */
if("undefined"===typeof console)var console="undefined"!=typeof window?window.console=window.console||{}:{};(function(){for(var a="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profileEnd table time timeEnd timeStamp trace warn".split(" "),b,c=0;c<a.length;c++)b=a[c],console[b]||(console[b]=function(){})})();console.log("YeAPF 0.8.49-110 built on 2016-08-12 15:24 (-3 DST)");
function getInternetExplorerVersion(){var a=-1;"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(a=parseFloat(RegExp.$1));return a}function isInternetExplorer(){return 0<=getInternetExplorerVersion()}function getAndroidVersion(a){a=(a||navigator.userAgent).toLowerCase();return(a=a.match(/android\s([0-9\.]*)/))?a[1]:!1}
function isOnMobile(){var a=!1;_dump(navigator.userAgent);return a="undefined"!=typeof mosync?mosync.isAndroid||mosync.isIOS||mosync.isWindowsPhone:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}ydbg=function(){return{logLevel:0,logFlag:0}};function __dump__(a){"object"==typeof mosync?mosync.rlog(a):console.log(a)}
function _dump(){for(var a="",b,c=0;c<arguments.length;c++)""<a&&(a+=", "),b=arguments[c],"object"==typeof b&&(b=b.toString()),a+=b;__dump__(a)}function _setLogFlagLevel(a,b){ydbg.logFlag=a;ydbg.logLevel=b}function _dumpy(a,b){if(ydbg.logFlag&a&&ydbg.logLevel>=b){for(var c="",d,e=2;e<arguments.length;e++)""<c&&(c+=", "),d=arguments[e],"object"==typeof d&&(d=d.toString()),c+=d;__dump__(c)}}
var yloaderBase=function(){var a={};(function(){if("object"==typeof document)var b=document.getElementsByTagName("script"),b=b[b.length-1].src.split("?")[0].split("/").slice(0,-1).join("/")+"/";else b="./";a.selfLocation=b;_dump("Loading from "+b)})();a.isWorker="function"==typeof importScripts;a.isMobile=!a.isWorker&&"undefined"!==typeof window.orientation;a.isChromeExtension=!a.isWorker&&(window.chrome&&chrome.runtime&&chrome.runtime.id||"chrome-extension:"==a.selfLocation.substr(0,17));a.isChromeSandbox=
!a.isWorker&&a.isChromeExtension&&!chrome.storage;a.loadLibrary=function(b){var c;if(""<b){if("chrome-extension:"!=a.selfLocation.substr(0,17))b=a.selfLocation+"/"+b+"?v=0.8.49";else{for(var d=a.selfLocation.split("/"),e="",f=3;f<d.length;f++)""<d[f]&&(""<e&&(e+="/"),e+=d[f]);b=e+"/"+b+"?v=0.8.34"}b=b.replace(/\/\//g,"/");b=b.replace("http:/","http://");d=b.split("/");0<d.length&&(c=d[d.length-1]);"function"==typeof importScripts?importScripts(b):(d=document.createElement("script"),d.type=
0<b.indexOf(".js")?"text/javascript":0<b.indexOf(".css")?"text/css":"text/text",d.src=b,document.getElementsByTagName("head")[0].appendChild(d));_dump(c+" added")}};a.isWorker||(a.priorOnload=window.onload,window.onload=function(){var b="CSS1Compat"===document.compatMode?document.documentElement:document.body,c=document.getElementById("screen");c&&(c.style.width=b.clientWidth+"px");void 0!=a.priorOnLoad&&a.priorOnLoad()});return a};_dump("R1");var yloader=yloaderBase();_dump("R2");
(function(){y$=function(a,b,c){var d=null;""<a&&(("#"==a.substr(0,1)&&(a=a.substr(1)),(d=document.getElementById(a))||(d=document.getElementsByName(a)[0]),d)?"undefined"!==typeof b&&(c=0+c,d.getElementsByTagName&&(a=d.getElementsByTagName(b),0<a.length&&(d=a[c]))):("."==a.substr(0,1)&&(a=a.substr(1)),c=getElementsByClassName(document,"*",a),0<c.length&&(d=c)));return d}})();"undefined"==typeof $&&($=y$);
function $frame(a){"./"==a.substr(0,2)&&(a=a.substr(2));var b;"../"==a.substr(0,3)?(b=parent,a=a.substr(3)):"/"==a?(a="",b=top):"/"==a.substr(0,1)?(b=top,a=a.substr(1)):b=self;if(""<a){a=a.split("/");for(var c=0;c<a.length;c++)b=b.frames[a[c]]}return b}function $frameByName(a){_searchFrameByName_=function(a,c){var d=null;if(a.frames)for(var e=0;null===d&&e<a.frames.length;e++)d=a.frames[e].name==c?a.frames[e]:_searchFrameByName_(a.frames[e],c);return d};return _searchFrameByName_(top,a)}
function $frameOwner(a,b){_searchFunctionInFrame_=function(a,b,c){var h;if(eval("typeof f."+a+"=='"+b+"'"))h=c;else{var g=0;if(c.frames)for(;g<c.frames.length&&void 0===h;)h=_searchFunctionInFrame_(a,b,c.frames[g++])}return h};var c=$frame("/");return _searchFunctionInFrame_(a,b,c)}
function produceWaitMsg(a){return'<style type="text/css">\x3c!--.yWarnBanner {  font-family: Georgia, "Times New Roman", Times, serif;  font-size: 16px;  font-style: normal; font-variant: normal; font-weight: normal;  text-transform: none; margin: 16px; padding: 8px; background-color: #DFEEF2;  border: 1px dotted #387589; line-height: 24px;}--\x3e</style>'+'<div class=yWarnBanner><img src="images/waitIcon.gif" height=18px>&nbsp;{0}&nbsp;</div>'.format(a)}
function getElementsByAttribute(a,b,c,d){console.log("getElementsByAttribute()");a=a.getElementsByTagName(b);b=[];for(var e="undefined"!=typeof d?new RegExp("(^|\\s)"+d+"(\\s|$)","i"):null,f,h,g=0;g<a.length;g++)f=a[g],h=f.getAttribute&&f.getAttribute(c),"string"==typeof h&&0<h.length&&("undefined"==typeof d||e&&e.test(h))&&b.push(f);return b}
if("undefined"==typeof getElementsByClassName){var getElementsByClassName=function(a,b,c){a=a.getElementsByTagName(b);b=[];for(var d,e=0;e<a.length;e++)(d=a[e])&&"function"==typeof d.hasClass&&d.hasClass(c)&&b.push(d);null==b&&(b=document.getElementsByClassName(c));return b};console.log("Using own 'getElementsByClassName()' function")}
var getClientSize=function(){var a=document&&document.documentElement?document.documentElement:{clientWidth:800,clientHeight:600},b=window?window:{innerWidth:800,innerHeight:600},c=Math.max(a.clientWidth,b.innerWidth||0),a=Math.max(a.clientHeight,b.innerHeight||0);return[c,a]};
if("undefined"==typeof resizeIframe)var resizeIframe=function(a,b){b=b||{};b.width=b.width||0;b.height=b.height||0;var c,d;c=screen.height;d=a.contentWindow.document.body.scrollHeight+40-b.height;c=Math.max(c,d);a.style.height=c+"px";c=screen.width;d=a.contentWindow.document.body.scrollWidth+40-b.width;c=Math.max(c,d);a.style.width=c+"px";(c=a.getAttribute("onResize"))&&eval(c)};var _expectedType;_expectedType=isOnMobile()&&3>parseInt(getAndroidVersion(),10)?"object":"function";
_dump("ExpectedType="+_expectedType);_dump("typeof HTMLElement = "+typeof HTMLElement);
typeof HTMLElement==_expectedType&&(HTMLElement.prototype.hasClass=function(a){var b=!1;if(this.className)for(var c=this.className.split(" "),d=0;d<c.length;d++)c[d]==a&&(b=!0);return b},HTMLElement.prototype.deleteClass=function(a){for(var b="",c=this.className.split(" "),d=0;d<c.length;d++)c[d]!=a&&(""<b&&(b+=" "),b+=c[d]);this.className=b;return this},HTMLElement.prototype.removeClass=HTMLElement.prototype.deleteClass,HTMLElement.prototype.addClass=function(a){for(var b=!1,c=this.className.split(" "),
d=0;d<c.length;d++)c[d]==a&&(b=!0);b||(this.className=a+" "+this.className);return this},HTMLElement.prototype.siblings=function(){for(var a=this.parentNode.firstChild,b=[];a;)a!=this&&1==a.nodeType&&b.push(a),a=a.nextSibling;return b},HTMLElement.prototype.getAttribute||(HTMLElement.prototype.getAttribute=function(a){for(var b="",c=0;c<this.attributes.length;c++)this.attributes[c].name==a&&(b=attributes[c].value);return b}),HTMLElement.prototype.block||(HTMLElement.prototype.block=function(){this.setAttribute("blocked",
"blocked");return this}),HTMLElement.prototype.unblock||(HTMLElement.prototype.unblock=function(){this.removeAttribute("blocked");return this}),HTMLElement.prototype.isBlocked||(HTMLElement.prototype.isBlocked=function(){var a=this.getAttribute("blocked");return"string"==typeof a&&"blocked"==a.toLowerCase()}),HTMLElement.prototype.lock||(HTMLElement.prototype.lock=function(){this.isBlocked()||(this.readOnly=!0);return this}),HTMLElement.prototype.unlock||(HTMLElement.prototype.unlock=function(){this.isBlocked()||
(this.readOnly=!1);return this}));Array.prototype.forEach||(Array.prototype.forEach=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!==typeof a)throw new TypeError;for(var d=2<=arguments.length?arguments[1]:void 0,e=0;e<c;e++)e in b&&a.call(d,b[e],e,b)});var mergeObject=function(a,b,c){void 0===c&&(c=!1);for(var d in a)a.hasOwnProperty(d)&&(void 0===b[d]||c)&&(b[d]=a[d])};
function isEmpty(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}String.prototype.ucFirst||(String.prototype.ucFirst=function(){return this.charAt(0).toUpperCase()+this.slice(1)});String.prototype.lcFirst||(String.prototype.lcFirst=function(){return this.charAt(0).toLowerCase()+this.slice(1)});String.prototype.repeat||(String.prototype.repeat=function(a,b){return Array((a||1)+1).join(b||this)});
String.prototype.quoteString||(String.prototype.quoteString=function(a){void 0===a&&(a=!1);var b=this.valueOf();isNumber(b)?b=parseFloat(b):a&&""===b?b=null:(b=this.replace(/\"/g,'\\"'),b='"'+b+'"');return b});String.prototype.quote||(String.prototype.quote=function(){return'"'+this.replace(/\"/g,'\\"')+'"'});
String.prototype.unquote||(String.prototype.unquote=function(){var a="",b="";if(1<this.length)if(a=this.substr(0,1),b=this.substr(this.length-1,1),a==b){if('"'==b||"'"==b)return this.substr(1,this.length-2)}else return"("==a&&")"==b||"["==a&&"]"==b||"{"==a&&"}"==b?this.substr(1,this.length-2):this.toString()+"";else return this.toString()+""});
String.prototype.format||(String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})});String.prototype.isCPF||(String.prototype.isCPF=function(){var a,b=this;if(11!=(b=b.replace(/[^\d]/g,"").split("")).length||(new RegExp("^"+b[0]+"{11}$")).test(b.join("")))return!1;a=10;for(i=n=0;2<=a;n+=b[i++]*a--);if(b[9]!=(2>(n%=11)?0:11-n))return!1;a=11;for(i=n=0;2<=a;n+=b[i++]*a--);return b[10]!=(2>(n%=11)?0:11-n)?!1:!0});
String.prototype.isEmail||(String.prototype.isEmail=function(){return isEmail(this)});String.prototype.isCNPJ||(String.prototype.isCNPJ=function(){var a,b=[6,5,4,3,2,9,8,7,6,5,4,3,2],c=this;if(14!=(c=c.replace(/[^\d]/g,"").split("")).length)return!1;for(n=a=0;12>a;n+=c[a]*b[++a]);if(c[12]!=(2>(n%=11)?0:11-n))return!1;for(n=a=0;12>=a;n+=c[a]*b[a++]);return c[13]!=(2>(n%=11)?0:11-n)?!1:!0});
String.prototype.toFloat||(String.prototype.toFloat=function(){n=this;n=n.replace(":","");var a=n.indexOf("."),b=n.indexOf(",");a<b&&(n=n.replace(".",""));n=n.replace(",",".");return parseFloat(n)});Function.prototype.method=function(a,b){this.prototype[a]=b;return this};Function.method("inherits",function(a){this.prototype=new a;return this});"function"!==typeof Object.create&&(Object.create=function(a){var b=function(){};b.prototype=a;return new b});
Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c=this.length>>>0,d=Number(b)||0,d=0>d?Math.ceil(d):Math.floor(d);for(0>d&&(d+=c);d<c;d++)if(d in this&&this[d]===a)return d;return-1});
var forceStringValue=function(a,b){return((a[b]||"")+"").unquote()},suggestKeyName=function(a,b,c,d){var e=null;if(b){var f;if(isArray(a)){f={};for(var h=0;h<a.length;h++)aColName=a[h],f[aColName]=aColName}else f=a;a=b.toUpperCase();for(var g in f)f.hasOwnProperty(g)&&g.toUpperCase()==a&&(e=g);(c||d)&&null===e&&(c=c||"",d=d||"",a.substr(0,c.length)==c.toUpperCase()&&(b=b.substr(c.length),e=suggestKeyName(f,b)),null===e&&a.substr(a.length-d.length)==d.toUpperCase()&&(b=b.substr(0,b.length-d.length),
e=suggestKeyName(f,b)))}return e};"undefined"==typeof Date.prototype.nextMonth&&(Date.prototype.nextMonth=function(){var a=this.getMonth();this.setMonth(a+1);this.getMonth()!=a+1&&0!==this.getMonth()&&this.setDate(0)});"undefined"==typeof Date.prototype.prevMonth&&(Date.prototype.prevMonth=function(){var a=this.getMonth();this.setMonth(a-1);this.getMonth()!=a-1&&(11!=this.getMonth()||11==a&&1==this.getDate())&&this.setDate(0)});
"undefined"==typeof Date.prototype.incMonth&&(Date.prototype.incMonth=function(a){var b=this.getMonth();this.setMonth(b+a);this.getMonth()!=b+a&&(11!=this.getMonth()||11==b&&1==this.getDate())&&this.setDate(0)});"undefined"==typeof Date.prototype.nextDay&&(Date.prototype.nextDay=function(){this.setTime(this.getTime()+864E5)});"undefined"==typeof Date.prototype.prevDay&&(Date.prototype.prevDay=function(){this.setTime(this.getTime()-864E5)});
"undefined"==typeof Date.prototype.nextWeek&&(Date.prototype.nextWeek=function(){this.setTime(this.getTime()+6048E5)});"undefined"==typeof Date.prototype.prevWeek&&(Date.prototype.prevWeek=function(){this.setTime(this.getTime()-6048E5)});"undefined"==typeof Date.prototype.daysInMonth&&(Date.prototype.daysInMonth=function(a,b){b||(b=this.getFullYear());a||(a=this.getMonth()+1);return 32-(new Date(parseInt(b),parseInt(a)-1,32)).getDate()});
"undefined"==typeof Date.prototype.toFrenchString&&(Date.prototype.toFrenchString=function(){return""+this.getDate()+"/"+(this.getMonth()+1)+"/"+this.getFullYear()});"undefined"==typeof Date.prototype.toUDate&&(Date.prototype.toUDate=function(){return""+pad(this.getFullYear(),4)+pad(this.getMonth()+1,2)+pad(this.getDate(),2)+pad(this.getHours(),2)+pad(this.getMinutes(),2)+pad(this.getSeconds(),2)});
"undefined"==typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+pad(this.getUTCMonth()+1,2)+"-"+pad(this.getUTCDate(),2)+"T"+pad(this.getUTCHours(),2)+":"+pad(this.getUTCMinutes(),2)+":"+pad(this.getUTCSeconds(),2)+"."+String((this.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"});"undefined"==typeof Date.prototype.frenchFormat&&(Date.prototype.frenchFormat=function(){return this.getDate()+"/"+(this.getMonth()+1)+"/"+this.getFullYear()});
var extractDateValues=function(a,b,c){var d=function(a){var b=(a.match(/\//g)||[]).length;a=(a.match(/\-/g)||[]).length;return b>a?"/":0<a?"-":""},e=d(b),d=d(a),f,h=null;if(""<e){var h=[],g=b.split(e);for(f=0;f<g.length;f++)h[g[f].substr(0,1)]=f;for(f=a.split(e);f.length<g.length;)a=a+e+"01",f[f.length]=0}f=function(c){var d=b.indexOf(c),f=0;if(0<=d){for(var g;d+f<b.length&&b.substr(d+f,1)==c;)f++;g=0<(c.match(/[y,m,d]/g)||[]).length&&null!==h?a.split(e)[h[c]].split(" ")[0]:str2int(a.substr(d,f));
return[d,g,c,f]}return[null,null,c]};g=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c][1];null!==d&&(d=d.toString(),1==d.length?d=pad(d,2):3==d.length&&(d=pad(d,4)));b[a[c][2]]=d}return b};void 0===b&&(b="yyyy-mm-dd hh:mm:ss");if(""===a)return c=[],c.y="",c.d="",c.m="",c.H="",c.M="",c.S="",c;void 0===c&&(c={});c.elems=[f("y"),f("m"),f("d"),f("H"),f("M"),f("S")];if(d==e&&0<c.elems[1][1]&&13>c.elems[1][1]&&1<=c.elems[2][1]&&31>=c.elems[2][1])c=g(c.elems);else{c=c.elems;c.sort(function(a,b){if(a[0]===
b[0])return 0;if(a[0]<b[0]||null===b[0])return-1;if(a[0]>b[0]||null===a[0])return 1});d=a.match(/\b[\d]+\b/g);for(f=0;f<c.length&&f<d.length;f++)c[f][1]=d[f];c=0<c[0][1]*c[1][1]*c[2][1]?g(c):null}return c},array2date=function(a){return pad(a.d,2)+"-"+pad(a.m,2)+"-"+a.y};
function time2minutes(a){if(void 0===a||"NaN"==a)a=0;var b=0,c=0;""<a&&(c=a.indexOf("h"),0>c&&(c=a.indexOf(":")),0<=c?(b=a.substring(0,c),c=parseInt(a.substring(c+1)),isNaN(c)&&(c=0)):(b=0,c=parseInt(a)),a=60*b+c);0>a&&(a=0);return a}function minutes2time(a){var b=Math.floor(a/60);a=pad(a%60,2);return b+":"+a}function timestamp2dayOfWeek(a){var b=new Date;b.setTime(1E3*a);return b.getDay()}
function TimezoneDetect(){var a=new Date("1/1/"+(new Date).getUTCFullYear()),b=1E4,c;for(c=0;12>c;c++)a.setUTCMonth(a.getUTCMonth()+1),b>-1*a.getTimezoneOffset()&&(b=-1*a.getTimezoneOffset());return b}function timestamp2date(a){if(!isNaN(a)&&""<a){var b=new Date;b.setTime(1E3*a+6E4*(-TimezoneDetect()-b.getTimezoneOffset()));return pad(b.getDate(),2)+"/"+pad(b.getMonth()+1,2)+"/"+pad(b.getFullYear(),4)}return""}
function timestamp2time(a,b){var c;if(void 0===a)c="";else if(""===a||isNaN(a))c="";else{void 0===b&&(b=!1);var d=new Date;d.setTime(1E3*a);c=pad(d.getHours(),2)+":"+pad(d.getMinutes(),2);b&&(c=c+":"+pad(d.getSeconds(),2))}return c}
function FDate2UDate(a){a=a||(new Date("1/1/1900")).toFrenchString();a=0<a.indexOf("/")?a.split("/"):a.split("-");var b=a[2]||"",b=b.split(" ");a[2]=b[0];b=b[1];void 0===b&&(b="00:00:00");b=b.split(":");void 0===b[1]&&(b[1]=0);void 0===b[2]&&(b[2]=0);return pad(a[2],4)+"-"+pad(a[1],2)+"-"+pad(a[0],2)+" "+pad(b[0],2)+":"+pad(b[1],2)+":"+pad(b[2],2)}
function UDate2JSDate(a){a=extractDateValues(a,"yyyymmddHHMMSS");var b=new Date;b.setFullYear(a.y);b.setMonth(a.m-1);b.setDate(a.d);b.setHours(a.H);b.setMinutes(a.M);return b}function UDate2Date(a,b){"undefined"===typeof b&&(b="d/m/y");var c="",d=extractDateValues(a,"yyyymmddHHMMSS");d&&(c="");for(var e=0;e<b.length;e++)c=/^[d,m,y]+$/.test(b[e])?c+d[b[e]]:c+b[e];return c}
function UDate2Time(a,b){"undefined"===typeof b&&(b="H:M:S");var c="",d=extractDateValues(a,"yyyymmddHHMMSS");if(d)for(var c="",e=0;e<b.length;e++)c=/^[H,M,S]+$/.test(b[e])?c+d[b[e]]:c+b[e];return c}function IBDate2Date(a){var b="";(a=extractDateValues(a,"mmddyyyyHHMMSS"))&&(b=a.d+"-"+a.m+"-"+a.y);return b}function date2IBDate(a){var b="";(a=extractDateValues(a,"ddmmyyyyHHMMSS"))&&(b=pad(a.m,2)+"-"+pad(a.d,2)+"-"+a.y);return b}
function date2UDate(a){var b="";(a=extractDateValues(a,"ddmmyyyyHHMMSS"))&&(b=pad(a.y,4)+"-"+pad(a.m,2)+"-"+pad(a.d,2));return b}function IBDate2timestamp(a){a=IBDate2Date(a);return a=date2timestamp(a)}function timestamp2IBDate(a){a=timestamp2date(a);return a=date2IBDate(a)}
var dateTransform=function(a,b,c){if(a){if(a=extractDateValues(a,b)){b={};extractDateValues("111111111111",c,b);var d=c;for(c=0;c<b.elems.length;c++){var e=b.elems[c];if(null!==e[0]){for(var f=pad(a[e[2]],e[3]);d.length<e[0]+e[3];)d+=" ";d=d.substr(0,e[0])+f+d.substr(e[0]+e[3],d.length)}}}return d}return null};function isInfinity(a){return void 0!==a?a.POSITIVE_INFINITY||a.NEGATIVE_INFINITY||"Infinity"==a:!0}
function isNumber(a){"string"===typeof a&&(a=a.toFloat());return!isNaN(parseFloat(a))&&isFinite(a)}var isArray=function(a){return a&&"object"===typeof a&&"number"===typeof a.length&&"function"===typeof a.splice&&!a.propertyIsEnumerable("length")};function isEmail(a){a=a&&a.unquote()||"";return/^(([^\*<>()[\]\\.,;:\s@\"]+(\.[^\*<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)}
function pad(a,b){for(var c=""+a;c.length<b;)c="0"+c;return c}function unmaskHTML(a){if("string"==typeof a){if(0<a.length){var b=a.substr(0,1);if('"'==b||"'"==b){var c=a.substr(a.length-1);b==c&&(a=a.substr(1,a.length-2))}}for(;0<=a.indexOf("!!");)a=a.replace("!!","&");a=a.replace(/\&\#91\;/g,"<");a=a.replace(/\&\#93\;/g,">");a=a.replace(/\[/g,"<");a=a.replace(/\]/g,">")}else a="number"==typeof a?a.toString():"";return a}
function escapeRegExp(a){return a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function maskHTML(a){a=a||"";if("string"==typeof a){for(;0<=a.indexOf("<");)a=a.replace(/\</,"[");for(;0<=a.indexOf(">");)a=a.replace(/\>/,"]");for(;0<=a.indexOf("&");)a=a.replace("&","!!")}return a}function trim(a){return a.replace(/^\s+|\s+$/g,"")}function unparentesis(a){1<a.length&&("("==a.substring(0,1)||"["==a.substring(0,1)||"{"==a.substring(0,1))&&(a=a.substring(1,a.length-1));return a}
function wordwrap(a,b,c,d){c=c||"\n";b=b||75;return a?a.match(RegExp(".{1,"+b+"}(\\s|$)"+(d?"|.{"+b+"}|.+$":"|\\S+?(\\s|$)"),"g")).join(c):a}function nl2br(a){var b="";void 0!==a&&(b=a.replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br>$2"));return b}function str2double(a){void 0===a&&(a="0");var b="",b=0<a.indexOf(",")&&0<a.indexOf(".")?a.replace(".",""):a,b=b.replace(",",".");""===b&&(b="0.00");b=parseFloat(b);isNaN(b)&&(b=0);a=parseFloat(b).toFixed(2);return a=parseFloat(a)}
function str2int(a){a=parseInt(a);return null===a||isNaN(a)?0:a}function str2bool(a,b){void 0===b&&(b=!1);return a=void 0===a?b:"TRUE"==a.toUpperCase()}function bool2str(a){return a?"TRUE":"FALSE"}function dec2hex(a){return a.toString(16)}function hex2dec(a){return parseInt(a,16)}
var rowColorSpecBase=function(){return that={cfgColors:["#F2F0F0","#CFCFCF"],suggestRowColor:function(a){return this.cfgColors[a%2]},setRowColors:function(a,b){this.cfgColors[0]=a||this.cfgColors[0];this.cfgColors[1]=b||this.cfgColors[1]}}},rowColorSpec=rowColorSpecBase();function decomposeColor(a){"#"==a.substr(0,1)&&(a=a.substr(1));var b=hex2dec(a.substr(0,2)),c=hex2dec(a.substr(2,2));a=hex2dec(a.substr(4,2));return[b,c,a]}
function complementaryColor(a){a=decomposeColor(a);for(var b=0;3>b;b++)a[b]=Math.floor(a[b]/3),a[b]=32*Math.floor(a[b]/32),a[b]=250-Math.min(250,a[b]);return"#"+(dec2hex(a[0])+dec2hex(a[1])+dec2hex(a[2]))}function grayColor(a){a=decomposeColor(a);a=(32*Math.floor(a[0]/32)+32*Math.floor(a[1]/32)+32*Math.floor(a[2]/32))/3;a=dec2hex(a);return a+a+a}
var xml2array=function(a){var b,c={};c.not_whitespace=new RegExp(/[^\s]/);c.parent_count=null;c.xml2array=function(a,e){var f,h,g,k="";e=e||{};a.nodeName&&"#"!=a.nodeName.charAt(0)&&1<a.childNodes.length&&(f={},k=a.nodeName);var s=a.nodeValue;a.parentNode&&a.parentNode.nodeName&&s&&c.not_whitespace.test(s)&&(f={},f[a.parentNode.nodeName]=s);if(a.childNodes.length)if(1==a.childNodes.length)f=c.xml2array(a.childNodes[0],e);else{f||(f=[]);for(var w=s=0;w<a.childNodes.length;w++)if(g=c.xml2array(a.childNodes[w],
e)){h=!1;var v=0,t=null;for(b in g)if(g.hasOwnProperty(b)&&(t=b,isNaN(b)&&(h=!0),v++,2<v))break;if(h&&1==v)if(f[t])e&&e[t]||(e[t]=0,h=f[t],f[t]={},f[t][0]=h),e[t]++,f[t][e[t]]=g[t];else{if(e[t]=0,f[t]=g[t],a.childNodes[w].attributes&&a.childNodes[w].attributes.length)for(g=0;g<a.childNodes[w].attributes.length;g++)if(h=a.childNodes[w].attributes[g].nodeName)f["attribute_"+t+"_"+h]=a.childNodes[w].attributes[g].value}else f[s]=g,s++}}k&&f&&(g=f,f={},f[k]=g);return f};return c.xml2array(a)},utf8_decode=
function(a){var b=[],c=0,d=0,e=0,f=0,h=0,g=0;for(a+="";c<a.length;)e=a.charCodeAt(c),191>=e?(b[d++]=String.fromCharCode(e),c++):223>=e?(f=a.charCodeAt(c+1),b[d++]=String.fromCharCode((e&31)<<6|f&63),c+=2):239>=e?(f=a.charCodeAt(c+1),h=a.charCodeAt(c+2),b[d++]=String.fromCharCode((e&15)<<12|(f&63)<<6|h&63),c+=3):(f=a.charCodeAt(c+1),h=a.charCodeAt(c+2),g=a.charCodeAt(c+3),e=(e&7)<<18|(f&63)<<12|(h&63)<<6|g&63,e-=65536,b[d++]=String.fromCharCode(55296|e>>10&1023),b[d++]=String.fromCharCode(56320|e&
1023),c+=4);return b.join("")},utf8_encode=function(a){if(null===a||"undefined"===typeof a)return"";a+="";var b="",c,d,e=0;c=d=0;for(var e=a.length,f=0;f<e;f++){var h=a.charCodeAt(f),g=null;if(128>h)d++;else if(127<h&&2048>h)g=String.fromCharCode(h>>6|192,h&63|128);else if(55296!=(h&63488))g=String.fromCharCode(h>>12|224,h>>6&63|128,h&63|128);else{if(55296!=(h&64512))throw new RangeError("Unmatched trail surrogate at "+f);g=a.charCodeAt(++f);if(56320!=(g&64512))throw new RangeError("Unmatched lead surrogate at "+
(f-1));h=((h&1023)<<10)+(g&1023)+65536;g=String.fromCharCode(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}null!==g&&(d>c&&(b+=a.slice(c,d)),b+=g,c=d=f+1)}d>c&&(b+=a.slice(c,e));return b},generateUUID=function(){var a=(new Date).getTime();window.performance&&"function"===typeof window.performance.now&&(a+=performance.now());return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"==b?c:c&3|8).toString(16)})};
function guid(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}
var md5=function(a){var b=function(a,b){var c,d,e,f,g;e=a&2147483648;f=b&2147483648;c=a&1073741824;d=b&1073741824;g=(a&1073741823)+(b&1073741823);return c&d?g^2147483648^e^f:c|d?g&1073741824?g^3221225472^e^f:g^1073741824^e^f:g^e^f},c=function(a,c,d,e,f,g,h){a=b(a,b(b(c&d|~c&e,f),h));return b(a<<g|a>>>32-g,c)},d=function(a,c,d,e,f,g,h){a=b(a,b(b(c&e|d&~e,f),h));return b(a<<g|a>>>32-g,c)},e=function(a,c,d,e,f,g,h){a=b(a,b(b(c^d^e,f),h));return b(a<<g|a>>>32-g,c)},f=function(a,c,d,e,f,g,h){a=b(a,b(b(d^
(c|~e),f),h));return b(a<<g|a>>>32-g,c)},h=function(a){var b="",c="",d;for(d=0;3>=d;d++)c=a>>>8*d&255,c="0"+c.toString(16),b+=c.substr(c.length-2,2);return b},g=[],k,s,w,v,t,m,p,l,q;a=this.utf8_encode(a);g=function(a){var b,c=a.length;b=c+8;for(var d=16*((b-b%64)/64+1),e=Array(d-1),f=0,g=0;g<c;)b=(g-g%4)/4,f=g%4*8,e[b]|=a.charCodeAt(g)<<f,g++;b=(g-g%4)/4;e[b]|=128<<g%4*8;e[d-2]=c<<3;e[d-1]=c>>>29;return e}(a);m=1732584193;p=4023233417;l=2562383102;q=271733878;a=g.length;for(k=0;k<a;k+=16)s=m,w=p,
v=l,t=q,m=c(m,p,l,q,g[k+0],7,3614090360),q=c(q,m,p,l,g[k+1],12,3905402710),l=c(l,q,m,p,g[k+2],17,606105819),p=c(p,l,q,m,g[k+3],22,3250441966),m=c(m,p,l,q,g[k+4],7,4118548399),q=c(q,m,p,l,g[k+5],12,1200080426),l=c(l,q,m,p,g[k+6],17,2821735955),p=c(p,l,q,m,g[k+7],22,4249261313),m=c(m,p,l,q,g[k+8],7,1770035416),q=c(q,m,p,l,g[k+9],12,2336552879),l=c(l,q,m,p,g[k+10],17,4294925233),p=c(p,l,q,m,g[k+11],22,2304563134),m=c(m,p,l,q,g[k+12],7,1804603682),q=c(q,m,p,l,g[k+13],12,4254626195),l=c(l,q,m,p,g[k+14],
17,2792965006),p=c(p,l,q,m,g[k+15],22,1236535329),m=d(m,p,l,q,g[k+1],5,4129170786),q=d(q,m,p,l,g[k+6],9,3225465664),l=d(l,q,m,p,g[k+11],14,643717713),p=d(p,l,q,m,g[k+0],20,3921069994),m=d(m,p,l,q,g[k+5],5,3593408605),q=d(q,m,p,l,g[k+10],9,38016083),l=d(l,q,m,p,g[k+15],14,3634488961),p=d(p,l,q,m,g[k+4],20,3889429448),m=d(m,p,l,q,g[k+9],5,568446438),q=d(q,m,p,l,g[k+14],9,3275163606),l=d(l,q,m,p,g[k+3],14,4107603335),p=d(p,l,q,m,g[k+8],20,1163531501),m=d(m,p,l,q,g[k+13],5,2850285829),q=d(q,m,p,l,g[k+
2],9,4243563512),l=d(l,q,m,p,g[k+7],14,1735328473),p=d(p,l,q,m,g[k+12],20,2368359562),m=e(m,p,l,q,g[k+5],4,4294588738),q=e(q,m,p,l,g[k+8],11,2272392833),l=e(l,q,m,p,g[k+11],16,1839030562),p=e(p,l,q,m,g[k+14],23,4259657740),m=e(m,p,l,q,g[k+1],4,2763975236),q=e(q,m,p,l,g[k+4],11,1272893353),l=e(l,q,m,p,g[k+7],16,4139469664),p=e(p,l,q,m,g[k+10],23,3200236656),m=e(m,p,l,q,g[k+13],4,681279174),q=e(q,m,p,l,g[k+0],11,3936430074),l=e(l,q,m,p,g[k+3],16,3572445317),p=e(p,l,q,m,g[k+6],23,76029189),m=e(m,p,l,
q,g[k+9],4,3654602809),q=e(q,m,p,l,g[k+12],11,3873151461),l=e(l,q,m,p,g[k+15],16,530742520),p=e(p,l,q,m,g[k+2],23,3299628645),m=f(m,p,l,q,g[k+0],6,4096336452),q=f(q,m,p,l,g[k+7],10,1126891415),l=f(l,q,m,p,g[k+14],15,2878612391),p=f(p,l,q,m,g[k+5],21,4237533241),m=f(m,p,l,q,g[k+12],6,1700485571),q=f(q,m,p,l,g[k+3],10,2399980690),l=f(l,q,m,p,g[k+10],15,4293915773),p=f(p,l,q,m,g[k+1],21,2240044497),m=f(m,p,l,q,g[k+8],6,1873313359),q=f(q,m,p,l,g[k+15],10,4264355552),l=f(l,q,m,p,g[k+6],15,2734768916),
p=f(p,l,q,m,g[k+13],21,1309151649),m=f(m,p,l,q,g[k+4],6,4149444226),q=f(q,m,p,l,g[k+11],10,3174756917),l=f(l,q,m,p,g[k+2],15,718787259),p=f(p,l,q,m,g[k+9],21,3951481745),m=b(m,s),p=b(p,w),l=b(l,v),q=b(q,t);return(h(m)+h(p)+h(l)+h(q)).toLowerCase()};
if("object"==typeof window&&"undefined"==typeof _onLoadMethods){var _onLoadMethods=[];window.addOnLoadManager=function(a){_onLoadMethods[_onLoadMethods.length]=a};document.addEventListener("DOMContentLoaded",function(a){mTabNav&&mTabNav.init()});window.addEventListener("load",function(){for(var a=0;a<_onLoadMethods.length;a++)if(_onLoadMethods.hasOwnProperty(a)&&void 0!==_onLoadMethods[a])_onLoadMethods[a]();isOnMobile()||(a=new Event("deviceready"),document.dispatchEvent(a))},!1);var addEvent=function(a,
b,c){"string"==typeof a&&(a=y$(a));if(null!==a&&"undefined"!==typeof a){var d;if(isArray(a))for(d=0;d<a.length;d++)addEvent(a[d],b,c);else{b=b.split(" ");var e;for(d=0;d<b.length;d++)e=b[d],a.addEventListener?a.addEventListener(e,c,!1):a.attachEvent?a.attachEvent("on"+e,c):a["on"+e]=c}}},removeEvent=function(a,b,c){"string"==typeof a&&(a=y$(a));if(null!==a&&"undefined"!==typeof a)if(isArray(a))for(b=0;b<a.length;b++)removeEvent(a[b],c);else{var d=b.split(" "),e;for(b=0;b<d.length;b++)e=d[b],a.addEventListener?
a.removeEventListener(e,c,!1):a.detachEvent?a.detachEvent("on"+e,c):a["on"+e]=null}}}_dump("ymisc");
function yAnalise(a,b){if(void 0!=a){a=unmaskHTML(a);for(var c=/%[+(\w)]|[]\(/gi,d,e="";0<=(d=a.search(c));){var e=a.slice(d).search(/\(/),f=a.slice(d+e+1,d+e+2);if('"'==f||"'"==f){var h,g=d+e+1;do g++,h=a.slice(g,g+1);while(h!=f&&g<a.length);f=g+a.slice(g).search(/\)/)-d}else f=a.slice(d).search(/\)/);var k=a.slice(d+1,d+e),e=h=a.slice(d+e+1,d+f);h=h.split(",");for(g=0;g<h.length;g++)h[g]=yAnalise(h[g],b);var e=void 0,g=h[0].toUpperCase(),s=h[0];if(void 0!=b)if(void 0==b[0])e=b[g]?yAnalise(b[g],
b):yAnalise(b[s],b);else for(var w=b.length-1;0<=w&&void 0==e;w--)void 0!=b[w][g]?e=yAnalise(b[w][g],b):void 0!=b[w][s]&&(e=yAnalise(b[w][s],b));else e="string"==eval("typeof "+s)?eval(s):yAnalise(s);void 0==e&&(e="");h[0]=e;switch(k){case "integer":case "int":case "intz":case "intn":e=str2int(e);0==e&&("intz"==k?e="-":"intn"==k&&(e=""));break;case "decimal":h=Math.max(0,parseInt(h[1]));e=parseFloat(e);e=e.toFixed(h);break;case "ibdate":e=IBDate2Date(e);break;case "tsdate":e=timestamp2date(e);break;
case "tstime":e=timestamp2time(e);break;case "date":e=h[1]?UDate2Date(e,h[1]):UDate2Date(e);break;case "time":e=h[1]?UDate2Time(e,h[1]):UDate2Time(e);break;case "nl2br":e=e.replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br>$2");break;case "words":k=e.split(" ");s=Math.max(0,str2int(h[1]));w=Math.max(k.length-1,str2int(h[2]));h=Math.max(0,str2int(h[3]));e="";for(g=s;g<s+w;g++){var v=onlyDefinedValue(k[g]);""<v&&(e+=" "+v)}0<h&&(e=wordwrap(e,h,"<br>",!0));break;case "quoted":e=('"'+e).trim()+'"';break;
case "singleQuoted":e=("'"+e).trim()+"'";break;case "condLabel":break;default:if(""<k&&"function"==eval("typeof "+k)){e="";for(g=0;g<h.length;g++)""<e&&(e+=","),e+="'"+h[g]+"'";e=("<script>"+k+"("+e+");\x3c/script>").evalScripts()}}a=a.slice(0,d)+e+a.slice(d+f+1)}}else a="";return a}_dump("yanalise");
var cfgDBbase=function(){return that={getConnParams:function(){var a=[];a.server=ystorage.getItem("server");a.user=ystorage.getItem("user");a.password=ystorage.getItem("password");a.token=ystorage.getItem("token");return a},setConnParams:function(a){ystorage.setItem("server",a.server);ystorage.setItem("user",a.user);ystorage.setItem("password",a.password);ystorage.setItem("token",a.token)}}},cfgDB=cfgDBbase();_dump("ycfgdb");
var ydragdropBase=function(){var a={info:{startX:0,startY:0,offsetX:0,offsetY:0,dragElement:null,overElement:null,oldZIndex:0,lastHighLight:null},highlight:function(b){null!=a.info.lastHighLight&&a.info.lastHighLight.deleteClass("highlight");(a.info.lastHighLight=b)&&a.info.lastHighLight.addClass("highlight")},getTarget:function(a){a||(a=window.event);return a.target?a.target:a.srcElement?a.srcElement:window.event},onMouseDown:function(b){null==b&&(b=window.event);var c=a.getTarget(b);"caption"==
c.className&&(c=c.parentNode);"title"==c.className&&(c=c.parentNode);if((1==b.button&&null!=window.event||0==b.button)&&"yes"==c.getAttribute("draggable")){document.body.style.cursor="move";a.info.startX=b.clientX;a.info.startY=b.clientY;a.info.offsetX=str2int(c.style.left);a.info.offsetY=str2int(c.style.top);a.info.oldZIndex=c.style.zIndex;b=0;for(var d=document.getElementsByTagName("div"),e=0;e<d.length;e++){var f=d[e];"yes"==f.getAttribute("draggable")&&f!=c&&parseInt(f.style.zIndex)>b&&(b=parseInt(f.style.zIndex))}for(e=
0;e<d.length;e++)f=d[e],"yes"==f.getAttribute("draggable")&&(f.style.zIndex=parseInt(f.style.zIndex)-1);c.style.zIndex=b+2;a.info.dragElement=c;document.body.focus();document.onselectstart=function(){return!1};c.ondragstart=function(){return!1};return!1}},onMouseMove:function(b){b||(b=window.event);var c=b.clientX,d=b.clientY;b=document.elementFromPoint(c,d);null!=a.info.dragElement?(a.info.overElement=b,a.info.dragElement.style.left=a.info.offsetX+c-a.info.startX+"px",a.info.dragElement.style.top=
a.info.offsetY+d-a.info.startY+"px",c=!0,b&&(c="yes"==b.getAttribute("droppable"),"function"==typeof b.ondragover&&(c=b.ondragover(a.info.dragElement)),c?a.highlight(b):a.highlight(null)),document.body.style.cursor=c?"crosshair":"move"):b&&document.body&&("yes"==b.getAttribute("draggable")?document.body.style.cursor="pointer":document.body.style.cursor="default")},onMouseUp:function(b){if(null!=a.info.dragElement){document.body.style.cursor="default";a.info.dragElement.style.zIndex=parseInt(a.info.dragElement.style.zIndex)-
1;document.onselectstart=null;a.info.dragElement.ondragstart=null;a.highlight(null);b=a.info.dragElement;a.info.dragElement=null;_dumpy(2,1,"mouse up over"+a.info.overElement.id);var c="yes"==a.info.overElement.getAttribute("droppable");if(c&&("function"==typeof a.info.overElement.ondragover&&(c=a.info.overElement.ondragover(b)),"function"==typeof a.info.overElement.ondrop&&c))a.info.overElement.ondrop(b)}}};"object"==typeof document&&(document.onmousedown=a.onMouseDown,document.onmouseup=a.onMouseUp,
document.onmousemove=a.onMouseMove);return a},ydragdrop=ydragdropBase();_dump("ydragdrop");
var tabNavBase=function(){var a={};isOnMobile()?(_dump("Loading mobile tabs"),a.tabchangeEvent=document.createEvent("Events"),a.tabchangeEvent.initEvent("tabchange"),a.tabblurEvent=document.createEvent("Events"),a.tabblurEvent.initEvent("tabblur"),a.tabfocusEvent=document.createEvent("Events"),a.tabfocusEvent.initEvent("tabfocus")):"function"==typeof Event?(_dump("Loading desktop tabs"),a.tabchangeEvent=new Event("tabchange"),a.tabblurEvent=new Event("tabblur"),a.tabfocusEvent=new Event("tabfocus")):
_dump("Tabs are not supported");a.currentTabNdx=-1;a.currentContainerNdx=-1;a.containerList=[];a.tabList=[];a.storage=null;a.initialized=-1;a.lock={returnTabId:null,locked:!1};a.isContainer=function(a){var c=!1;a&&(c=a.hasClass("tnContainer"));return c};a.isTab=function(a){var c=!1;a&&(c=a.hasClass("tnTab"));return c};a.getContainer=function(b){return a.containerList[b]};a.getCurrentContainer=function(){return a.getContainer(a.currentContainerNdx)};a.getContainerById=function(b){for(var c=null,d=
0;d<a.containerList.length;d++)a.containerList[d].element.id==b&&(c=a.containerList[d]);return c};a.getTabContainer=function(b){var c=null;if(b)for(var d=0;d<a.containerList.length&&null==c;d++)for(var e=0;e<a.containerList[d].childs.length&&null==c;e++)"string"==typeof b?a.containerList[d].childs[e].id==b&&(c=a.containerList[d]):a.containerList[d].childs[e]==b&&(c=a.containerList[d]);return c};a.getFirstTabInContainer=function(b){var c=null,d;"string"==typeof b&&(b=y$(b));a.isTab(b)?d=a.getTabContainer(b):
(b=a.getContainerNdx(b),0<=b&&(d=a.containerList[b]));d&&(c=d.childs[0]);return c};a.getFirstChildTab=function(b){var c=null;"string"==typeof b&&(b=y$(b));if(a.isTab(b)){var d=b.getElementsByClassName("tnContainer");d.hasOwnProperty("0")?(b=a.getContainerNdx(d[0]),0<=b&&(c=a.containerList[b].childs[0])):c=b}return c};a.getContainerFromParam=function(b,c){void 0==b?b=void 0==c?a.getCurrentContainer():a.getTabContainer(c):"string"==typeof b?b=a.getContainerById(b):isNumber(b)?b=a.getContainer(b):"object"!=
typeof b&&(_dump("getContainerFromParam() parameter is not null, valid string, object nor a number"),b=null);return b};a.getCurrentTabNdx=function(b){var c=-1;if(b=a.getContainerFromParam(b))c=b.currentTabNdx;return c};a.setCurrentContainer=function(b){0>a.initialized&&a.init();a.currentContainerNdx=b%a.containerList.length};a.getContainerNdx=function(b){for(var c=-1,d=0;d<a.containerList.length;d++)a.containerList[d].element==b&&(c=d);return c};a.addContainer=function(b){0>a.initialized&&a.init();
if(b&&0>a.getContainerNdx(b)){a.currentContainerNdx=a.containerList.length;a.containerList[a.currentContainerNdx]={childs:[],element:b,currentTabNdx:-1};b=b.getElementsByClassName("tnTab");for(var c in b)b.hasOwnProperty(c)&&"object"==typeof b[c]&&(a.containerList[a.currentContainerNdx].childs[a.containerList[a.currentContainerNdx].childs.length]=b[c])}};a.addTab=function(b){0>a.initialized&&a.init();if(b){var c=a.getCurrentContainer().childs;0>c.indexOf(b)&&(c[c.length]=b)}};a.init=function(b){if(0>
a.initialized){_dump("Initializing tabs");a.initialized=0;b=document.getElementsByClassName("tnContainer");var c=null,d=null,c=0;if(b)for(c=0;c<b.length;c++)d=b[c],a.addContainer(d);else _dump("ERROR: No containers defined. Use 'tnContainer' class on a DIV");if(b=document.getElementsByClassName("tnTab"))for(c=0;c<b.length;c++)a.hideTab(b[c]);else _dump("ERROR: No tabs defined. Use 'tnTab' class on a DIV");0<a.containerList.length&&(c=a.containerList[0].childs[0],a.displayTab(a.getFirstChildTab(c)));
a.currentContainerNdx=0;a.initialized=1}ycomm&&ycomm.setWaitIconControl(a.waitIconControl);return a};a.currentTab=function(){var b=a.getCurrentContainer();return-1<b.currentTabNdx?b.childs[b.currentTabNdx]:null};a.createTab=function(b,c){var d=null;void 0==y$(c)&&(d=document.createElement("div"),d.className="tnTab",d.style.display="none",d.id=c,b.appendChild(d),a.addTab(d),a.hideTab(d));return d};a.delTab=function(a){};a.displayTab=function(b,c){if(!a.changingView){a.changingView=!0;try{if(!a.locked()&&
b){0>a.initialized&&a.init();_dumpy(64,1,"displayTab "+b.id);var d=!0,e=0;if(d=b.dispatchEvent(a.tabchangeEvent)||d){var f=a.getContainerFromParam(c);if(f){_dumpy(64,1,"canchange");for(var d=-1,h=!1,e=0;e<f.childs.length;e++)f.childs[e]!=b?h|=!a.hideTab(f.childs[e],b,f):d=e;_dumpy(64,1,"readytochange "+!h);if(h)_dumpy(64,1,"freeze");else{a.setCurrentContainer(a.getContainerNdx(f));f.currentTabNdx=d;b.dispatchEvent(a.tabfocusEvent);b.style.display="block";for(f=b;f&&f!=document.body;)f.style.display=
"block",f=f.parentNode;for(var g=b.getElementsByTagName("*"),e=0;e<g.length;){if("checkbox"==g[e].type||"radio"==g[e].type||"password"==g[e].type||"hidden"==g[e].type||"text"==g[e].type||"select-one"==g[e].type||"textarea"==g[e].type){g[e].focus();break}e++}}}}_dumpy(64,1,"return")}}finally{a.changingView=!1}}};a.showWaitIcon=function(){y$("waitIcon")&&(y$("waitIcon").style.display="block")};a.hideWaitIcon=function(){y$("waitIcon")&&(y$("waitIcon").style.display="none")};a.waitIconControl=function(b){void 0!=
b&&(b?a.showWaitIcon():a.hideWaitIcon())};a.isInnerTab=function(a,c){var d=!1;if(a)for(var e=a;e&&e.parent!=e;)c==e&&(d=!0),e=e.parentNode;return d};a.hideTab=function(b,c,d){if(!a.locked()){_dumpy(64,1,"hideTab "+b.id);var e=!0;if(d=a.getContainerFromParam(d))if(d.childs.indexOf(b)==d.currentTabNdx){if(e=b.dispatchEvent(a.tabblurEvent)||e)d.currentTabNdx=-1}else e=!0;e&&"object"==typeof b&&!a.isInnerTab(c,b)&&(b.style.display="none");return e}};a.showNext=function(b){if(b=a.getContainerFromParam(b)){var c=
b.currentTabNdx;c<b.childs.length-1?a.displayTab(b.childs[c+1],b):a.displayTab(b.childs[0],b)}};a.showPrior=function(b){if(b=a.getContainerFromParam(b)){var c=b.currentTabNdx;0<c?a.displayTab(b.childs[c-1],b):a.displayTab(b.childs[b.childs.length-1],b)}};a.getCurrentTabId=function(b){var c=null;if(b=a.getContainerFromParam(b)){var d=b.currentTabNdx;-1<d&&(c=b.childs[d].id)}return c};a.showTab=function(b,c,d){if(!a.locked()){d=a.getContainerFromParam(d,b);void 0==b&&(b=d.childs[0].id);void 0==c&&(c=
!1);var e=document.getElementById(b),f="";e?(c&&(f=a.getCurrentTabId(d)),a.displayTab(e,d),c&&a.lockTab(b,f)):alert(b+" not found")}};a.locked=function(){return a.lock.locked};a.releaseLockedTabs=function(){for(var b=0;b<a.getCurrentContainer().childs.length;b++)a.getCurrentContainer().childs[b].locked&&(a.getCurrentContainer().childs[b].locked=!1);a.lock.locked=!1;a.lock.returnTabId=null};a.lockTab=function(b,c){a.locked()&&a.releaseLockedTabs();y$(b)&&(a.lock.locked=!0,y$(b).locked=!0,a.lock.returnTabId=
y$(c)?c:null)};a.unlockTab=function(b){a.locked()&&y$(b)&&y$(b).locked&&(b=a.lock.returnTabId,a.releaseLockedTabs(),null!=b&&a.showTab(b))};return a},mTabNav=tabNavBase();_dump("ytabnav");
function processError(a){var b=a.errNo,c=a.errMsg;a=a.errDetail;if("string"!=typeof a){var d=array2text(a["sys.stack"],!1);void 0!==d&&(d="\n==[stack]===================================\n"+d);var e=a["sys.sqlTrace"];void 0!==e&&(e="\n==[sql]===================================\n"+e);a=a["sys.sqlError"]+e+d}return"Err #"+b+"\n-------- "+c+"\n-------- "+a}
var ycommBase=function(){var a={urlCodification:{"%20":" ","%21":"!","%2A":"*","%27":"'","%28":"(","%29":")","%3B":";","%3A":":","%40":"@","%26":"&","%3D":"=","%2B":"+","%24":"$","%2C":",","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]"},_AsyncMode:!0,_dummyWaitIconControl:function(){},setAsyncMode:function(a){void 0===a&&(a=!0);_AsyncMode=a},xq_urlEncode:function(b,c){"undefined"==typeof c&&(c=!0);if("string"==typeof b&&""<b){b=b.replace(/%/g,"%25");b=b.replace(/,/g,"\\,");for(var d in a.urlCodification)if(a.urlCodification.hasOwnProperty(d)){var e=
new RegExp(escapeRegExp(a.urlCodification[d]),"g");b=b.replace(e,d)}"'"!=b.substring(0,1)&&'"'!=b.substring(0,1)&&(isNumber(b)||c&&(b='"'+b+'"'))}return b},urlJsonAsParams:function(b){var c="",d="",e="",f;for(f in b)b.hasOwnProperty(f)&&(""<c&&(c+=",",d+=","),c+=f,e=maskHTML(a.xq_urlEncode(b[f],!1)),d+=e);return["("+c+")","("+d+")"]},buildCommonURL:function(b,c,d,e){"undefined"==typeof d&&(d={});var f=a.urlJsonAsParams(d);d=f[0];f=f[1];void 0===e&&(e="");b="s={0}&a={1}&u={2}&fieldName={3}&fieldValue={4}".format(b,
c,e||"",d,f);return b+="&ts="+(new Date).getTime()},setWaitIconControl:function(b){a.waitIconControl=b||a._dummyWaitIconControl},pinger:{canPing:!1,pingerWatchdog:null,pingCount:0,pingTimeout:5E3,pingInterleave:1500,onSuccess:null,onError:null,pong:function(b,c,d){a.pinger.pingerWatchdog&&clearTimeout(a.pinger.pingerWatchdog);_dumpy(4,1,"pong answer");if(a.pinger.pingCount<=d.pingCount&&(a.pinger.pingCount=0,null!==a.pinger.onSuccess))a.pinger.onSuccess();a.pinger.canPing&&(a.pinger.pingerWatchdog=
setTimeout(a.pinger.ping,a.pinger.pingInterleave))},notAnswer:function(){a.pinger.pingerWatchdog&&clearTimeout(a.pinger.pingerWatchdog);_dumpy(4,1,"Not pong answer");if(null!==a.pinger.onError)a.pinger.onError();else _dumpy(4,1,"Not 'onError' event");a.pinger.canPing&&(a.pinger.pingerWatchdog=setTimeout(a.pinger.ping,a.pinger.pingInterleave/2))},ping:function(b,c){a.pinger.pingerWatchdog&&clearTimeout(a.pinger.pingerWatchdog);_dumpy(4,1,"Prepare to ping");a.pinger.canPing=!0;a.pinger.onSuccess=b||
a.pinger.onSuccess;a.pinger.onError=c||a.pinger.onError;a.pinger.pingCount++;ycomm.crave("yeapf","ping",{pingCount:a.pinger.pingCount},"ycomm.pinger.pong");a.pinger.pingerWatchdog=setTimeout(a.pinger.notAnswer,a.pinger.pingTimeout)},stopPing:function(){a.pinger.pingerWatchdog&&clearTimeout(a.pinger.pingerWatchdog);_dumpy(4,1,"stop pinging");a.pinger.canPing=!1}}};a.setWaitIconControl();return a},ycomm=ycommBase();_dump("ycomm");
if("undefined"==typeof xAjax){console.log("Using own xAjax() implementation");var xAjax=function(){var a={};a.xmlhttp="undefined"!==typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");a.Request=function(b,c){a.xmlhttp.onreadystatechange=function(){if(0<a.xmlhttp.readyState&&"undefined"!=typeof c.onProgress)c.onProgress(a.xmlhttp);if(4==a.xmlhttp.readyState&&"undefined"!=typeof c.onComplete)c.onComplete(a.xmlhttp)};a.xmlhttp.ontimeout=function(){};yloader.isWorker?c.asynchronous=
!1:c.multipart&&(c.asynchronous=!0);if("POST"==(c.method||"POST").toUpperCase())a.xmlhttp.open(c.method||"POST",b,c.asynchronous),a.xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.xmlhttp.send(c.parameters);else{var d;d=-1!==b.indexOf("?")?"&":"?";a.xmlhttp.open(c.method,b+d+c.parameters,c.asynchronous);a.xmlhttp.send()}};return a}}ycomm._comm_timeout=12E4;ycomm._whatchdog_interleave=250;ycomm.scriptName=yloader.isWorker?"../query.php":"query.php";
ycomm.defaultMethod="post";ycomm.canReceiveMessages=!0;Object.defineProperty(ycomm,"timeout",{get:function(){return ycomm._comm_timeout},set:function(a){a=parseInt(a||0);ycomm._comm_timeout=Math.min(18E6,Math.max(125,a));_dumpy(4,0,"Adjusting timeout to {0}ms".format(ycomm._comm_timeout))}});Object.defineProperty(ycomm,"wd_interval",{get:function(){return ycomm._whatchdog_interleave},set:function(a){a=parseInt(a||0);ycomm._whatchdog_interleave=Math.min(2500,Math.max(1,a));_dumpy(4,0,"Adjusting watchdog interleave to {0}ms".format(ycomm._whatchdog_interleave))}});
ycomm.explodeData=function(a){var b;a=xml2array(a).root||{};var c=a.dataContext||{},d=a.error||c.error||c.lastError,e=null,f=c.userMsg,h=c.sysMsg;if(h&&h.msg&&"logoff"==h.msg){ycomm.canReceiveMessages=!1;for(var g=window,k;g.opener;)k=g,g=g.opener,k.close();for(;g.parent!=g;)g=g.parent;h.banner&&(_dumpy(4,1,h.banner),alert(h.banner));g.document.location="body.php?s=yeapf&a=logoff"}if(ycomm.canReceiveMessages){if(c){var s;if(c.requiredFields)for(h=c.requiredFields.split(","),s=0;s<h.length;s++)fieldName=
h[s],y$(fieldName)&&y$(fieldName).addClass("fieldWarning");if(c.formError){h="";for(s in c.formError)c.formError.hasOwnProperty(s)&&(""<h&&(h+="\n"),h+=c.formError[s]);alert(h)}}if(a){void 0!=c.formID&&""==formID&&(formID=c.formID);c.firstRow=parseInt(c.firstRow);c.rowCount=parseInt(c.rowCount);c.requestedRows=parseInt(c.requestedRows);s=c.rowCount;b=a.data?a.data.row:a.row;1==s&&(b=Array(b));if(b)for(var w in b)if(b.hasOwnProperty(w))for(var v in b[w])b[w].hasOwnProperty(v)&&(b[w][v]=unmaskHTML(b[w][v]));
void 0!==a.data&&(e=a.data.geometry)}}return{data:b,geometry:e,dataContext:c,error:d,userMsg:f}};ycomm.text2data=function(a){var b={};"function"==typeof DOMParser&&(a=(new DOMParser).parseFromString(a,"application/xml"),b=ycomm.explodeData(a));return b};
ycomm.invoke=function(a,b,c,d,e){"undefined"==typeof e&&(e=!0);if("object"==typeof a){var f=a;a=f.s;b=f.a;c=f.limits;d=f.callbackFunction}f="undefined"==typeof u?"":u;ycomm.waitIconControl(!0);a=this.buildCommonURL(a||"",b||"",c||{},f);"undefined"!=typeof xAjax?xAjax().Request(this.scriptName,{method:ycomm.defaultMethod,asynchronous:yloader.isWorker?!1:e,parameters:a,onTimeout:function(){console.log("XMLHttpRequest timeout");ycomm.waitIconControl(!1);d(404,{},[{}],null,null,null)},onComplete:function(a){var b=
{data:null,geometry:null,dataContext:null,error:null,userMsg:null},c=null;200==a.status?(a.responseXML?c=a.responseXML:"function"==typeof DOMparser&&(c=(new DOMParser).parseFromString(a.responseText,"application/xml")),null!==c&&(b=ycomm.explodeData(c))):console.log(a.statusText);ycomm.waitIconControl(!1);if(b.error)for(var e in b.error)b.error.hasOwnProperty(e)&&console.error(b.error[e]);"function"==typeof d&&(yloader.isWorker?d(a.responseText):d(a.status,b.error,b.data,b.userMsg,b.dataContext,b.geometry))}}):
(console.log("Not ready to call "+a),console.log("prototype library not loaded"))};_dump("ycomm-ajax");ycomm.setDataLocation=function(a,b){this._dataLocation_=a;this._deviceId_=b||guid()};ycomm.getDataLocation=function(){return this._dataLocation_};ycomm._scriptSequence=0;ycomm._maxScriptSequenceReceived=0;ycomm._CBSeq=1E3;ycomm._CBControl={};ycomm._load=0;ycomm._queue=0;ycomm._maxDirectCall=10;
ycomm._dataLocation_=function(){var a="object"==typeof document&&document.location&&document.location.href?document.location.href:"",b=a.lastIndexOf("/");return a.substr(0,b+1)+"rest.php"}();ycomm.getLoad=function(){return this._load};
ycomm._removeJSONP=function(a,b){var c=document.head,d="rest_"+a,e=document.getElementById(d);void 0!==c&&void 0!==e?(clearTimeout(e._whatchdog_),"function"===typeof e.abort&&e.abort(),c.removeChild(e),_dumpy(4,1,"Clean "+d+" after call to "+b+"()")):_dumpy(4,1,"Script not found: "+d+" adressed to "+b+"()");_dumpy(4,1,ycomm.getStatus())};
ycomm.bring=function(a){var b=document.head,c=document.createElement("script");_dumpy(4,1,a);var d=null,e=null,f=a.substr(a.indexOf("?")+1).split("&"),h;for(h in f)if(f.hasOwnProperty(h)){var g=f[h].split("=");"scriptSequence"==g[0]&&(d=g[1]);"callback"==g[0]&&(e=g[1])}ycomm._maxScriptSequenceReceived=Math.max(ycomm._maxScriptSequenceReceived,d);c.UUID=generateUUID();c.maxWaitCount=ycomm.timeout/ycomm.wd_interval+2;c.callbackFunctionName=e;c.onload=function(){0<ycomm._load&&ycomm._load--;this.abort=
null};c.abort=function(){_dumpy(4,1,"Calling {0}(404);".format(e));setTimeout("{0}(404,{message: 'Server do not respond ({1})'}, {})".format(e,a),100)};c.pool=function(){_dumpy(4,5,this.UUID+" : "+this.maxWaitCount);this.maxWaitCount--;0<this.maxWaitCount?this._whatchdog_=setTimeout(this.id+".pool()",ycomm.wd_interval):"function"==typeof this.abort&&this.abort()};c.setAttribute("src",a);c.id="rest_"+d;try{_dumpy(4,2,"Creating {0} as {1}".format(c.UUID,c.src)),b.appendChild(c),setTimeout(c.id+".pool()",
ycomm.wd_interval)}catch(k){_dump("Exception: {0}".format(k.message))}setTimeout("ycomm._removeJSONP("+d+",'"+e+"');",ycomm.timeout)};
ycomm.crave=function(a,b,c,d,e){var f="undefined"==typeof u?"":u;"undefined"==typeof e&&(e=0);ycomm._scriptSequence++;if(this.getDataLocation()){var h;"function"==typeof d?(ycomm._CBSeq++,h="ycb"+ycomm._CBSeq,ycomm._CBControl[h]={ready:!1},window[h]=function(a,b,c,e,f,t){d(a,b,c,e,f,t);_dumpy(4,1,h)}):"string"==typeof d?h=d:console.error("param callBackFunction need to be function or string");""<h&&(ycomm._load++,a=this.buildCommonURL(a||"",b||"",c||{},f),a="{0}?{1}&callback={2}&callbackId={3}&scriptSequence={4}&deviceId={5}".format(this._dataLocation_,
a,h,e,ycomm._scriptSequence,this._deviceId_),ycomm.getLoad()<=ycomm._maxDirectCall?(_dumpy(4,1,a),ycomm.bring(a)):setTimeout("ycomm.bring('"+a+"');",(.5+abs(ycomm.getLoad()-ycomm._maxDirectCall))*ycomm.wd_interval*2))}else console.error("You need to define dataLocation before 'crave' it")};ycomm.isIdle=function(){return ycomm._maxScriptSequenceReceived==ycomm._scriptSequence};ycomm.getStatus=function(){return"isIdle() = {0} getLoad() = {1}".format(this.isIdle(),this.getLoad())};_dump("ycomm-rest");
ycomm.dom={_elem_templates:[]};ycomm.dom.fillInplaceData=function(a,b){for(var c in b)b.hasOwnProperty(c)&&a.setAttribute("data_"+c,b[c])};ycomm.dom.getInplaceData=function(a){};
ycomm.dom.fillElement=function(a,b,c,d){void 0===c&&(c={});"boolean"==typeof d&&(d={deleteRows:d});"undefined"==typeof d.deleteRows&&(d.deleteRows=!0);"undefined"==typeof d.paintRows&&(d.paintRows=!0);var e,f,h,g,k=y$(a),s="undefined"==typeof ycomm.dom._elem_templates[a];e=c.idFieldName||"id";var w=function(a){a.doc&&a.id&&a.value&&(a=a.doc);return a},v=function(a){var g,h=w(b[p]);q=0;"TR"==a.nodeName&&d.paintRows&&(a.style.backgroundColor=rowColorSpec.suggestRowColor(D));if(h[e])if(y$(h[e])){for(g=
0;y$(h[e]+"_"+g);)g++;a.id=h[e]+"_"+g}else a.id=h[e];if("undefined"!=typeof c.inplaceData)for(var k=0;k<c.inplaceData.length;k++)f=c.inplaceData[k],g=h[f]||"",a.setAttribute("data_"+f,g);(c.onClick||c.onSelect)&&a.addEventListener("click",c.onClick||c.onSelect,!1)},t=function(d){if(d!=e){var f=h.insertCell(q),k=w(b[p]),l=null!==d?unmaskHTML(k[d]):unmaskHTML(k);c.columns&&c.columns[d]&&(c.columns[d].align&&(f.style.textAlign=c.columns[d].align),c.columns[d].type&&(l=yAnalise("%"+c.columns[d].type+
"("+l+")")));g||f.addClass("warning");f.innerHTML=0===l.length?"&nbsp;":l;f.style.verticalAlign="top";f.id=a+"_"+q+"_"+m.rows.length;f.setAttribute("colName",d);if("function"==typeof c.onNewItem)c.onNewItem(a,f,k);q+=1}},m,p,l,q,x,z=(new Date).getTime()-1447265735470;if(k)if("TABLE"==k.nodeName){m=0<k.getElementsByTagName("tbody").length?k.getElementsByTagName("tbody")[0]:k;0<m.getElementsByTagName("tbody").length&&(m=m.getElementsByTagName("tbody")[0]);if(s)if("undefined"==typeof(c.columns||c.rows||
c.html)){if(ycomm.dom._elem_templates[a]={},0<m.rows.length)for(ycomm.dom._elem_templates[a].rows=[],k=0;k<m.rows.length;k++)ycomm.dom._elem_templates[a].rows[k]=m.rows[k].innerHTML}else ycomm.dom._elem_templates[a]={},ycomm.dom._elem_templates[a].columns=c.columns,ycomm.dom._elem_templates[a].rows=c.rows,ycomm.dom._elem_templates[a].html=c.html;mergeObject(ycomm.dom._elem_templates[a],c,!0);if(d.deleteRows)for(;0<m.rows.length;)m.deleteRow(m.rows.length-1);var D=m.rows.length%2;q=null;for(p in b)if(b.hasOwnProperty(p)){s=
w(b[p]);D++;g=!0;if(!d.deleteRows&&s[e])for(k=0;g&&k<m.rows.length;k++)if(m.rows[k].id==s[e]){for(h=m.rows[k];0<h.cells.length;)h.deleteCell(0);g=!1;s.rowid=k}g&&(h=m.insertRow(m.rows.length));z++;s.rowid="undefined"!==typeof h.rowIndex?h.rowIndex:z+"";s._elementid_=a;v(h);if("undefined"==typeof c.html&&"undefined"==typeof c.rows&&"undefined"==typeof c.columns)if("string"==typeof s)t(null);else for(f in s)s.hasOwnProperty(f)&&f!=e&&"rowid"!=f&&"_elementid_"!=f&&t(f);else if("undefined"!=typeof c.columns)if(isArray(c.columns))for(l=
0;l<c.columns.length;l++)t(c.columns[l]);else for(l in c.columns)c.columns.hasOwnProperty(l)&&t(l);else if("undefined"!=typeof c.html){if(x=h.insertCell(0),x.innerHTML=yAnalise(c.html,s),x.style.verticalAlign="top",x.id=a+"_"+q+"_"+m.rows.length,"function"==typeof c.onNewItem)c.onNewItem(a,x,s)}else if("undefined"!=typeof c.rows)for(k=!0,r=0;r<c.rows.length;r++){k||(h=m.insertRow(m.rows.length),v(h));h.innerHTML=yAnalise(c.rows[r],s);if(!g)for(l=0;l<h.cells.length;l++)h.cells[l].style.borderLeft=
"solid 1px red";if("function"==typeof c.onNewItem)c.onNewItem(a,h,s);k=!1}if("function"==typeof c.onNewRowReady)c.onNewRowReady(a,h)}}else if("UL"==k.nodeName){if(d.deleteRows)for(;k.firstChild;)k.removeChild(k.firstChild);for(p in b)if(b.hasOwnProperty(p)){s=w(b[p]);l=document.createElement("li");t="";z=!1;if("object"==typeof c.rows){for(r=0;r<c.rows.length;r++)t=t+yAnalise(c.rows[r],s)+"";z=!0}else if("string"==typeof c.html)t=t+yAnalise(c.html,s)+"",z=!0;else for(f in s)""===t&&s.hasOwnProperty(f)&&
f!=e&&"rowid"!=f&&"_elementid_"!=f&&(t+=s[f]);v(l);z?l.innerHTML=t:l.appendChild(document.createTextNode(t));"string"==typeof c.beforeElement?(t=y$(c.beforeElement),k.insertBefore(l,t)):k.appendChild(l);if("function"==typeof c.onNewItem)c.onNewItem(a,l,s)}}else if("LISTBOX"==k.nodeName){if(d.deleteRows)for(;0<k.childElementCount;)k.childNodes[0].remove();v=0;for(p in b)if(b.hasOwnProperty(p)){s=w(b[p]);s._elementid_=a;h=document.createElement("listitem");q=0;if("undefined"==typeof c.columns)if("string"==
typeof s)_dumpy(2,1,"ERRO: yeapf-dom.js - string cell not implemented");else for(f in s){if(s.hasOwnProperty(f)&&f!=e&&"rowid"!=f&&"_elementid_"!=f){x=document.createElement("listcell");x.innerHTML=s[f];x.id=a+"_"+q+"_"+v;if("function"==typeof c.onNewItem)c.onNewItem(a,x,s);q+=1;h.appendChild(x)}}else for(f in c.columns)if(f!=e){x=document.createElement("listcell");x.innerHTML=s[f];x.id=a+"_"+q+"_"+v;if("function"==typeof c.onNewItem)c.onNewItem(a,x,s);q+=1;h.appendChild(x)}k.appendChild(h);v++}}else if("SELECT"==
k.nodeName||"DATALIST"==k.nodeName){if(d.deleteRows)for(;0<k.options.length;)k.options.remove(0);q=0;for(p in b)if(b.hasOwnProperty(p)){s=w(b[p]);s._elementid_=a;v="";if("undefined"==typeof c.columns)if("string"==typeof s)_dumpy(2,1,"ERRO: yeapf-dom.js - string cell not implemented");else for(f in s)s.hasOwnProperty(f)&&f!=e&&"rowid"!=f&&"_elementid_"!=f&&(v+=s[f]);else if(isArray(c.columns))for(l=0;l<c.columns.length;l++)v=v+s[c.columns[l]]+" ";else if("string"==typeof s)_dumpy(2,1,"ERRO: yeapf-dom.js - string cell not implemented");
else for(f in c.columns)f!=e&&(v+=s[f]);t=document.createElement("option");"undefined"!=typeof s[e]&&(t.value=s[e]);t.innerHTML=v;t.id=a+"_"+q;if(c.inplaceData)for(l=0;l<c.inplaceData.length;l++)"undefined"!==typeof s[c.inplaceData[l]]&&t.setAttribute("data_"+c.inplaceData[l],s[c.inplaceData[l]]);if("function"==typeof c.onNewItem)c.onNewItem(a,t,s);k.appendChild(t);q++}if(k.onclick)k.onclick()}else if("FORM"==k.nodeName){var B,A;x=d.deleteRows?this.cleanForm(a):this.selectElements(a);if(b)if("object"==
typeof b||1===b.length)for(var C=w(b[0]||b),t=c.elementPrefixName||"",z=c.elementPostixName||"",k=0;k<x.length;k++){if(v=x[k].getAttribute("editMask"),l=x[k].getAttribute("storageMask"),s=x[k].getAttribute("valueType")||"text",B=suggestKeyName(C,x[k].name||x[k].id,t,z),f=c.columns&&suggestKeyName(c.columns,x[k].name||x[k].id)||null,"undefined"!=typeof C[B]&&(A=unmaskHTML(C[B]),B=x[k].type.toLowerCase(),!c.columns||""<f)){""<f&&!isArray(c.columns)&&(s=c.columns[f].type,v=c.columns[f].editMask||v,l=
c.columns[f].storageMask||l);"text"!=s&&(""<v&&""<l?0<=s.indexOf("date")&&(A=dateTransform(A,l,v)):A=yAnalise("%"+s+"("+A+")"));switch(B){case "text":case "password":case "textarea":case "email":case "hidden":x[k].value=A;break;case "radio":case "checkbox":x[k].value==A&&(x[k].checked=x[k].value===A);break;case "select-one":case "select-multi":for(p=0;p<x[k].options.length;p++)x[k].options[p].value==A&&(x[k].selectedIndex=p)}if("function"==typeof c.onNewItem)c.onNewItem(a,x[k],C)}}else 1<b.length&&
_dump("There are more than one record returning from the server")}else if("DIV"==k.nodeName&&b&&1===b.length){s=w(b[0]);v="";d.deleteRows?k.innerHTML="":v=k.innerHTML;for(f in s)s.hasOwnProperty(f)&&(v+="<div><div class=tnFieldName><b><small>{0}</small></b></div>{1}".format(f,s[f]));k.innerHTML=v}};ycomm.dom.getRowId=function(a,b){if(a)for(;a&&a.parentNode;)a=a.parentNode};ycomm.dom.getRowByRowNo=function(a,b){var c=document.getElementById(a);return c?c.rows[b]:null};
ycomm.dom.getTableRowId=function(a,b){var c=ycomm.dom.getRowByRowNo(a,b);return c?c.id:null};ycomm.dom.highlightRow=function(a,b,c){c=c||"";b="undefined"==typeof b?-1:b;var d=document.getElementById(a);if(d)for(var e=0;e<d.rows.length;e++)if(e==b)for(d.rows[e].addClass(c),a=0;a<d.rows[e].cells.length;a++)d.rows[e].cells[a].addClass(c);else for(d.rows[e].removeClass(c),a=0;a<d.rows[e].cells.length;a++)d.rows[e].cells[a].removeClass(c)};
ycomm.dom.getTableRowInplaceData=function(a,b){return a?a.getAttribute("data_"+b):null};ycomm.dom.getTableInplaceData=function(a,b,c){return(a=document.getElementById(a))?ycomm.dom.getTableRowInplaceData(a.rows[b],c):null};ycomm.dom.deleteElement=function(a){(a=y$(a))&&a.parentNode.removeChild(a)};
ycomm.dom.selectElements=function(a,b){var c=[],d,e,f;if(d=y$(a))for(d=d.getElementsByTagName("*"),e=0;e<d.length;e++)if(d[e].type){f=d[e].type.toLowerCase();knownFieldType=!1;b&&0>b.indexOf(d[e].name||d[e].id)&&(f="--AVOID--");switch(f){case "text":case "password":case "textarea":case "hidden":case "email":case "radio":case "checkbox":case "select-one":case "select-multi":case "file":knownFieldType=!0}knownFieldType&&(c[c.length]=d[e])}return c};
ycomm.dom.cleanElement=function(a){"string"==typeof a&&(a=y$(a));if(a){var b;b=a.type?a.type.toLowerCase():a.nodeName?a.nodeName.toLowerCase():"UNKNOWN";if(0>["__cmd5p__"].indexOf(a.id))switch(b){case "text":case "password":case "textarea":case "hidden":a.value="";break;case "radio":case "checkbox":a.checked=!1;break;case "select-one":case "select-multi":a.selectedIndex=-1;break;case "table":for(0<a.getElementsByTagName("tbody").length&&(a=a.getElementsByTagName("tbody")[0]);0<a.rows.length;)a.deleteRow(a.rows.length-
1);break;case "ul":for(;a.firstChild;)a.removeChild(a.firstChild)}}else _dumpy(2,1,"null element when calling cleanElement()")};ycomm.dom.cleanForm=function(a,b){var c,d;d=this.selectElements(a,b);for(c=0;c<d.length;c++)ycomm.dom.cleanElement(d[c]);return d};
ycomm.dom.getFormElements=function(a,b,c){b=b||{};var d=b.elementPrefixName||"";b=b.elementPostixName||"";var e={};a=this.selectElements(a);for(var f,h,g,k,s,w,v=0,t,m=0;m<a.length;m++)if(a[m].getAttribute?(k=a[m].getAttribute("editMask")||"",s=a[m].getAttribute("storageMask")||"",w=a[m].getAttribute("valueType")||"text"):(s=k="",w="text"),t=!0,h=a[m].type.toLowerCase(),f=a[m].name||a[m].id,f.substr(f.length,-b.length)==b&&f.substr(0,d.length)==d&&(f=f.substr(d.length),f=f.substr(0,f.length-b.length),
""<f)){g="";if("radio"==h||"checkbox"==h)t=!1,"undefined"==typeof e[f]&&(e[f]="");switch(h){case "text":case "password":case "textarea":case "email":case "hidden":g=a[m].value+"";""<k&&""<s&&0<=w.indexOf("date")&&(g=(g=dateTransform(g,k,s))?g+"":"");break;case "radio":case "checkbox":g=a[m].checked?a[m].value:"";t=""!==g;break;case "select-one":case "select-multi":g=a[m].selectedIndex;a[m].options[g]&&(g=a[m].options[g].value);break;case "file":"function"==typeof c?(h=new FileReader,v++,h._fieldName=
f,h.addEventListener("load",function(){e[this._fieldName]=this.result;v--;0>=v&&c(e)}),h.readAsDataURL(a[m].files[0]),t=!1):g="aOnReady() not present in js call to getFormElements()"}"string"==typeof g&&(isNumber(g)?g=g.toFloat():0<=g.indexOf(",")&&(g=encodeURIComponent(g)));t&&(e[f]=g)}return e};ycomm.dom.addFormElement=function(a,b,c){b=document.createElement(b);for(var d in c)c.hasOwnProperty(d)&&b.setAttribute(d,c[d]);a.appendChild(b);return b};
ycomm.dom.URL2post=function(a,b,c){void 0!==a&&setTimeout(function(){void 0===b&&(b="_self");void 0===c&&(c=window);var d="body.php";a=a.split("?");2==a.length?(d=a[0],a=a[1]):a=a[0];a=a.split("&");c.auxForm=c.document.createElement("form");c.document.body.appendChild(c.auxForm);c.auxForm.setAttribute("method","post");c.auxForm.setAttribute("action",d);c.auxForm.setAttribute("target",b);for(d=0;d<a.length;d++){var e=a[d].split("=");1==e.length&&(e[1]="");ycomm.dom.addFormElement(c.auxForm,"input",
{type:"hidden",id:e[0],name:e[0],value:e[1]})}c.auxForm.submit()},1E3)};ycomm.dom.deleteFieldClass=function(a,b){for(var c in a)a.hasOwnProperty(c)&&y$(c).deleteClass(b)};ycomm.dom.viewport=function(){for(var a=window,b="inner";a.parent!=a;)a=a.parent;"innerWidth"in window||(b="client",a=document.documentElement||document.body);return{width:a[b+"Width"],height:a[b+"Height"]}};ycomm.dom.getLeft=function(a){for(var b=0;null!==a;)b+=a.offsetLeft,a=a.offsetParent;return b};
ycomm.dom.getTop=function(a){for(var b=0;null!==a;)b+=a.offsetTop,a=a.offsetParent;return b};_dump("ycomm-dom");
var ycommMsgBase=function(){return that={messagePeekerTimer:null,messageStack:[],msgProcs:[],_dbgFlag_noMessageProcessorPresent:!1,msgCount:0,serverOfflineFlag:0,grantMsgProc:function(a){if(void 0===a||0>=a)a=Math.min(2E4,2*messagePeekerInterval);void 0===that.messagePeekerTimer?(0===that.msgCount&&_dumpy(4,1,"Configuring receivers interval to "+a+"ms"),that.messagePeekerTimer=setTimeout(ycomm.msg.peek,a)):_dumpy(4,1,"Receivers interval already defined")},feedBack:function(){if(0<dRowCount){that.msgCount++;
for(var a in xData)if(!isNaN(parseInt(a))){var b=xData[a];that.messageStack.push([b.sourceUserId,b.message,b.wParam,b.lParam])}if(0<that.messageStack.length)if(0==that.msgProcs.length)that._dbgFlag_noMessageProcessorPresent||jsDumpEnabled&&window.alert("Messages arriving at  '"+_CurrentFileName+"'  but there is not\na registered message processor in order to receive it.\nUse _registerMsgProc() to register it"),that._dbgFlag_noMessageProcessorPresent=!0;else for(;0<that.messageStack.length;){a=that.messageStack.length;
for(b=0;b<that.msgProcs.length;b++)("<script>"+that.msgProcs[b]+"();\x3c/script>").evalScripts();a==that.messageStack.length&&that.messageStack.shift()}}grantMsgProc(messagePeekerInterval)},peek:function(){clearTimeout(that.messagePeekerTimer);that.messagePeekerTimer=null;var a="s=y_msg&u="+u+"&a=peekMessage&formID="+formID+"&ts="+(new Date).getTime()+"&callBackFunction=ycomm.msg.feedBack&messagePeekerInterval="+messagePeekerInterval;new Ajax.Request("query.php",{method:"get",asynchronous:!0,parameters:a,
onComplete:function(a){200==a.status?_QUERY_RETURN(a):(_dumpy(4,1,"*** XMLHttpRequest call failure"),setTimeout("_notifyServerOffline()",500))}})},postMessage:function(a,b,c,d,e){a="s=y_msg&u="+u+"&a=postMessage"+(void 0!=e?'&targetUser=*&broadcastCondition="'+e+'"':"&broadcastCondition=&targetUser="+a)+"&formID="+formID+"&message="+b+"&wParam="+c+"&lParam="+d+"&ts="+(new Date).getTime()+"&callBackFunction=ycomm.msg.feedBack";new Ajax.Request("query.php",{method:"get",asynchronous:!1,parameters:a,
onComplete:_QUERY_RETURN})},cleanMsgQueue:function(){that.msgProcs.length=0},notifyServerOnline:function(){if(0<that.serverOfflineFlag){that.serverOfflineFlag=0;var a=__getMainBody();"function"==typeof a.$&&null!=a.document.body&&(a=a.y$("notificationArea"))&&(a.style.display="none")}},notifyServerOffline:function(){that.serverOfflineFlag++;var a=__getMainBody();if("function"==typeof a.$&&null!=a.document.body){var b=a.y$("notificationArea");b||(b=a.document.createElement("div"),b.id="notificationArea",
setOpacity(b,90),a.document.body.appendChild(b),existsCSS("notificationArea")?b.className="notificationArea":(b.style.zIndex=1E3,b.style.position="absolute",b.style.left="0px",b.style.top="0px",b.style.border="1px #900 solid",b.style.backgroundColor="#fefefe"));b.style.width=a.innerWidth+"px";b.style.height=a.innerHeight+"px";b.style.display="block";b.innerHTML="<div style='padding: 32px'><big><b>Server Offline</b></big><hr>Your server has become offline or is mispeling answers when requested.<br>Wait a few minutes and try again later, or wait while YeAPF try again by itself</div>&nbsp;"}grantMsgProc()},
registerMsgProc:function(a){var b=!0;_dumpy(4,1,"Registering message receiver: "+a);for(var c=0;c<that.msgProcs.length;c++)that.msgProcs[c]==a&&(b=!1);b&&(that.msgProcs[that.msgProcs.length]=a);grantMsgProc(messagePeekerInterval)},stopMsgProc:function(){clearTimeout(that.messagePeekerTimer)}}};ycomm.msg=ycommMsgBase();_dump("ycomm-msg");
var yCalendar=function(a){var b={};b.cfg=a||{};b.cfg.view=+(b.cfg.view||0);b.cfg.orientation=+(b.cfg.orientation||0);b.cfg.date=b.cfg.date||new Date;b.cfg.dayEntryDivision=b.cfg.dayEntryDivision||20;b.cfg.cellSize?(b.cfg.cellSize.width=b.cfg.cellSize.width||null,b.cfg.cellSize.height=b.cfg.cellSize.height||null):b.cfg.cellSize={width:null,height:null};b.cfg.divContainerName=b.cfg.divContainerName||"";b.cfg.callback=b.cfg.callback||null;b.context={};b.context.dateScope={first:"",last:""};b.context.nCols=
0;b.context.nRows=0;b.setDivContainerName=function(a){b.cfg.divContainerName=a;return b};b.setCellSize=function(a,d){b.cfg.cellSize.width=b.cfg.cellSize.width||a;b.cfg.cellSize.height=b.cfg.cellSize.height||d;return b};b.setView=function(a){b.cfg.view=+a%3;return b};b.setCallback=function(a){b.cfg.callback=a;return b};b.setDate=function(a){b.cfg.date=a||b.cfg.date;return b};b.getDate=function(){return b.cfg.date};b.setOrientation=function(a){b.cfg.orientation=+a%2;return b};b.draw=function(a){var d=
["L","P"];if(a=y$(b.cfg.divContainerName)){try{b.cfg.status=0;null!=b.cfg.callback&&b.cfg.callback(b,"DOMLocked",a);for(var e=null,f=null,h=null,g=null,k=null,s=null,w=null,v=2>b.cfg.view?864E5:6E4*b.cfg.dayEntryDivision,t=0,m=0,p="calDay"+d[b.cfg.view%2];a.hasChildNodes();)a.removeChild(a.lastChild);b.context.oCalTable=document.createElement("table");b.context.oCalTable.cellPadding=0;b.context.oCalTable.cellSpacing=0;var l=b.context.oCalTable.insertRow(-1),q=l.insertCell();q.className="calBand";
var d=!0,x=0,z={};null!=b.cfg.cellSize.height&&(z.height=parseInt(b.cfg.cellSize.height)+"px");null!=b.cfg.cellSize.width&&(z.width=parseInt(b.cfg.cellSize.width)+"px");var D=b.context.dateScope.first,B=b.context.dateScope.last;D.setHours(12);B.setHours(12);var A=function(){f=b.cfg.divContainerName+"_empty_"+x;var a=document.createElement("div");mergeObject(z,a.style);a.id=f;a.className=p+"Cell "+p+"EmptyCell";q.appendChild(a);0==b.cfg.orientation&&t++;x++;null!=b.cfg.callback&&b.cfg.callback(b,"getEmptyDayContent",
a)},C=function(a){0==a?(f=b.cfg.divContainerName+"_day_"+y.toUDate().substring(0,8),e=y.getDate()):(e=y.getHours()+":"+y.getMinutes(),f=b.cfg.divContainerName+"_day_"+y.toUDate().substring(0,12))},y=new Date(D),F=(B-y)/v+1;if(0===b.cfg.view)if(0==b.cfg.orientation)for(n=0;n<D.getDay();n++)A();else{y.setDate(y.getDate()-D.getDay());var G=[],E=new Date(y);for(n=0;n<b.context.nRows;n++)G[n]=new Date(E),E.setDate(E.getDate()+1)}for(;0<F;)d||(l=b.context.oCalTable.insertRow(-1),q=l.insertCell(),q.className=
"calBand",d=!0),e="",1==b.cfg.orientation?y<D||y>B?A():0===b.cfg.view||1===b.cfg.view?C(0):2===b.cfg.view?C(1):_dumpy(8,1,"Not implemented"):0==b.cfg.orientation&&(0===b.cfg.view||1===b.cfg.view?C(0):2===b.cfg.view?C(1):_dumpy(8,1,"Not implemented")),""<e&&(h=p+"Cell",0===y.getDay()&&(h+=" "+p+"FreeCell"),y.getDate()==b.cfg.date.getDate()&&(h+=" "+p+"Highlight"),k=document.createElement("div"),mergeObject(z,k.style),k.id=f,k.className=h,mergeObject(z,k.style),k.date=y,s=document.createElement("span"),
s.id=f+"_tag",s.className="calTag",null!=b.cfg.callback&&(g=b.cfg.callback(b,"getTagContent",s)||"",""<g&&(e=g)),s.innerHTML=e,k.appendChild(s),null!=b.cfg.callback&&(w=b.cfg.callback(b,"getCellContent",k)||"",""<w&&(k.innerHTML+=w)),q.appendChild(k)),1==b.cfg.orientation?y.setTime(y.getTime()+v*b.context.nRows):y.setTime(y.getTime()+v),t++,t>=b.context.nCols&&(t=0,m++,d=!1,1==b.cfg.orientation&&(y=G[m])),F--;if(d){for(;t<b.context.nCols;)A();t=0;d=!1}a.appendChild(b.context.oCalTable)}catch(H){_dumpy(8,
1,"ERROR: "+H.message)}b.cfg.status=1;null!=b.cfg.callback&&b.cfg.callback(b,"DOMReleased",a)}return b};b.build=function(a,d,e){b.cfg.orientation=e||b.cfg.orientation;b.cfg.view=d||b.cfg.view;b.cfg.date=a||b.cfg.date;if(y$(b.cfg.divContainerName)){a=new Date(b.cfg.date);d=null;var f=e=0;switch(b.cfg.view){case 0:e=7;f=5;a.setDate(1);d=new Date(a);d.setDate(a.daysInMonth());break;case 1:e=1;f=7;for(a=new Date(b.cfg.date);0<a.getDay();)a.setTime(a.getTime()-864E5);d=new Date(a);d.setTime(a.getTime()+
5184E5);break;case 2:e=1;f=Math.round(1440/b.cfg.dayEntryDivision);a.setHours(6);a.setMinutes(0);d=new Date(a);d.setHours(21);d.setMinutes(60-b.cfg.dayEntryDivision);break;default:_dumpy(8,1,"Not implemented")}b.context.dateScope.first=a;b.context.dateScope.last=d;1===b.cfg.orientation?(b.context.nCols=f,b.context.nRows=e):(b.context.nCols=e,b.context.nRows=f);b.draw(b);_dumpy(8,1,"Build calendar on "+b.cfg.date.toUDate()+" View: "+b.cfg.view+" Orientation: "+b.cfg.orientation+" cols: "+e+" rows: "+
f)}else _dumpy(8,1,"ERROR: "+b.cfg.divContainerName+" not found on that page");return b};b.each=function(a){if("function"==typeof a&&b.context.oCalTable){var d=b.cfg.divContainerName+"_day_",e=function(e){e=b.context.oCalTable.getElementsByTagName(e);for(var h=0;h<e.length;h++)e[h].id.substr(0,d.length)==d&&a(e[h])};e("div");e("span")}return b};return b};_dump("ycalendar");
function _dynCheckChilds(a,b){var c=b.childOpenCondition;if(""<c){var c=Parser.evaluate(c,a),d=y$(b.name+"_childs");d&&(d.style.display=c?"block":"none")}}function dynCheckChids(a,b){void 0==b&&(b=window.event||arguments.callee.caller.arguments[0]);b.target&&(b=b.target);var c=[],d;for(d in a)a.hasOwnProperty(d)&&y$(d)&&(c[d]=y$(d).value);if(a[b.id])_dynCheckChilds(c,a[b.id]);else for(d in a)a.hasOwnProperty(d)&&_dynCheckChilds(c,a[d])}
function _dynConfigOnChange(a,b){a&&a.onchange!=__cbOnChange__&&(a.dynOnChange=a.onchange,a.onchange=void 0==b?__dynOnChange__:b)}function dynConfigOnchange(a,b){var c="object"!=typeof a?a.split(","):a;if(0<c.length)for(var d=0;d<c.length;d++)_dynConfigOnChange(y$(c[d]),b);else for(d in c)c.hasOwnProperty(d)&&_dynConfigOnChange(y$(d),b)}
function dynConfigCheckBoxChilds(a,b){void 0==b&&(b=document.getElementsByTagName("input"));void 0==a&&(a=!1);for(var c,d,e=document.getElementsByTagName("*"),f=0;f<b.length;f++){c=!1;if("checkbox"==b[f].type){c=b[f].id+".";d=0;for(var h=f+1;h<e.length;h++){var g=e[h].id;"string"==typeof g&&g.substr(0,c.length)==c&&(dynSetElementDisplay(e[h].id,b[f].id,b[f].value),d++)}c=!0}else"text"==b[f].type&&(c=!0);c&&b[f].onchange!=__cbOnChange__&&(b[f].dynOnChange=b[f].onchange,b[f].onchange=__cbOnChange__,
b[f].dynSaveOnChange=a)}}function dynTableEnumerateCellElements(a,b,c){for(void 0==c&&(c=2);c<a.rows.length;c++)for(var d=0;d<a.rows[c].cells.length;d++){aCell=a.rows[c].cells[d];var e=aCell.getElementsByTagName("*"),f;for(f in e)e.hasOwnProperty(f)&&b(e[f])}}
function dynRenumberElements(a,b,c){var d=[],e=0;dynTableEnumerateCellElements(b,function(a){"undefined"!=typeof a.id&&(a=a.id.split("."),0<c.indexOf(a[0])&&(a=str2int(a[1]),0>d.indexOf(a)&&(d[e++]=a)))},1);for(var f in d)if(d.hasOwnProperty(f)){a=d[f];for(var h in c)c.hasOwnProperty(h)&&(document.getElementById(c[h]+"."+zeroPad(a,2)).id=c[h]+"."+zeroPad(f,2))}}function _dynCleanTableRow(a,b,c){for(var d=0;d<b.rows[c].childNodes.length;d++)dynCleanChilds(a,b.rows[c].childNodes[d],!0)}
function dynCleanChilds(a,b,c,d){b instanceof Text&&(b=b.nextSibling);if(void 0!=b){void 0==c&&(c=!1);void 0==d&&(d=!0);var e;e=void 0!=a&&null!=a?a.id+".":"*.";b=b.getElementsByTagName("*");for(var f=0;f<b.length;f++){var h=b[f].id;if("string"==typeof h&&(h.substr(0,e.length)==e||c||"*."==e)&&(d&&"*."!=e&&dynSetElementDisplay(b[f].id,a.id,a.value),"*."==e||!a.checked))if("checkbox"==b[f].type&&(b[f].checked=!1),"radio"==b[f].type&&(b[f].checked=!1),"text"==b[f].type&&(b[f].value=""),"number"==b[f].type&&
(b[f].value=""),void 0!=b[f].rows){for(;2<b[f].rows.length;)_dynCleanTableRow(a,b[f],2),b[f].deleteRow(2);if(1<b[f].rows.length)for(h=0;h<b[f].rows[1].childNodes.length;h++)dynCleanChilds(a,b[f].rows[1].childNodes[h],!0,!1)}else if(void 0!=b[f].cells)for(h=0;h<b[f].cells.length;h++)dynCleanChilds(a,b[f].cells[h],!0,d);else void 0!=b[f].type&&__cbOnChange__(b[f])}}}
function dynTableDelRow(a,b){for(void 0==b&&(b=2);void 0!=a&&!(a instanceof HTMLTableRowElement);)a=a.parentNode;if(a){var c=a.parentNode;c.rows.length>b?(_dynCleanTableRow(a,c,a.rowIndex),c.deleteRow(a.rowIndex)):_dynCleanTableRow(a,c,a.rowIndex)}else alert("Your button is outside a table")}function dynTableDelAllRows(a){for(;0<a.rows.length;)dynTableDelRow(a.rows[0],0)}function _dynExplodeTag(a){var b=a.match(/\d+$/)[0];return[a.substr(0,a.length-b.length),b]}
function dynTableCloneRow(a,b){for(;void 0!=a&&!(a instanceof HTMLTableRowElement);)a=a.parentNode;if(a){for(var c=a.parentNode,d=a.cloneNode(!0),e=0;e<d.cells.length;e++)for(var f=d.cells[e],h=0;h<f.childNodes.length;h++){var g=f.childNodes[h];if(""<g.id){for(var k=_dynExplodeTag(g.id),s=k[1],s=0;y$(k[0]+zeroPad(s,2));)s++;g.id=k[0]+zeroPad(s,2);g.name=g.id;g.onchange=b}g.value=null}return c.insertBefore(d,a.nextSibling)}alert("Your button is outside a table");return null}
function dynTableCloneLastRow(a){a=y$(a);0<a.rows.length&&dynTableCloneRow(a.rows[a.rows.length-1])}
function dynSetElementDisplay(a,b,c){if(a=y$(a)){var d=y$(b);if(d){var e;if("radio"==d.type)for(b=document.getElementsByName(b),void 0==c&&0<b.length&&(c=b[b.length-1].value),d=0;d<b.length;d++)b[d].checked&&(e=b[d].value);else"checkbox"==d.type?d.checked&&(e=d.value):e=d.value;void 0==c&&(c=e);c=c==e?"":"none";if("table"==a.type)for(e=0;e<a.rows.length;e++)a.rows[e].style.display=c;else a.style.display=c}}}
function dynSetDisplay(a,b){for(var c=0;c<a.length;c++)a[c].style.display=b,_dumpy(2,1,a[c].id,a[c].style.display)}function dynSetVisibility(a,b){for(var c=0;c<a.length;c++)a[c].style.visibility=b,_dumpy(2,1,a[c].id,a[c].style.visibility)}function dynRemoveElements(a){for(var b=a.length-1;0<=b;b--)a[b].parentNode.removeChild(a[b])}function dynTablePrint(a,b,c){}
function calcGridAddItem(a,b,c,d,e,f,h,g,k,s){void 0==g&&(g=!1);void 0==k&&(k="");void 0==s&&(s="2");var w=!0,v=e.split(",");if(!g)for(var t in v)v.hasOwnProperty(t)&&void 0==b[v[t]]&&(w=!1);w?void 0==a[c]?(a[c]=[],a[c].title=d,a[c].fieldList=e,a[c].calcExpr=f,a[c].resultCellPostfix=h,a[c].units=k,a[c].decimalPlaces=s):console.log("Field '"+c+"' already exists in calcGrid"):console.log("Some fields does not exists in ("+b+") list")}var _cg_rules=[];
function calcGridSetRules(a,b,c){void 0==_cg_rules[a.id]&&(_cg_rules[a.id]=[]);_cg_rules[a.id].rules=b;_cg_rules[a.id].onColumns=c}function calcGridSetCellsGuides(a,b,c){void 0==_cg_rules[a.id]&&(_cg_rules[a.id]=[]);_cg_rules[a.id].area=[];_cg_rules[a.id].area.colSet=b;_cg_rules[a.id].area.rowSet=c}function calcGridGetColsGuide(a){var b=null;void 0!=a&&void 0!=_cg_rules[a.id]&&(b=_cg_rules[a.id].area.colSet);return b}
function calcGridGetRowsGuide(a){var b=null;void 0!=a&&void 0!=_cg_rules[a.id]&&(b=_cg_rules[a.id].area.rowSet);return b}function calcGridEnumerateCells(a,b,c){var d=!1;if(d=_cg_rules[a.id]){a=d.area.colSet;var e=d.area.rowSet,f;for(f in e)if(e.hasOwnProperty(f))for(var h in a)if(a.hasOwnProperty(h)){var g=y$(f+"_"+a[h].name);g&&(void 0!=c?(d=!1,c.editable&&(d=a[h].editable&&e[f].editable),c.name&&(d=d||a[h].name==c.name||e[f].name==c.name)):d=!0,d&&b(g))}}}
function calcGridCleanContent(a){var b=[];b.value="";b.calcGridSet=a.id;calcGridEnumerateCells(a,function(a){dynSetCellValue(a.id,b)})}function calcGridCleanColumn(a,b){var c=_cg_rules[a.id];if(c){var d=c.area.rowSet,c=c.area.colSet[b],e;if(c)for(var f in d)d.hasOwnProperty(f)&&(e=y$(f+"_"+c.name))&&dynSetCellValue(e.id,"")}}function calcGridGetRules(a){return(a=_cg_rules[a.id])?a.rules:{}}
function calcGridGetAssociatedRule(a,b){var c=null,d=calcGridGetRules(a),e;for(e in d)null==c&&d.hasOwnProperty(e)&&b==e&&(c=d[e]);return c}function calcGridGetRuleTitle(a,b){var c=null,d=calcGridGetAssociatedRule(a,b);null!=d&&(c=d.title);return c}function calcGridGetNextFieldName(a,b){var c=null,d=calcGridGetRules(a),e=!1,f;for(f in d)null==c&&d.hasOwnProperty(f)&&(e&&(c=f),e=f==b);return c}
function calcGridRecalc(a,b){var c=_cg_rules[a.id];if(c){var c=c.rules,d;for(d in c)if(c.hasOwnProperty(d)){var e=c[d];if(e.fieldList&&0<=e.fieldList.indexOf(b)){var f=e.fieldList.split(","),h=[],g;for(g in f)f.hasOwnProperty(g)&&(h[f[g]]=y$(f[g]).innerHTML);var f=""<e.resultCellPrefix?e.resultCellPrefix+"_"+d:""<e.resultCellPostfix?d+"_"+e.resultCellPostfix:d,h=Parser.evaluate(e.calcExpr,h),k=0,k=k.toFixed(e.decimalPlaces),h=h.toFixed(e.decimalPlaces),h=isNaN(h)?k:isInfinity(h)?k:h+e.units;y$(f).innerHTML=
h;y$(f).style.border="solid 1px #96CBFF"}}}}function dynTableGetCellParentGrid(a){for(a=y$(a).parentNode;"TABLE"!=a.tagName;)a=a.parentNode;return"TABLE"==a.tagName?a:null}function dynTableCreate(a,b){if(a){var c=document.createElement("table");c.id=b;c.name=b;a.appendChild(c)}else console.log("Error: You cannot create a dynTable without a div to contain it");return c}
function dynTableSetRowTitles(a,b,c,d){for(var e in c)if(c.hasOwnProperty(e)&&"_context_"!=e){for(;a.rows.length<b;)var f=a.insertRow(a.rows.length),f=f.insertCell(0);f=a.insertRow(a.rows.length);f=f.insertCell(0);f.id=e;""<c[e].parent&&(f.style.paddingLeft="18px",f.style.fontSize="80%");var h=c[e].title;void 0!=d&&c[e].graph&&(h='<a href="javascript:'+d+"('"+a.id+"','"+e+"')\">"+h+"</a>");f.innerHTML=h}}
function dynTableSetColTitles(a,b,c){var d,e=b,f;for(f in c)if(c.hasOwnProperty(f)){for(var h=0;h<a.rows.length;h++){for(d=a.rows[h];d.cells.length<b;)d.insertCell(d.cells.length);d=d.insertCell(e);0==h&&(d.innerHTML=c[f].title);d.id=a.rows[h].cells[0].id+"_"+c[f].name;d.style.textAlign="center"}e++}}
function dynTableSetColWidth(a,b,c,d){void 0==c&&(c=0);void 0==d&&(d=a.rows[a.rows.length-1].cells.length);for(;c<=d;c++)for(var e=0;e<a.rows.length;e++)void 0!=a.rows[e].cells[c]&&(a.rows[e].cells[c].style.minWidth=b+"px")}function dynTableSetRowHeight(a,b,c,d){void 0==c&&(c=0);for(void 0==d&&(d=a.rows.length-1);c<=d;c++)a.rows[c].style.height=b+"px"}
function dynSetCellValue(a,b){if(y$(a)){var c=a.split("_"),d=dynTableGetCellParentGrid(a),e=calcGridGetAssociatedRule(d,c[0]);if(void 0==h){var f=calcGridGetRules(d),h=[],g;for(g in f)void 0!=g&&"_context_"!=g&&f.hasOwnProperty(g)&&(h[g]=y$(g+"_"+c[1]).innerHTML)}f=!0;""!=y$(a).innerHTML&&(void 0!=e.minVal&&""<e.minVal&&(g=str2int(b.value)+" >= "+e.minVal,f=Parser.evaluate(g,h),console.log(g+" = "+f)),f&&void 0!=e.maxVal&&""!=e.maxVal&&(g=e.maxVal+" >= "+str2int(b.value),f=Parser.evaluate(g,h),console.log(g+
" = "+f)));if(f){h=c[0]+"_total";f=str2int(y$(a).innerHTML);y$(a).innerHTML=b.value;if(y$(h)){g=str2int(y$(h).innerHTML);g=g-f+str2int(b.value);y$(h).innerHTML=g;var f=b.calcGridSet.split(","),k;for(k in f)f.hasOwnProperty(k)&&""<f[k]&&(g=y$(f[k]),calcGridRecalc(g,h))}void 0!=e&&(e=e.notificationFormId,""<e&&(e=this["fl_"+e]))&&(e._position=[],e._position.name="_position",e._position.type="hidden",e._position.value={x:100,y:0},askValue("/","javascript:dynSaveForm()",e));b.openNextField&&(c=calcGridGetNextFieldName(d,
c[0])+"_"+c[1],y$(c)&&y$(c).click())}else console.log("O Valor n\u00e3o pode ser lan\u00e7ado por n\u00e3o cumprir condi\u00e7\u00f5es de exist\u00eancia"),window.alert("O valor n\u00e3o \u00e9 consistente.\nRevise valores do campo pai e o pr\u00f3prio valor lan\u00e7ado\nTente novamente"),y$(a).click()}}
function showCellInfo(a,b,c){var d="";a&&(d=a.parentElement.firstChild.innerHTML+"<br><small>Dia: "+a.cellIndex+"</small>");d="<div style='"+(c?"font-weight: 800; color:black":"color:#aaa")+"'>"+d+"</div>";if(c=document.getElementById("tipDiv"))b&&(c.style.display="block",b=getX(a)+a.offsetWidth,a=getY(a)+a.offsetHeight,new Effect.Move("tipDiv",{x:b,y:a,mode:"absolute",duration:.3})),c.innerHTML=d}
function dynSetEditableCell(a,b,c,d,e,f){var h=y$(c+"_"+b);h&&(h.onmouseover=function(){showCellInfo(this,!0,e)},h.onmouseout=function(){showCellInfo(this,!1,e)},h.onclick=e?function(){var a=calcGridGetRuleTitle(this.parentNode.parentNode.parentNode,c);null==a&&(a="Valor");var e=[];e.valor=[];e.valor.title=a+" / "+b;e.valor.name="value";e.valor.type="integer";e.valor.width="4";e.valor.value=h.innerHTML;e.calcGridSet=[];e.calcGridSet.name="calcGridSet";e.calcGridSet.type="hidden";e.calcGridSet.value=
d;e.openNextField=[];e.openNextField.name="openNextField";e.openNextField.type="hidden";e.openNextField.value=1;var a=getX(h)+parseInt(h.offsetWidth),s=getY(h)+parseInt(h.offsetHeight);e._position=[];e._position.name="_position";e._position.type="hidden";e._position.value={x:a,y:s};e._position.onChangesFuncName=f;askValue("/",'javascript:dynSetCellValue("'+c+"_"+b+'")',e)}:null)}
function dynSetEditableCells(a,b,c,d){for(var e in b)if(b.hasOwnProperty(e))for(var f in c)c.hasOwnProperty(f)&&dynSetEditableCell(a,c[f].name,b[e].name,[c[f].calcGridAssoc,b[e].calcGridAssoc],c[f].editable&&b[e].editable,d)}function dynSetClickableHeaders(a,b,c,d){for(var e in c)c.hasOwnProperty(e)&&(a=y$("_"+c[e].name))&&(a.onclick=d)}function dynSetClickableRowHeaders(a,b,c,d){for(var e in b)b.hasOwnProperty(e)&&(a=y$(b[e].name))&&(a.onclick=d)}
function sequenceSetValue(a,b,c){for(var d in a)a.hasOwnProperty(d)&&(a[d][b]=c)}function sequenceAdd(a,b){a[b.name]=b}function sequenceProducer(a,b,c){var d=[];if(0<c)for(;a<=b;a+=c){var e=[];e.title=a;e.name=a;sequenceAdd(d,e)}else 0>c||console.log("You cannot create a non increment sequence");return d}
function fillTable(a,b,c,d,e,f,h,g,k){ycomm.invoke("yeapfDB","doSQL",{sql:'"'+b+'"'},function(b,g,k){console.log(b,a);b=c.split(",");g="";for(var t=0;t<b.length;t++)g+='<td><a href="{1}">%({0})</a></td>'.format(b[t],d);ycomm.dom.fillElement(a,k,{onNewItem:f,rows:[g],inplaceData:[e],onNewItem:f,onReady:h})})}function getCheckboxTable(a){return y$(a).parentElement?y$(a).parentElement.parentElement:null}
function getAllCheckboxInTable(a){var b={};a=a.getElementsByTagName("input");for(var c=a.length,d=0,e=0;e<c;e++)"checkbox"===a[e].type&&(b[d++]=a[e]);return b}function getFormSelectOptions(a,b,c,d){a.length=0;ycomm.invoke("yeapfDB","getFormSelectOptions",{formName:'"'+b+'"',formField:'"'+c+'"'},function(e,f,h){console.log(e,b+"."+c);for(var g in h)if(h.hasOwnProperty(g))for(var k in h[g])h[g].hasOwnProperty(k)&&"rowid"!=k&&(a[k]=h[g][k]);void 0!=d&&d(a,b,c)})}
function $value(a,b){var c=y$(a);return c?c.value:b}function __saveFormInfo(a){var b=$value("s",""),c=$value("a",""),c="save"+c.ucFirst(),d=$value("id",""),e;"checkbox"==a.type?e=a.checked?a.value:"":"text"==a.type&&(e=a.value);var f=a.id,f=f.replace(".","_");_dumpy(2,1,"u",u,"s",b,"a",c,"id",d,"eID",a.id,"v",e);_DO(b,c,"(id,"+f+")","("+d+","+e+")")}
function __dynOnChange__(a){void 0==a&&(a=window.event||arguments.callee.caller.arguments[0]);a.target&&(a=a.target);a.childOpenCondition&&console.log(a.childOpenCondition)}function __cbOnChange__(a,b){void 0==a&&(a=window.event||arguments.callee.caller.arguments[0]);a.target&&(a=a.target);void 0==b&&(b=a.dynSaveOnChange);_dumpy(2,1,"check ",a.id,a.checked);void 0!=a.dynOnChange&&a.dynOnChange();b&&__saveFormInfo(a);dynCleanChilds(a,document)}_dump("ydyntable");