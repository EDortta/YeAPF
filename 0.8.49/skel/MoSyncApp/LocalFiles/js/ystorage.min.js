/* YeAPF 0.8.49-110 built on 2016-08-12 15:24 (-3 DST) Copyright (C) 2004-2016 Esteban Daniel Dortta - dortta@yahoo.com */
window.ystorage||Object.defineProperty(window,"ystorage",new function(){var e=[],b={};Object.defineProperty(b,"getItem",{value:function(a){return a?this[a]:null},writable:!1,configurable:!1,enumerable:!1});Object.defineProperty(b,"key",{value:function(a){return e[a]},writable:!1,configurable:!1,enumerable:!1});Object.defineProperty(b,"setItem",{value:function(a,b){a&&(document.cookie=escape(a)+"="+escape(b)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")},writable:!1,configurable:!1,enumerable:!1});
Object.defineProperty(b,"length",{get:function(){return e.length},configurable:!1,enumerable:!1});Object.defineProperty(b,"removeItem",{value:function(a){a&&(document.cookie=escape(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")},writable:!1,configurable:!1,enumerable:!1});this.get=function(){var a,d;for(d in b)a=e.indexOf(d),-1===a?b.setItem(d,b[d]):e.splice(a,1),delete b[d];for(;0<e.length;e.splice(0,1))b.removeItem(e[0]);for(var c=0,f=document.cookie.split(/\s*;\s*/);c<f.length;c++)a=f[c].split(/\s*=\s*/),
1<a.length&&(b[d=unescape(a[0])]=unescape(a[1]),e.push(d));return b};this.configurable=!1;this.enumerable=!0});
window.ySingleDb||(console.log("Creating ySingleDb ... "),window.ySingleDb=function(e){var b={_list:null,toBinArray:function(a){for(var b=(a||"").length,c=new Uint8Array(b),e=0;e<b;e++)c[e]=a.charCodeAt(e);return c},toBinString:function(a){a=new Uint8Array(a);for(var b=[],c=0;65535*c<a.length;c++)b.push(String.fromCharCode.apply(null,a.subarray(65535*c,65535*(c+1))));return b.join("")},setItem:function(a,d){a=String(a);localStorage.setItem(b._dbTag_+"_item_"+a,JSON.stringify(d));-1==b._list.indexOf(a)&&
(b._list[b._list.length]=a,localStorage.setItem(b._dbTag_+"_list",JSON.stringify(b._list)))},setBinItem:function(a,d){b.setItem(a,b.toBinString(d))},getItem:function(a){a=String(a);a=localStorage.getItem(b._dbTag_+"_item_"+a);return a=JSON.parse(a||"{}")},getBinItem:function(a){return b.toBinArray(b.getItem(a))},getList:function(){return b._list||[]},fillList:function(a,d,c){d=d||"id";c&&b.cleanList();for(c=0;c<a.length;c++)a[c][d]&&b.setItem(a[c][d],a)},removeItem:function(a){localStorage.removeItem(b._dbTag_+
"_item_"+a);a=b._list.indexOf(String(a));-1<a&&(b._list.splice(a,1),localStorage.setItem(b._dbTag_+"_list",JSON.stringify(b._list)))},cleanList:function(){for(var a in b._list)id=b._list[a],b.removeItem(id)},init:function(a){b._dbTag_=a;console.log("ystorage: creating "+a);b._list=localStorage.getItem(b._dbTag_+"_list");"string"==typeof b._list&&(b._list=JSON&&JSON.parse(b._list)||[]);b._list=b._list||[];return b}};return b.init(e)},console.log("ystorage ready!"));
