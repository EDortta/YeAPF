/* YeAPF 0.8.62-214 built on 2019-06-03 17:33 (-3 DST) Copyright (C) 2004-2019 Esteban Daniel Dortta - dortta@yahoo.com */
window._WIDBI_AUTO=-1;window._WIDBI_AS_WORKER=1;window._WIDBI_AS_IFRAME=2;window._WIDBI_AS_INLINE=3;
var yIndexedDBInterfaceObj=function(r,s,l,k){function p(a){_dumpy(128,1,"yIndexedDBInterfaceObj _msgReceiver "+a.data.cmd);switch(a.data.cmd){case "initialization":_dumpy(128,1,"initialization status: "+a.data.information.status);a.data.information.status!=n&&(n=a.data.information.status,"function"==typeof g.onstatuschange&&setTimeout(function(){g.onstatuschange(n)},125));break;case "callback":a=JSON.parse(a.data.information.cbr);for(var b=["callbackId","callbackOnItem","callbackOnComplete"],m=0;m<
b.length;m++){var c=a[b[m]];"object"==typeof d[c]&&(d[c].callback(a),d[c].destroy||a._removeThis)&&("string"==typeof d[c].sibling&&delete d[d[c].sibling],delete d[c])}break;case "log":_dumpy(128,1,a.data.information.message)}}function h(a,b,m){var c=null;if("function"==typeof a){var e={},e={callback:a,destroy:"undefined"==typeof b?!0:b,sibling:m||!1},c=t+generateSmallSessionUniqueId();d[c]=e}return c}k=str2int(k);0>=k&&(k=537>yloader.webKitVersion.split(".")[0]?_WIDBI_AS_IFRAME:_WIDBI_AS_WORKER);
var g={},e,t=newIdentifier(),d=[],n=null,f,u=function(a){var b={count:function(a){e.postMessage({cmd:"count",callbackId:h(a,!0),tableName:b.tableName},f)},setItem:function(a,c,d){e.postMessage({cmd:"setItem",callbackId:h(d,!0),tableName:b.tableName,data:c,keyValue:a},f)},getItem:function(a,c){e.postMessage({cmd:"getItem",callbackId:h(c,!0),tableName:b.tableName,keyValue:a},f)},insertData:function(a,c,d){c=h(c,!1);e.postMessage({cmd:"insertData",tableName:b.tableName,callbackId:c,dataArray:a.slice(),
fieldsToPreserve:d},f)},filter:function(a,c,d,g){a=h(a,!1);e.postMessage({cmd:"filter",tableName:b.tableName,callbackOnItem:a,callbackOnComplete:h(c,!0,a),condition:d,haltOnFirst:g},f)},removeItem:function(a,c){e.postMessage({cmd:"removeItem",callbackId:h(c,!0),tableName:b.tableName,keyValue:a},f)},removeData:function(a,c){e.postMessage({cmd:"removeData",callbackId:h(c,!1),tableName:b.tableName,arrayOfKeys:a},f)},init:function(){b.tableName=a;return b}};return b.init()},q=function(){e.postMessage({cmd:"init",
dbTag:r,dbVersion:s,objectStoreDescription:l},f);for(var a=0;a<l.length;a++)"undefined"==typeof g[l[a].name]&&(g[l[a].name]=u(l[a].name))};g.init=function(){getScriptName=function(){for(var a=document.getElementsByTagName("script"),b=0,d="";b<a.length;){var e=a[b].src;0<=e.indexOf("ystorage-indexedDB-interface")&&(d=e);b++}return d};var a=-1<getScriptName().indexOf(".min.js")?"ystorage-indexedDB-slave.min.js":"ystorage-indexedDB-slave.js";if(k==_WIDBI_AS_WORKER)e=new Worker("js/{0}".format(a)),f=
[],e.addEventListener("message",p),q();else if(k==_WIDBI_AS_IFRAME){var b=document.createElement("iframe"),a="<script src='js/yloader.js'>\x3c/script>\n<script src='js/{0}'>\x3c/script>".format(a);b.frameborder=0;b.height=0;b.width=0;b.style="width:0;height:0;border:0; border:none;display: none;";document.body.appendChild(b);b.contentWindow.document.open();b.contentWindow.document.write(a);b.contentWindow.document.close();b.name="ifc_indexedDB";e=b.contentWindow;window.addEventListener("message",
p,!1);f="*";b.onload=function(){q()}}return g};return g.init()};
