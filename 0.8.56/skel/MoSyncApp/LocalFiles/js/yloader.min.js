/* YeAPF 0.8.56-100 built on 2017-05-05 10:47 (-3 DST) Copyright (C) 2004-2017 Esteban Daniel Dortta - dortta@yahoo.com */
if("undefined"===typeof console)var console="undefined"!=typeof window?window.console=window.console||{}:{};(function(){for(var a="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profileEnd table time timeEnd timeStamp trace warn".split(" "),b,c=0;c<a.length;c++)b=a[c],console[b]||(console[b]=function(){})})();console.log("YeAPF 0.8.56-100 built on 2017-05-05 10:47 (-3 DST)");
function getInternetExplorerVersion(){var a=-1;"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(a=parseFloat(RegExp.$1));return a}function isInternetExplorer(){return 0<=getInternetExplorerVersion()}function getAndroidVersion(a){a=(a||navigator.userAgent).toLowerCase();return(a=a.match(/android\s([0-9\.]*)/))?a[1]:!1}
function isOnMobile(){var a=!1;_dump(navigator.userAgent);return a="undefined"!=typeof mosync?mosync.isAndroid||mosync.isIOS||mosync.isWindowsPhone:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}ydbg=function(){return{logLevel:0,logFlag:0}};function __dump__(a){"object"==typeof mosync?mosync.rlog(a):console.log(a)}
function _dump(){for(var a="",b,c=0;c<arguments.length;c++)""<a&&(a+=", "),b=arguments[c],"object"==typeof b&&(b=b.toString()),a+=b;__dump__(a)}function _setLogFlagLevel(a,b){ydbg.logFlag=a;ydbg.logLevel=b}function _dumpy(a,b){if(ydbg.logFlag&a&&ydbg.logLevel>=b){var c="",d,e;d=new Date;e=d.getHours()+":"+d.getMinutes()+":"+d.getSeconds()+" ";for(var g=2;g<arguments.length;g++)""<c&&(c+=", "),d=arguments[g],"object"==typeof d&&(d=d.toString()),c+=d;__dump__(e+c)}}
var yloaderBase=function(){var a={};(function(){var b;"object"==typeof document?(b=document.getElementsByTagName("script"),b=b[b.length-1].src.split("?")[0].split("/").slice(0,-1).join("/")+"/"):b="./";a.selfLocation=b;_dump("Loading from "+b)})();a.isWorker="function"==typeof importScripts;a.isMobile=!a.isWorker&&"undefined"!==typeof window.orientation;a.isChromeExtension=!a.isWorker&&(window.chrome&&chrome.runtime&&chrome.runtime.id||"chrome-extension:"==a.selfLocation.substr(0,17));a.isChromeSandbox=
!a.isWorker&&a.isChromeExtension&&!chrome.storage;a.loadLibrary=function(b,c){var d;if(""<b){if("chrome-extension:"!=a.selfLocation.substr(0,17))b=a.selfLocation+"/"+b+"?v=0.8.56";else{for(var e=a.selfLocation.split("/"),g="",k=3;k<e.length;k++)""<e[k]&&(""<g&&(g+="/"),g+=e[k]);b=g+"/"+b+"?v=0.8.34"}b=b.replace(/\/\//g,"/");b=b.replace("http:/","http://");e=b.split("/");0<e.length&&(d=e[e.length-1]);"function"==typeof importScripts?importScripts(b):(e=document.getElementsByTagName("head")[0],
0>b.indexOf(".css")?(g=document.createElement("script"),g.type=0<b.indexOf(".js")?"text/javascript":"text/text",g.src=b):(g=document.createElement("link"),g.id=c||d,g.rel="stylesheet",g.type="text/css",g.href=b,g.media="all"),e.appendChild(g));_dump(d+" added")}};a.isWorker||window.addEventListener("load",function(){var a="CSS1Compat"===document.compatMode?document.documentElement:document.body,c=document.getElementById("screen");c&&(c.style.width=a.clientWidth+"px")});return a};_dump("R1");
var yloader=yloaderBase();_dump("R2");
(function(){y$=function(a,b,c){var d=void 0,e;if(""<a)if("#"==a.substr(0,1)&&(a=a.substr(1)),d=document.getElementById(a),d||(d=document.getElementsByName(a),d.length?(1==d.length&&(d=d[0]),0===d.length&&(d=void 0)):d=void 0),d)"undefined"!==typeof b&&(c=0+c,d.getElementsByTagName&&(a=d.getElementsByTagName(b),0<a.length&&(d=a[c])));else{d=a.split(" ");a=void 0;b=!0;for(c=0;c<d.length;c++)e=trim(d[c]),"."==e.substr(0,1)&&(e=e.substr(1)),e=getElementsByClassName(document,"*",e),0<e.length&&(b?a=e:
(b=!1,a=array_intersect(a||[],e)));d=a}return d}})();"undefined"==typeof $&&($=y$);function $frame(a){"./"==a.substr(0,2)&&(a=a.substr(2));var b;"../"==a.substr(0,3)?(b=parent,a=a.substr(3)):"/"==a?(a="",b=top):"/"==a.substr(0,1)?(b=top,a=a.substr(1)):b=self;if(""<a){a=a.split("/");for(var c=0;c<a.length;c++)b=b.frames[a[c]]}return b}
function $frameByName(a){_searchFrameByName_=function(a,c){var d=null;if(a.frames)for(var e=0;null===d&&e<a.frames.length;e++)d=a.frames[e].name==c?a.frames[e]:_searchFrameByName_(a.frames[e],c);return d};return _searchFrameByName_(top,a)}
function $frameOwner(a,b){_searchFunctionInFrame_=function(a,b,c){var k;if(eval("typeof f."+a+"=='"+b+"'"))k=c;else{var h=0;if(c.frames)for(;h<c.frames.length&&void 0===k;)k=_searchFunctionInFrame_(a,b,c.frames[h++])}return k};var c=$frame("/");return _searchFunctionInFrame_(a,b,c)}function isSSL(){return 0===window.location.href.indexOf("https://")}
function produceWaitMsg(a){return'<style type="text/css">\x3c!--.yWarnBanner {  font-family: Georgia, "Times New Roman", Times, serif;  font-size: 16px;  font-style: normal; font-variant: normal; font-weight: normal;  text-transform: none; margin: 16px; padding: 8px; background-color: #DFEEF2;  border: 1px dotted #387589; line-height: 24px;}--\x3e</style>'+'<div class=yWarnBanner><img src="images/waitIcon.gif" height=18px>&nbsp;{0}&nbsp;</div>'.format(a)}
function getElementsByAttribute(a,b,c,d){console.log("getElementsByAttribute()");a=a.getElementsByTagName(b);b=[];for(var e="undefined"!=typeof d?new RegExp("(^|\\s)"+d+"(\\s|$)","i"):null,g,k,h=0;h<a.length;h++)g=a[h],k=g.getAttribute&&g.getAttribute(c),"string"==typeof k&&0<k.length&&("undefined"==typeof d||e&&e.test(k))&&b.push(g);return b}
if("undefined"==typeof getElementsByClassName){var getElementsByClassName=function(a,b,c){a=a.getElementsByTagName(b);b=[];for(var d,e=0;e<a.length;e++)(d=a[e])&&"function"==typeof d.hasClass&&d.hasClass(c)&&b.push(d);null===b&&(b=document.getElementsByClassName(c));return b};console.log("Using own 'getElementsByClassName()' function")}
function getStyleRuleValue(a,b){for(var c=0;c<document.styleSheets.length;c++)for(var d=document.styleSheets[c],d=d.cssRules?d.cssRules:d.rules,e=0;e<d.length;e++)if(d[e].selectorText&&d[e].selectorText.toLowerCase()===a)return"string"==typeof b?d[e].style[b]:d[e].style}
var getClientSize=function(){var a=document&&document.documentElement?document.documentElement:{clientWidth:800,clientHeight:600},b=window?window:{innerWidth:800,innerHeight:600},c=Math.max(a.clientWidth,b.innerWidth||0),a=Math.max(a.clientHeight,b.innerHeight||0);return[c,a]};
if("undefined"==typeof resizeIframe)var resizeIframe=function(a,b){b=b||{};b.width=b.width||0;b.height=b.height||0;var c,d;c=screen.height;d=a.contentWindow.document.body.scrollHeight+40-b.height;c=Math.max(c,d);a.style.height=c+"px";c=screen.width;d=a.contentWindow.document.body.scrollWidth+40-b.width;c=Math.max(c,d);a.style.width=c+"px";(c=a.getAttribute("onResize"))&&eval(c)};var _expectedType;_expectedType=isOnMobile()&&3>parseInt(getAndroidVersion(),10)?"object":"function";
_dump("ExpectedType="+_expectedType);_dump("typeof HTMLElement = "+typeof HTMLElement);
typeof HTMLElement==_expectedType&&(HTMLElement.prototype.hasClass=function(a){var b=!1;if(this.className)for(var c=this.className.split(" "),d=0;d<c.length;d++)c[d]==a&&(b=!0);return b},HTMLElement.prototype.deleteClass=function(a){for(var b="",c=this.className.split(" "),d=0;d<c.length;d++)c[d]!=a&&(""<b&&(b+=" "),b+=c[d]);this.className=b;return this},HTMLElement.prototype.removeClass=HTMLElement.prototype.deleteClass,HTMLElement.prototype.addClass=function(a){for(var b=!1,c=this.className.split(" "),
d=0;d<c.length;d++)c[d]==a&&(b=!0);b||(this.className=a+" "+this.className);return this},HTMLElement.prototype.siblings=function(){for(var a=this.parentNode.firstChild,b=[];a;)a!=this&&1==a.nodeType&&b.push(a),a=a.nextSibling;return b},HTMLElement.prototype.getAttribute||(HTMLElement.prototype.getAttribute=function(a){for(var b="",c=0;c<this.attributes.length;c++)this.attributes[c].name==a&&(b=attributes[c].value);return b}),HTMLElement.prototype.block||(HTMLElement.prototype.block=function(){this.setAttribute("blocked",
"blocked");return this}),HTMLElement.prototype.unblock||(HTMLElement.prototype.unblock=function(){this.removeAttribute("blocked");return this}),HTMLElement.prototype.isBlocked||(HTMLElement.prototype.isBlocked=function(){var a=this.getAttribute("blocked");return"string"==typeof a&&"blocked"==a.toLowerCase()}),HTMLElement.prototype.lock||(HTMLElement.prototype.lock=function(){this.isBlocked()||(this.readOnly=!0);return this}),HTMLElement.prototype.unlock||(HTMLElement.prototype.unlock=function(){this.isBlocked()||
(this.readOnly=!1);return this}),HTMLElement.prototype.selected||(HTMLElement.prototype.selected=function(){var a=this;if("object"==typeof this.list){var b=trim(this.value),c=this.list.options,d;for(d in c)if(c.hasOwnProperty(d)&&trim(c[d].innerHTML)==b){a=c[d];break}}return a}));
Array.prototype.forEach||(Array.prototype.forEach=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!==typeof a)throw new TypeError;for(var d=2<=arguments.length?arguments[1]:void 0,e=0;e<c;e++)e in b&&a.call(d,b[e],e,b)});Array.prototype.unique||(Array.prototype.unique=function(){var a=this;return a.filter(function(b,c){return a.indexOf(b)==c})});
var mergeObject=function(a,b,c){void 0===c&&(c=!1);b=b||{};for(var d in a)a.hasOwnProperty(d)&&(void 0===b[d]||c)&&(b[d]=a[d])};function isPropertySupported(a){return a in document.body.style}function isEmpty(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}
String.prototype.abbreviate||(String.prototype.abbreviate=function(a,b){var c=function(){""<z&&(h.length+l.length+z.length+(0<h.length?1:0<0+l.length?1:0)<a?(l=trim(z+" "+l),A++):h.length+l.length+1<a&&(l=trim(z.substr(0,1)+"."+l),A++))},d=function(){""<m&&(h.length+l.length+m.length+(0<h.length?1:0<0+l.length?1:0)<a?(h=trim(h+" "+m),A++):h.length+l.length+1<a&&(h=trim(h+" "+m.substr(0,1)+"."),A++))};b=b||!1;a=str2int(a);if(0<this.indexOf(" ")){for(var e,g,k=this.toString(),h="",l="",m,z,A;h.length+
l.length+1<=a&&(k=trim(k),e=k.indexOf(" "),0>e&&(e=k.length),g=k.lastIndexOf(" "),m=trim(k.substr(0,e)),z="",e<g&&(z=trim(k.substr(g)),k=trim(k.substr(0,g))),k=trim(k.substr(e)),A=0,b?d():c(),m!=z&&(b?c():d()),0!==A););return trim(h+" "+l)}return this.substr(0,a)});String.prototype.ucFirst||(String.prototype.ucFirst=function(){return this.charAt(0).toUpperCase()+this.slice(1)});String.prototype.lcFirst||(String.prototype.lcFirst=function(){return this.charAt(0).toLowerCase()+this.slice(1)});
String.prototype.repeat||(String.prototype.repeat=function(a,b){return Array((a||1)+1).join(b||this)});String.prototype.quoteString||(String.prototype.quoteString=function(a){void 0===a&&(a=!1);var b=this.valueOf();isNumber(b)?b=parseFloat(b):a&&""===b?b=null:(b=this.replace(/\"/g,'\\"'),b='"'+b+'"');return b});String.prototype.quote||(String.prototype.quote=function(){return'"'+this.replace(/\"/g,'\\"')+'"'});
String.prototype.unquote||(String.prototype.unquote=function(){var a="",b="";if(1<this.length)if(a=this.substr(0,1),b=this.substr(this.length-1,1),a==b){if('"'==b||"'"==b)return this.substr(1,this.length-2)}else return"("==a&&")"==b||"["==a&&"]"==b||"{"==a&&"}"==b?this.substr(1,this.length-2):this.toString()+"";else return this.toString()+""});
String.prototype.format||(String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})});
if(!String.prototype.isCPF){var _mod_=function(a,b){return Math.round(a-Math.floor(a/b)*b)};String.prototype.isCPF=function(){var a,b=this;if(11!=(b=b.replace(/[^\d]/g,"").split("")).length||(new RegExp("^"+b[0]+"{11}$")).test(b.join("")))return!1;a=10;for(i=n=0;2<=a;n+=b[i++]*a--);if(b[9]!=(2>(n%=11)?0:11-n))return!1;a=11;for(i=n=0;2<=a;n+=b[i++]*a--);return b[10]!=(2>(n%=11)?0:11-n)?!1:!0};String.prototype.gerarCNPJ=function(){var a=Math.round(9*Math.random()),b=Math.round(9*Math.random()),c=Math.round(9*
Math.random()),d=Math.round(9*Math.random()),e=Math.round(9*Math.random()),g=Math.round(9*Math.random()),k=Math.round(9*Math.random()),h=Math.round(9*Math.random()),l;l=_mod_(5*a+4*b+3*c+2*d+9*e+8*g+7*k+6*h+2,11);var m=2>l?0:11-l;l=_mod_(6*a+5*b+4*c+3*d+2*e+9*g+8*k+7*h+3+2*m,11);return""+a+b+"."+c+d+e+"."+g+k+h+"/0001-"+m+(2>l?0:11-l)};String.prototype.gerarCPF=function(){var a=Math.round(9*Math.random()),b=Math.round(9*Math.random()),c=Math.round(9*Math.random()),d=Math.round(9*Math.random()),e=
Math.round(9*Math.random()),g=Math.round(9*Math.random()),k=Math.round(9*Math.random()),h=Math.round(9*Math.random()),l=Math.round(9*Math.random()),m;m=_mod_(10*a+9*b+8*c+7*d+6*e+5*g+4*k+3*h+2*l,11);var z=2>m?0:11-m;m=_mod_(11*a+10*b+9*c+8*d+7*e+6*g+5*k+4*h+3*l+2*z,11);return""+a+b+c+"."+d+e+g+"."+k+h+l+"-"+z+(2>m?0:11-m)}}String.prototype.isEmail||(String.prototype.isEmail=function(){return isEmail(this)});
String.prototype.isCNPJ||(String.prototype.isCNPJ=function(){var a,b=[6,5,4,3,2,9,8,7,6,5,4,3,2],c=this;if(14!=(c=c.replace(/[^\d]/g,"").split("")).length)return!1;for(n=a=0;12>a;n+=c[a]*b[++a]);if(c[12]!=(2>(n%=11)?0:11-n))return!1;for(n=a=0;12>=a;n+=c[a]*b[a++]);return c[13]!=(2>(n%=11)?0:11-n)?!1:!0});
String.prototype.toFloat||(String.prototype.toFloat=function(){n=this;if(n.match(/^-?((\d*[,.]){1,4})?\d*$/)){var a=n.indexOf("."),b=n.indexOf(",");a<b&&(n=n.replace(".",""));n=n.replace(",",".");return parseFloat(n)}return NaN});Function.prototype.method=function(a,b){this.prototype[a]=b;return this};Function.method("inherits",function(a){this.prototype=new a;return this});"function"!==typeof Object.create&&(Object.create=function(a){var b=function(){};b.prototype=a;return new b});
Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c=this.length>>>0,d=Number(b)||0,d=0>d?Math.ceil(d):Math.floor(d);for(0>d&&(d+=c);d<c;d++)if(d in this&&this[d]===a)return d;return-1});var forceStringValue=function(a,b){return((a[b]||"")+"").unquote()};array_intersect=function(a,b){var c=b;b.length>a.length&&(b=a,a=c);return a.filter(function(a){if(-1!==b.indexOf(a))return!0})};
var suggestKeyName=function(a,b,c,d){var e=null;if(b){var g;if(isArray(a)){g={};for(var k=0;k<a.length;k++)aColName=a[k],g[aColName]=aColName}else g=a;a=b.toUpperCase();for(var h in g)g.hasOwnProperty(h)&&h.toUpperCase()==a&&(e=h);(c||d)&&null===e&&(c=c||"",d=d||"",a.substr(0,c.length)==c.toUpperCase()&&(b=b.substr(c.length),e=suggestKeyName(g,b)),null===e&&a.substr(a.length-d.length)==d.toUpperCase()&&(b=b.substr(0,b.length-d.length),e=suggestKeyName(g,b)))}return e};
"undefined"==typeof Date.prototype.getFirstDayOfWeek&&(Date.prototype.getFirstDayOfWeek=function(a){a=a||0;var b=new Date(this.getTime());for(b.setHours(0,0,0,0);b.getDay()!=a;)b.setDate(b.getDate()-1),b.setHours(0,0,0,0);return b});"undefined"==typeof Date.prototype.monthFirstDOW&&(Date.prototype.monthFirstDOW=function(a){a=new Date((a||this).getTime());a.setDate(1);return a.getDay()});
"undefined"==typeof Date.prototype.monthLastDay&&(Date.prototype.monthLastDay=function(a){a=new Date((a||this).getTime());return(new Date(a.getYear(),a.getMonth()+1,0)).getDate()});"undefined"==typeof Date.prototype.monthLastDOW&&(Date.prototype.monthLastDOW=function(a){a=new Date((a||this).getTime());a.setDate(this.monthLastDay(a));return a.getDay()});
"undefined"==typeof Date.prototype.nextMonth&&(Date.prototype.nextMonth=function(a){a=new Date((a||this).getTime());var b=a.getMonth();a.setMonth(b+1);a.getMonth()!=b+1&&0!==a.getMonth()&&a.setDate(0);return a});"undefined"==typeof Date.prototype.prevMonth&&(Date.prototype.prevMonth=function(a){a=new Date((a||this).getTime());var b=a.getMonth();a.setMonth(b-1);a.getMonth()!=b-1&&(11!=a.getMonth()||11==b&&1==a.getDate())&&a.setDate(0);return a});
"undefined"==typeof Date.prototype.incMonth&&(Date.prototype.incMonth=function(a){var b=this.getMonth();this.setMonth(b+a);this.getMonth()!=b+a&&(11!=this.getMonth()||11==b&&1==this.getDate())&&this.setDate(0)});"undefined"==typeof Date.prototype.incDay&&(Date.prototype.incDay=function(){this.setDate(this.getDate()+1)});"undefined"==typeof Date.prototype.decDay&&(Date.prototype.decDay=function(){this.setDate(this.getDate()-1)});
"undefined"==typeof Date.prototype.incWeek&&(Date.prototype.incWeek=function(){this.setDate(this.getDate()+7)});"undefined"==typeof Date.prototype.decWeek&&(Date.prototype.decWeek=function(){this.setDate(this.getDate()-7)});"undefined"==typeof Date.prototype.daysInMonth&&(Date.prototype.daysInMonth=function(a,b){b||(b=this.getFullYear());a||(a=this.getMonth()+1);return 32-(new Date(parseInt(b),parseInt(a)-1,32)).getDate()});
"undefined"==typeof Date.prototype.toFrenchString&&(Date.prototype.toFrenchString=function(){return""+this.getDate()+"/"+(this.getMonth()+1)+"/"+this.getFullYear()});"undefined"==typeof Date.prototype.toUDate&&(Date.prototype.toUDate=function(){return""+pad(this.getFullYear(),4)+pad(this.getMonth()+1,2)+pad(this.getDate(),2)+pad(this.getHours(),2)+pad(this.getMinutes(),2)+pad(this.getSeconds(),2)});
"undefined"==typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+pad(this.getUTCMonth()+1,2)+"-"+pad(this.getUTCDate(),2)+"T"+pad(this.getUTCHours(),2)+":"+pad(this.getUTCMinutes(),2)+":"+pad(this.getUTCSeconds(),2)+"."+String((this.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"});"undefined"==typeof Date.prototype.frenchFormat&&(Date.prototype.frenchFormat=function(){return this.getDate()+"/"+(this.getMonth()+1)+"/"+this.getFullYear()});
var extractDateValues=function(a,b,c){var d=function(a){var b=(a.match(/\//g)||[]).length;a=(a.match(/\-/g)||[]).length;return b>a?"/":0<a?"-":""},e=d(b),d=d(a),g,k=null;if(""<e){var k=[],h=b.split(e);for(g=0;g<h.length;g++)k[h[g].substr(0,1)]=g;for(g=a.split(e);g.length<h.length;)a=a+e+"01",g[g.length]=0}g=function(c){var d=b.indexOf(c),g=0;if(0<=d){for(var h;d+g<b.length&&b.substr(d+g,1)==c;)g++;h=0<(c.match(/[y,m,d]/g)||[]).length&&null!==k?a.split(e)[k[c]].split(" ")[0]:str2int(a.substr(d,g));
return[d,h,c,g]}return[null,null,c]};h=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c][1];null!==d&&(d=d.toString(),1==d.length?d=pad(d,2):3==d.length&&(d=pad(d,4)));b[a[c][2]]=d}return b};void 0===b&&(b="yyyy-mm-dd hh:mm:ss");if(""===a)return c=[],c.y="",c.d="",c.m="",c.H="",c.M="",c.S="",c;void 0===c&&(c={});c.elems=[g("y"),g("m"),g("d"),g("H"),g("M"),g("S")];if(d==e&&0<c.elems[1][1]&&13>c.elems[1][1]&&1<=c.elems[2][1]&&31>=c.elems[2][1])c=h(c.elems);else{c=c.elems;c.sort(function(a,b){if(a[0]===
b[0])return 0;if(a[0]<b[0]||null===b[0])return-1;if(a[0]>b[0]||null===a[0])return 1});d=a.match(/\b[\d]+\b/g);for(g=0;g<c.length&&g<d.length;g++)c[g][1]=d[g];c=0<c[0][1]*c[1][1]*c[2][1]?h(c):null}return c},array2date=function(a){return pad(a.d,2)+"-"+pad(a.m,2)+"-"+a.y};
function time2minutes(a){if(void 0===a||"NaN"==a)a=0;var b=0,c=0;""<a&&(a=""+a+" ",c=a.indexOf("h"),0>c&&(c=a.indexOf(":")),0<=c?(b=a.substring(0,c),c=parseInt(a.substring(c+1)),isNaN(c)&&(c=0)):(b=0,c=parseInt(a)),a=60*b+c);0>a&&(a=0);return a}function minutes2time(a){var b=Math.floor(a/60);a=pad(a%60,2);return b+":"+a}function timestamp2dayOfWeek(a){var b=new Date;b.setTime(1E3*a);return b.getDay()}
Date.prototype.stdTimezoneOffset=function(){var a=new Date(this.getFullYear(),0,1),b=new Date(this.getFullYear(),6,1);return Math.max(a.getTimezoneOffset(),b.getTimezoneOffset())};Date.prototype.dst=function(){return this.getTimezoneOffset()<this.stdTimezoneOffset()};function TimezoneDetect(){var a=new Date("1/1/"+(new Date).getUTCFullYear()),b=1E4,c;for(c=0;12>c;c++)a.setUTCMonth(a.getUTCMonth()+1),b>-1*a.getTimezoneOffset()&&(b=-1*a.getTimezoneOffset());return b}
function timestamp2date(a){if(!isNaN(a)&&""<a){var b=new Date;b.setTime(1E3*a+6E4*(-TimezoneDetect()-b.getTimezoneOffset()));return pad(b.getDate(),2)+"/"+pad(b.getMonth()+1,2)+"/"+pad(b.getFullYear(),4)}return""}function timestamp2time(a,b){var c;if(void 0===a)c="";else if(""===a||isNaN(a))c="";else{void 0===b&&(b=!1);var d=new Date;d.setTime(1E3*a);c=pad(d.getHours(),2)+":"+pad(d.getMinutes(),2);b&&(c=c+":"+pad(d.getSeconds(),2))}return c}
function FDate2UDate(a){a=a||(new Date("1/1/1900")).toFrenchString();a=0<a.indexOf("/")?a.split("/"):a.split("-");var b=a[2]||"",b=b.split(" ");a[2]=b[0];b=b[1];void 0===b&&(b="00:00:00");b=b.split(":");void 0===b[1]&&(b[1]=0);void 0===b[2]&&(b[2]=0);return pad(a[2],4)+"-"+pad(a[1],2)+"-"+pad(a[0],2)+" "+pad(b[0],2)+":"+pad(b[1],2)+":"+pad(b[2],2)}
function UDate2JSDate(a){a=extractDateValues(a,"yyyymmddHHMMSS");var b=new Date;b.setFullYear(a.y);b.setMonth(a.m-1);b.setDate(a.d);b.setHours(a.H);b.setMinutes(a.M);return b}function UDate2Date(a,b){"undefined"===typeof b&&(b="d/m/y");var c="",d=extractDateValues(a,"yyyymmddHHMMSS");d&&(c="");for(var e=0;e<b.length;e++)c=/^[d,m,y]+$/.test(b[e])?c+d[b[e]]:c+b[e];return c}
function UDate2Time(a,b){"undefined"===typeof b&&(b="H:M:S");var c="",d=extractDateValues(a,"yyyymmddHHMMSS");if(d)for(var c="",e=0;e<b.length;e++)c=/^[H,M,S]+$/.test(b[e])?c+d[b[e]]:c+b[e];return c}function IBDate2Date(a){var b="";(a=extractDateValues(a,"mmddyyyyHHMMSS"))&&(b=a.d+"-"+a.m+"-"+a.y);return b}function date2IBDate(a){var b="";(a=extractDateValues(a,"ddmmyyyyHHMMSS"))&&(b=pad(a.m,2)+"-"+pad(a.d,2)+"-"+a.y);return b}
function date2UDate(a){var b="";(a=extractDateValues(a,"ddmmyyyyHHMMSS"))&&(b=pad(a.y,4)+"-"+pad(a.m,2)+"-"+pad(a.d,2));return b}function IBDate2timestamp(a){a=IBDate2Date(a);return a=date2timestamp(a)}function timestamp2IBDate(a){a=timestamp2date(a);return a=date2IBDate(a)}
var dateTransform=function(a,b,c){if(a){if(a=extractDateValues(a,b)){b={};extractDateValues("111111111111",c,b);var d=c;for(c=0;c<b.elems.length;c++){var e=b.elems[c];if(null!==e[0]){for(var g=pad(a[e[2]],e[3]);d.length<e[0]+e[3];)d+=" ";d=d.substr(0,e[0])+g+d.substr(e[0]+e[3],d.length)}}}return d}return null};function isInfinity(a){return void 0!==a?a.POSITIVE_INFINITY||a.NEGATIVE_INFINITY||"Infinity"==a:!0}
function isNumber(a){if("string"===typeof a){var b=a.toFloat();isNaN(b)||(a=b)}return!isNaN(parseFloat(a))&&isFinite(a)}function isOperator(a){var b=!1;"string"==typeof a&&(b="<"==a||">"==a||"!"==a||"!=="==a||"!="==a||">"==a||"<="==a||">="==a||"=="==a);return b}var isArray=function(a){return a&&"object"===typeof a&&"number"===typeof a.length&&"function"===typeof a.splice&&!a.propertyIsEnumerable("length")};
function isEmail(a){a=a&&a.unquote()||"";return/^(([^\*<>()[\]\\.,;:\s@\"]+(\.[^\*<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)}function pad(a,b){for(var c=""+a;c.length<b;)c="0"+c;return c}
function unmaskHTML(a){if("string"==typeof a){if(0<a.length){var b=a.substr(0,1);if('"'==b||"'"==b){var c=a.substr(a.length-1);b==c&&(a=a.substr(1,a.length-2))}}for(;0<=a.indexOf("!!");)a=a.replace("!!","&");a=a.replace(/\&\#91\;/g,"<");a=a.replace(/\&\#93\;/g,">");a=a.replace(/\[/g,"<");a=a.replace(/\]/g,">")}else a="number"==typeof a?a.toString():"";return a}function escapeRegExp(a){return a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}
function maskHTML(a){a=a||"";if("string"==typeof a){for(;0<=a.indexOf("<");)a=a.replace(/\</,"[");for(;0<=a.indexOf(">");)a=a.replace(/\>/,"]");for(;0<=a.indexOf("&");)a=a.replace("&","!!")}return a}function trim(a){return"string"==typeof a?a.replace(/^\s+|\s+$/g,""):""}function unparentesis(a){1<a.length&&("("==a.substring(0,1)||"["==a.substring(0,1)||"{"==a.substring(0,1))&&(a=a.substring(1,a.length-1));return a}
function wordwrap(a,b,c,d){c=c||"\n";b=b||75;return a?a.match(RegExp(".{1,"+b+"}(\\s|$)"+(d?"|.{"+b+"}|.+$":"|\\S+?(\\s|$)"),"g")).join(c):a}function nl2br(a){var b="";void 0!==a&&(b=a.replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br>$2"));return b}function dec2deg(a,b){b=b||!0;var c=0<Math.sign(a),d,e,g;a=Math.abs(a);d=parseInt(a);g=60*(a-1*d);e=g-1*parseInt(g);g=parseInt(g);e=parseInt(60*e);return d+"&deg; "+g+"' "+e+"'' "+(b?c?"N":"S":c?"E":"W")}
function str2double(a){"undefined"===typeof a&&(a="0");a=""+a;var b="",b=0<a.indexOf(",")&&0<a.indexOf(".")?a.replace(".",""):a,b=b.replace(",",".");""===b&&(b="0.00");b=parseFloat(b);isNaN(b)&&(b=0);a=parseFloat(b);return a=parseFloat(a)}function str2int(a){a=parseInt(a);return null===a||isNaN(a)?0:a}function str2bool(a,b){void 0===b&&(b=!1);return a=void 0===a?b:"TRUE"==a.toUpperCase()}function bool2str(a){return a?"TRUE":"FALSE"}function dec2hex(a){return a.toString(16)}
function hex2dec(a){return parseInt(a,16)}var rowColorSpecBase=function(){return that={cfgColors:["#F2F0F0","#CFCFCF"],suggestRowColor:function(a){return this.cfgColors[a%2]},setRowColors:function(a,b){this.cfgColors[0]=a||this.cfgColors[0];this.cfgColors[1]=b||this.cfgColors[1]}}},rowColorSpec=rowColorSpecBase();
function decomposeColor(a){if("rgb("==a.substr(0,4))return a.replace(/[^\d,]/g,"").split(",");"#"==a.substr(0,1)&&(a=a.substr(1));var b=hex2dec(a.substr(0,2)),c=hex2dec(a.substr(2,2));a=hex2dec(a.substr(4,2));return[b,c,a]}function complementaryColor(a){a=decomposeColor(a);for(var b=0;3>b;b++)a[b]=Math.floor(a[b]/3),a[b]=32*Math.floor(a[b]/32),a[b]=250-Math.min(250,a[b]);return"#"+(dec2hex(a[0])+dec2hex(a[1])+dec2hex(a[2]))}
function grayColor(a){a=decomposeColor(a);a=(32*Math.floor(a[0]/32)+32*Math.floor(a[1]/32)+32*Math.floor(a[2]/32))/3;a=dec2hex(a);return a+a+a}
var hsmColorBase=function(){return{HueShift:function(a,b){for(a+=b;360<=a;)a-=360;for(;0>a;)a+=360;return a},RGB2HSV:function(a){hsv={};var b=a.r,c=a.g,d=a.b;max=b>c?b>d?b:d:c>d?c:d;b=a.r;c=a.g;d=a.b;dif=max-(b<c?b<d?b:d:c<d?c:d);hsv.saturation=0===max?0:100*dif/max;0===hsv.saturation?hsv.hue=0:a.r==max?hsv.hue=60*(a.g-a.b)/dif:a.g==max?hsv.hue=120+60*(a.b-a.r)/dif:a.b==max&&(hsv.hue=240+60*(a.r-a.g)/dif);0>hsv.hue&&(hsv.hue+=360);hsv.value=Math.round(100*max/255);hsv.hue=Math.round(hsv.hue);hsv.saturation=
Math.round(hsv.saturation);return hsv},HSV2RGB:function(a){var b={};if(0==a.saturation)b.r=b.g=b.b=Math.round(2.55*a.value);else{a.hue/=60;a.saturation/=100;a.value/=100;i=Math.floor(a.hue);f=a.hue-i;p=a.value*(1-a.saturation);q=a.value*(1-a.saturation*f);t=a.value*(1-a.saturation*(1-f));switch(i){case 0:b.r=a.value;b.g=t;b.b=p;break;case 1:b.r=q;b.g=a.value;b.b=p;break;case 2:b.r=p;b.g=a.value;b.b=t;break;case 3:b.r=p;b.g=q;b.b=a.value;break;case 4:b.r=t;b.g=p;b.b=a.value;break;default:b.r=a.value,
b.g=p,b.b=q}b.r=Math.round(255*b.r);b.g=Math.round(255*b.g);b.b=Math.round(255*b.b)}return b}}},hsmColor=hsmColorBase(),xml2array=function(a){var b,c={};c.not_whitespace=new RegExp(/[^\s]/);c.parent_count=null;c.xml2array=function(a,e){var g,k,h,l="";e=e||{};a.nodeName&&"#"!=a.nodeName.charAt(0)&&1<a.childNodes.length&&(g={},l=a.nodeName);var m=a.nodeValue;a.parentNode&&a.parentNode.nodeName&&m&&c.not_whitespace.test(m)&&(g={},g[a.parentNode.nodeName]=m);if(a.childNodes.length)if(1==a.childNodes.length)g=
c.xml2array(a.childNodes[0],e);else{g||(g=[]);for(var z=m=0;z<a.childNodes.length;z++)if(h=c.xml2array(a.childNodes[z],e)){k=!1;var A=0,y=null;for(b in h)if(h.hasOwnProperty(b)&&(y=b,isNaN(b)&&(k=!0),A++,2<A))break;if(k&&1==A)if(g[y])e&&e[y]||(e[y]=0,k=g[y],g[y]={},g[y][0]=k),e[y]++,g[y][e[y]]=h[y];else{if(e[y]=0,g[y]=h[y],a.childNodes[z].attributes&&a.childNodes[z].attributes.length)for(h=0;h<a.childNodes[z].attributes.length;h++)if(k=a.childNodes[z].attributes[h].nodeName)g["attribute_"+y+"_"+k]=
a.childNodes[z].attributes[h].value}else g[m]=h,m++}}l&&g&&(h=g,g={},g[l]=h);return g};return c.xml2array(a)},utf8_decode=function(a){var b=[],c=0,d=0,e=0,g=0,k=0,h=0;for(a+="";c<a.length;)e=a.charCodeAt(c),191>=e?(b[d++]=String.fromCharCode(e),c++):223>=e?(g=a.charCodeAt(c+1),b[d++]=String.fromCharCode((e&31)<<6|g&63),c+=2):239>=e?(g=a.charCodeAt(c+1),k=a.charCodeAt(c+2),b[d++]=String.fromCharCode((e&15)<<12|(g&63)<<6|k&63),c+=3):(g=a.charCodeAt(c+1),k=a.charCodeAt(c+2),h=a.charCodeAt(c+3),e=(e&
7)<<18|(g&63)<<12|(k&63)<<6|h&63,e-=65536,b[d++]=String.fromCharCode(55296|e>>10&1023),b[d++]=String.fromCharCode(56320|e&1023),c+=4);return b.join("")},utf8_encode=function(a){if(null===a||"undefined"===typeof a)return"";a+="";var b="",c,d,e=0;c=d=0;for(var e=a.length,g=0;g<e;g++){var k=a.charCodeAt(g),h=null;if(128>k)d++;else if(127<k&&2048>k)h=String.fromCharCode(k>>6|192,k&63|128);else if(55296!=(k&63488))h=String.fromCharCode(k>>12|224,k>>6&63|128,k&63|128);else{if(55296!=(k&64512))throw new RangeError("Unmatched trail surrogate at "+
g);h=a.charCodeAt(++g);if(56320!=(h&64512))throw new RangeError("Unmatched lead surrogate at "+(g-1));k=((k&1023)<<10)+(h&1023)+65536;h=String.fromCharCode(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}null!==h&&(d>c&&(b+=a.slice(c,d)),b+=h,c=d=g+1)}d>c&&(b+=a.slice(c,e));return b};function utf8_to_ascii(a){var b="",c,d=a.length,e;for(c=0;c<d;c++)128>a.charCodeAt(c)?b+=a.charAt(c):(e=""+a.charCodeAt(c).toString(16),b+="\\u"+(2===e.length?"00"+e:3===e.length?"0"+e:e));return b}
var generateUUID=function(){var a=(new Date).getTime();window.performance&&"function"===typeof window.performance.now&&(a+=performance.now());return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"==b?c:c&3|8).toString(16)})};function guid(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-4"+a().substr(0,3)+"-"+a()+"-"+a()+"-"+a()+a()+a()}
var generateSmallSessionUniqueId=function(){var a=[0,0,0],b="8i7u6y5t4r3e2w1q9o0p".split(""),c=b.length;return function(){var d=a[0],e=a[1],g=a[2],k=b[d]+b[e]+b[g],d=++d%c;d||(e=++e%c)||(g=++g%c);a=[d,e,g];return k}}(),md5=function(a){var b=function(a,b){var c,d,e,g,h;e=a&2147483648;g=b&2147483648;c=a&1073741824;d=b&1073741824;h=(a&1073741823)+(b&1073741823);return c&d?h^2147483648^e^g:c|d?h&1073741824?h^3221225472^e^g:h^1073741824^e^g:h^e^g},c=function(a,c,d,e,g,h,k){a=b(a,b(b(c&d|~c&e,g),k));return b(a<<
h|a>>>32-h,c)},d=function(a,c,d,e,g,h,k){a=b(a,b(b(c&e|d&~e,g),k));return b(a<<h|a>>>32-h,c)},e=function(a,c,d,e,g,h,k){a=b(a,b(b(c^d^e,g),k));return b(a<<h|a>>>32-h,c)},g=function(a,c,d,e,g,h,k){a=b(a,b(b(d^(c|~e),g),k));return b(a<<h|a>>>32-h,c)},k=function(a){var b="",c="",d;for(d=0;3>=d;d++)c=a>>>8*d&255,c="0"+c.toString(16),b+=c.substr(c.length-2,2);return b},h=[],l,m,z,A,y,s,w,x,v;a=this.utf8_encode(a);h=function(a){var b,c=a.length;b=c+8;for(var d=16*((b-b%64)/64+1),e=Array(d-1),g=0,h=0;h<
c;)b=(h-h%4)/4,g=h%4*8,e[b]|=a.charCodeAt(h)<<g,h++;b=(h-h%4)/4;e[b]|=128<<h%4*8;e[d-2]=c<<3;e[d-1]=c>>>29;return e}(a);s=1732584193;w=4023233417;x=2562383102;v=271733878;a=h.length;for(l=0;l<a;l+=16)m=s,z=w,A=x,y=v,s=c(s,w,x,v,h[l+0],7,3614090360),v=c(v,s,w,x,h[l+1],12,3905402710),x=c(x,v,s,w,h[l+2],17,606105819),w=c(w,x,v,s,h[l+3],22,3250441966),s=c(s,w,x,v,h[l+4],7,4118548399),v=c(v,s,w,x,h[l+5],12,1200080426),x=c(x,v,s,w,h[l+6],17,2821735955),w=c(w,x,v,s,h[l+7],22,4249261313),s=c(s,w,x,v,h[l+
8],7,1770035416),v=c(v,s,w,x,h[l+9],12,2336552879),x=c(x,v,s,w,h[l+10],17,4294925233),w=c(w,x,v,s,h[l+11],22,2304563134),s=c(s,w,x,v,h[l+12],7,1804603682),v=c(v,s,w,x,h[l+13],12,4254626195),x=c(x,v,s,w,h[l+14],17,2792965006),w=c(w,x,v,s,h[l+15],22,1236535329),s=d(s,w,x,v,h[l+1],5,4129170786),v=d(v,s,w,x,h[l+6],9,3225465664),x=d(x,v,s,w,h[l+11],14,643717713),w=d(w,x,v,s,h[l+0],20,3921069994),s=d(s,w,x,v,h[l+5],5,3593408605),v=d(v,s,w,x,h[l+10],9,38016083),x=d(x,v,s,w,h[l+15],14,3634488961),w=d(w,x,
v,s,h[l+4],20,3889429448),s=d(s,w,x,v,h[l+9],5,568446438),v=d(v,s,w,x,h[l+14],9,3275163606),x=d(x,v,s,w,h[l+3],14,4107603335),w=d(w,x,v,s,h[l+8],20,1163531501),s=d(s,w,x,v,h[l+13],5,2850285829),v=d(v,s,w,x,h[l+2],9,4243563512),x=d(x,v,s,w,h[l+7],14,1735328473),w=d(w,x,v,s,h[l+12],20,2368359562),s=e(s,w,x,v,h[l+5],4,4294588738),v=e(v,s,w,x,h[l+8],11,2272392833),x=e(x,v,s,w,h[l+11],16,1839030562),w=e(w,x,v,s,h[l+14],23,4259657740),s=e(s,w,x,v,h[l+1],4,2763975236),v=e(v,s,w,x,h[l+4],11,1272893353),x=
e(x,v,s,w,h[l+7],16,4139469664),w=e(w,x,v,s,h[l+10],23,3200236656),s=e(s,w,x,v,h[l+13],4,681279174),v=e(v,s,w,x,h[l+0],11,3936430074),x=e(x,v,s,w,h[l+3],16,3572445317),w=e(w,x,v,s,h[l+6],23,76029189),s=e(s,w,x,v,h[l+9],4,3654602809),v=e(v,s,w,x,h[l+12],11,3873151461),x=e(x,v,s,w,h[l+15],16,530742520),w=e(w,x,v,s,h[l+2],23,3299628645),s=g(s,w,x,v,h[l+0],6,4096336452),v=g(v,s,w,x,h[l+7],10,1126891415),x=g(x,v,s,w,h[l+14],15,2878612391),w=g(w,x,v,s,h[l+5],21,4237533241),s=g(s,w,x,v,h[l+12],6,1700485571),
v=g(v,s,w,x,h[l+3],10,2399980690),x=g(x,v,s,w,h[l+10],15,4293915773),w=g(w,x,v,s,h[l+1],21,2240044497),s=g(s,w,x,v,h[l+8],6,1873313359),v=g(v,s,w,x,h[l+15],10,4264355552),x=g(x,v,s,w,h[l+6],15,2734768916),w=g(w,x,v,s,h[l+13],21,1309151649),s=g(s,w,x,v,h[l+4],6,4149444226),v=g(v,s,w,x,h[l+11],10,3174756917),x=g(x,v,s,w,h[l+2],15,718787259),w=g(w,x,v,s,h[l+9],21,3951481745),s=b(s,m),w=b(w,z),x=b(x,A),v=b(v,y);return(k(s)+k(w)+k(x)+k(v)).toLowerCase()};
if("object"==typeof window&&"undefined"==typeof _onLoadMethods){var _onLoadMethods=[];window.addOnLoadManager=function(a){_onLoadMethods[_onLoadMethods.length]=a};document.addEventListener("DOMContentLoaded",function(a){mTabNav&&mTabNav.init()});window.addEventListener("load",function(){for(var a=0;a<_onLoadMethods.length;a++)if(_onLoadMethods.hasOwnProperty(a)&&void 0!==_onLoadMethods[a])_onLoadMethods[a]();isOnMobile()||(a=new Event("deviceready"),document.dispatchEvent(a))},!1);var addEvent=function(a,
b,c){"string"==typeof a&&(a=y$(a));if(null!==a&&"undefined"!==typeof a){var d;if(a.length)for(d=0;d<a.length;d++)addEvent(a[d],b,c);else{b=b.split(" ");var e;for(d=0;d<b.length;d++)e=b[d],a.addEventListener?a.addEventListener(e,c,!1):a.attachEvent?a.attachEvent("on"+e,c):a["on"+e]=c}}},removeEvent=function(a,b,c){"string"==typeof a&&(a=y$(a));if(null!==a&&"undefined"!==typeof a)if(isArray(a))for(b=0;b<a.length;b++)removeEvent(a[b],c);else{var d=b.split(" "),e;for(b=0;b<d.length;b++)e=d[b],a.addEventListener?
a.removeEventListener(e,c,!1):a.detachEvent?a.detachEvent("on"+e,c):a["on"+e]=null}}}_dump("ymisc");
function yAnalise(a,b){if(void 0!==a){a=unmaskHTML(a);var c=/\%(|\w+)\(/gi,d,e,g,k,h;for(e="";"string"==typeof a&&0<=(d=a.search(c));)if(e=a.slice(d).search(/\(/),0<=e){g=a.slice(d+e+1,d+e+2);if('"'==g||"'"==g){h=d+e+1;do h++,k=a.slice(h,h+1);while(k!=g&&h<a.length);g=h+a.slice(h).search(/\)/)-d}else g=a.slice(d).search(/\)/);var l=a.slice(d+1,d+e);e=k=a.slice(d+e+1,d+g);k=k.split(",");for(h=0;h<k.length;h++)k[h]=yAnalise(k[h],b);e=void 0;h=k[0].toUpperCase();var m=k[0];if(void 0!==b)if(void 0==b[0])e=
b[h]?yAnalise(b[h],b):yAnalise(b[m],b);else for(var z=b.length-1;0<=z&&void 0==e;z--)void 0!=b[z][h]?e=yAnalise(b[z][h],b):void 0!=b[z][m]&&(e=yAnalise(b[z][m],b));else e="string"==eval("typeof "+m)?eval(m):yAnalise(m);void 0==e&&(e="");k[0]=e;switch(l){case "integer":case "int":case "intz":case "intn":e=str2int(e);0==e&&("intz"==l?e="-":"intn"==l&&(e=""));break;case "decimal":k=Math.max(0,parseInt(k[1]));e=str2double(e);e=e.toFixed(k);break;case "lon2deg":e=dec2deg(e,!1);break;case "lat2deg":e=dec2deg(e,
!0);break;case "ibdate":e=IBDate2Date(e);break;case "tsdate":e=timestamp2date(e);break;case "tstime":e=timestamp2time(e);break;case "date":e=k[1]?UDate2Date(e,k[1]):UDate2Date(e);break;case "time":e=k[1]?UDate2Time(e,k[1]):UDate2Time(e);break;case "nl2br":e=e.replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br>$2");break;case "abbreviate":e=e.abbreviate(k[1]||20,k[2]||!1);break;case "words":l=e.split(" ");m=Math.max(0,str2int(k[1]));z=Math.max(l.length-1,str2int(k[2]));k=Math.max(0,str2int(k[3]));e="";
for(h=m;h<m+z;h++){var A=onlyDefinedValue(l[h]);""<A&&(e+=" "+A)}0<k&&(e=wordwrap(e,k,"<br>",!0));break;case "quoted":e=('"'+e).trim()+'"';break;case "singleQuoted":e=("'"+e).trim()+"'";break;case "condLabel":break;default:if(""<l&&"function"==eval("typeof "+l)){e="";for(h=0;h<k.length;h++)""<e&&(e+=","),e+="'"+k[h]+"'";e=("<script>"+l+"("+e+");\x3c/script>").evalScripts()}}a=a.slice(0,d)+e+a.slice(d+g+1)}else{console.log("HALTING yAnalise as entering in loop");break}}else a="";return a}
var yLexObj=function(a){var b={optable:{"!":"EXCLAMATION",'"':"DOUBLE_QUOTE","#":"NUMBER_SIGN",$:"DOLLAR","%":"MODULUS","^":"POWER","&":"AMPERSAND","(":"L_PAREN",")":"R_PAREN","*":"MULTIPLICATION","+":"ADDITION",",":"COMMA","-":"SUBSTRACTION",".":"PERIOD","/":"DIVISION",":":"COLON",";":"SEMICOLON","<":"LESS_THAN","=":"EQUALS",">":"GREATER_THAN","?":"QUESTION","[":"L_BRACKET","\\":"BACKSLASH","]":"R_BRACKET","{":"L_BRACE","|":"PIPE","}":"R_BRACE","~":"TILDE","++":"INCREMENT","--":"DECREMENT","==":"EQUAL2",
"!=":"NOT_EQUAL2",">=":"GREATER_EQUALS2","<=":"LESS_EQUALS2"},opprecedence:{LIKE:5,"<":5,">":5,"<=":5,">=":5,"==":5,"(":4,"^":3,"/":2,"*":2,AND:1,OR:1,"+":1,"-":1},_ALPHA:1,_ALPHA_NUM:2,_NEW_LINE:4,_DIGIT:8,_QUOTE:16,voidToken:{type:null,token:null,token_string:null,pos:null},error:function(){var a={};mergeObject(b.voidToken,a);a.type="ERROR";a.pos=b.pos;return a},oneChar:function(a){return b.buf.charAt(b.pos+(a||0))},_isnewline:function(a){a=b.oneChar();return"\r"===a||"\n"===a?b._NEW_LINE:0},_isdigit:function(a){return"0"<=
a&&"9">=a?b._DIGIT:0},_isalpha:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a?b._ALPHA:0},_isalphanum:function(a){return b._isdigit(a)|b._isalpha(a)},_isquote:function(a){return"'"==a||'"'==a?b._QUOTE:0},_whatis:function(a){return b._isalpha(a)|b._isdigit(a)|b._isquote(a)},_process_quote:function(){var a=b.oneChar(),a=b.buf.indexOf(a,b.pos+1),d=b.error();a>b.pos&&(d={type:"LITERAL",token:b.buf.substring(b.pos+1,a),pos:b.pos},d.token_string=d.token,b.pos=a+1);return d},_process_identifier:function(){for(var a=
1,d=b.error();b.pos+a<b.buf.length&&b._isalpha(b.oneChar(a));)a++;d={type:"IDENTIFIER",token:b.buf.substring(b.pos,b.pos+a),pos:b.pos};d.token_string=d.token;b.pos+=a;return d},_process_number:function(){for(var a=1,d=b.error();b.pos+a<b.buf.length&&b._isdigit(b.oneChar(a));)a++;d={type:"NUMBER",token:b.buf.substring(b.pos,b.pos+a),pos:b.pos};d.token_string=d.token;b.pos+=a;return d},getToken:function(){for(var a,d=b.error();b.pos<b.buf.length;)if(a=b.oneChar(),-1<" \t\r\n".indexOf(a))b.pos++;else break;
if(b.pos<b.buf.length){if("/"==a&&"*"!=b.oneChar(1))b.oneChar(1);var e=b.optable[a];if(void 0===e)switch(b._whatis(a)){case b._ALPHA:d=b._process_identifier();a=String(d.token_string).toUpperCase();if("AND"==a||"OR"==a||"LIKE"==a)d.token_string=a,d.type="OPERATOR";break;case b._DIGIT:d=b._process_number();break;case b._QUOTE:d=b._process_quote()}else{var d=a,g=b.oneChar(1),k=b.voidToken,h=b.pos;if(b.optable[a+g])a+=g,e=b.optable[a],d=a;else if(0<="-+".indexOf(a)){var l=b.priorToken.type;if(null===
l||"OPERATOR"==l&&"L_PAREN"==b.priorToken.token)g=b._whatis(g),g==b._DIGIT?k=b._process_number():g==b._ALPHA&&(k=b._process_identifier())}d={type:k.type||"OPERATOR",token:k.token||e,pos:h,token_string:k.token_string||d};b.pos+=a.length}}else d.type="EOF",d.token=null;return b.priorToken=d},tokenTypeIs:function(a,b){return 0<=(","+b+",").indexOf(","+a.type+",")},getExpectedToken:function(a){var d=b.pos,e=b.getToken();if(b.tokenTypeIs(e,a))return e;b.pos=d;return!1},_analiseText:function(){var a,d=
b.voidToken,e,g,k;do if(k=!1,(a=b.getToken())&&"EOF"!=a.type){0<b.symStack.length&&(d=b.symStack[b.symStack.length-1]);d=d||b.voidToken;if("OPERATOR"==a.type)if(e=b.opprecedence[a.token_string]||99,g=b.opprecedence[d.token_string]||10,e<=g)d=b.symStack.pop(),b.symStack.push(a),d&&"("!=d.token_string&&b.postFixStack.push(d),k=!0;else if(")"==a.token_string){do(d=b.symStack.pop())&&"("!=d.token_string&&b.postFixStack.push(d);while(d&&"("!=d.token_string);k=!0}k||a&&("OPERATOR"==a.type?b.symStack.push(a):
b.postFixStack.push(a))}while("ERROR"!=a.type&&"EOF"!=a.type);do(d=b.symStack.pop())&&"EOF"!=d.type&&b.postFixStack.push(d);while(d&&"EOF"!=d.type)},solve:function(a){var d,e=[],g,k,h,l;for(d=0;d<b.postFixStack.length;d++)if(h=!1,g=b.postFixStack[d]){if("NUMBER"==g.type||"LITERAL"==g.type)k=g.token_string,isNumber(k)||(k=String(k).toUpperCase()),h=!0;"IDENTIFIER"==g.type&&(k=a[g.token_string],"undefined"==typeof k?(k="'"+g.token_string+"' is not defined on data",console.warn(k),k=!1):"string"==typeof k&&
(k=String(k).toUpperCase()),h=!0);if(h)e.push(k);else{l=e.pop();h=e.pop();switch((""+g.token_string).toUpperCase()){case "+":g=h+l;break;case "-":g=h-l;break;case "*":g=h*l;break;case "/":g=h/l;break;case "^":g=Math.pow(h,l);break;case ">":g=h>l;break;case "<":g=h<l;break;case ">=":g=h>=l;break;case "<=":g=h<=l;break;case "==":g=h==l;break;case "AND":case "&&":g=h&&l;break;case "OR":case "||":g=h||l;break;case "LIKE":h=String(h).toUpperCase();l=String(l).toUpperCase();g=l.replace(/\%/g,"");g="%"!=
l.substr(0,1)?"%"!=l.substr(l.length-1)?h==l:h.substr(0,g.length)==g:"%"==l.substr(l.length-1,1)?0<=h.indexOf(g):h.substr(h.length-g.length)==g;break;default:throw k="'"+g.token_string+"' is not a recognized operator",console.error(k),Error();}null!==g&&e.push(g)}}return g=e.pop()},showStack:function(a){for(var b="\t",e=0;e<a.length;e++)b+=a[e].token_string+" ";console.log(b)},parse:function(){b.reset();b._analiseText();return b.stack},reset:function(){b.pos=0;b.symStack=[];b.postFixStack=[];b.priorToken=
b.voidToken;return b},init:function(a){b.buf=a||b.buf||"";b.parse();return b}};return b.init(a)};_dump("yanalise");
var cfgDBbase=function(){return that={getConnParams:function(){var a=[];a.server=ystorage.getItem("server");a.user=ystorage.getItem("user");a.password=ystorage.getItem("password");a.token=ystorage.getItem("token");return a},setConnParams:function(a){ystorage.setItem("server",a.server);ystorage.setItem("user",a.user);ystorage.setItem("password",a.password);ystorage.setItem("token",a.token)}}},cfgDB=cfgDBbase();_dump("ycfgdb");
var ydragdropBase=function(){var a={info:{startX:0,startY:0,offsetX:0,offsetY:0,dragElement:null,overElement:null,oldZIndex:0,lastHighLight:null},highlight:function(b){null!=a.info.lastHighLight&&a.info.lastHighLight.deleteClass("highlight");(a.info.lastHighLight=b)&&a.info.lastHighLight.addClass("highlight")},getTarget:function(a){a||(a=window.event);return a.target?a.target:a.srcElement?a.srcElement:window.event},onMouseDown:function(b){null==b&&(b=window.event);var c=a.getTarget(b);"caption"==
c.className&&(c=c.parentNode);"title"==c.className&&(c=c.parentNode);if((1==b.button&&null!=window.event||0==b.button)&&"yes"==c.getAttribute("draggable")){document.body.style.cursor="move";a.info.startX=b.clientX;a.info.startY=b.clientY;a.info.offsetX=str2int(c.style.left);a.info.offsetY=str2int(c.style.top);a.info.oldZIndex=c.style.zIndex;b=0;for(var d=document.getElementsByTagName("div"),e=0;e<d.length;e++){var g=d[e];"yes"==g.getAttribute("draggable")&&g!=c&&parseInt(g.style.zIndex)>b&&(b=parseInt(g.style.zIndex))}for(e=
0;e<d.length;e++)g=d[e],"yes"==g.getAttribute("draggable")&&(g.style.zIndex=parseInt(g.style.zIndex)-1);c.style.zIndex=b+2;a.info.dragElement=c;document.body.focus();document.onselectstart=function(){return!1};c.ondragstart=function(){return!1};return!1}},onMouseMove:function(b){b||(b=window.event);var c=b.clientX,d=b.clientY;b=document.elementFromPoint(c,d);null!=a.info.dragElement?(a.info.overElement=b,a.info.dragElement.style.left=a.info.offsetX+c-a.info.startX+"px",a.info.dragElement.style.top=
a.info.offsetY+d-a.info.startY+"px",c=!0,b&&(c="yes"==b.getAttribute("droppable"),"function"==typeof b.ondragover&&(c=b.ondragover(a.info.dragElement)),c?a.highlight(b):a.highlight(null)),document.body.style.cursor=c?"crosshair":"move"):b&&document.body&&("yes"==b.getAttribute("draggable")?document.body.style.cursor="pointer":document.body.style.cursor="default")},onMouseUp:function(b){if(null!=a.info.dragElement){document.body.style.cursor="default";a.info.dragElement.style.zIndex=parseInt(a.info.dragElement.style.zIndex)-
1;document.onselectstart=null;a.info.dragElement.ondragstart=null;a.highlight(null);b=a.info.dragElement;a.info.dragElement=null;_dumpy(2,1,"mouse up over"+a.info.overElement.id);var c="yes"==a.info.overElement.getAttribute("droppable");if(c&&("function"==typeof a.info.overElement.ondragover&&(c=a.info.overElement.ondragover(b)),"function"==typeof a.info.overElement.ondrop&&c))a.info.overElement.ondrop(b)}}};"object"==typeof document&&(document.onmousedown=a.onMouseDown,document.onmouseup=a.onMouseUp,
document.onmousemove=a.onMouseMove);return a},ydragdrop=ydragdropBase();_dump("ydragdrop");
var tabNavBase=function(){var a={};isOnMobile()?(_dump("Loading mobile tabs"),a.tabchangeEvent=document.createEvent("Event"),a.tabchangeEvent.initEvent("tabchange",!0,!0),a.tabblurEvent=document.createEvent("Event"),a.tabblurEvent.initEvent("tabblur",!0,!0),a.tabfocusEvent=document.createEvent("Event"),a.tabfocusEvent.initEvent("tabfocus",!0,!0),a.tabshowEvent=document.createEvent("Event"),a.tabshowEvent.initEvent("tabshow",!0,!0)):"function"==typeof Event?(_dump("Loading desktop tabs"),a.tabchangeEvent=
new Event("tabchange"),a.tabblurEvent=new Event("tabblur"),a.tabfocusEvent=new Event("tabfocus"),a.tabshowEvent=new Event("tabshow")):_dump("Tabs are not supported");a.currentTabNdx=-1;a.currentContainerNdx=-1;a.containerList=[];a.tabList=[];a.storage=null;a.initialized=-1;a.lock={returnTabId:null,locked:!1};a.isContainer=function(a){var c=!1;a&&(c=a.hasClass("tnContainer"));return c};a.isTab=function(a){var c=!1;a&&(c=a.hasClass("tnTab"));return c};a.getContainer=function(b){return a.containerList[b]};
a.getCurrentContainer=function(){return a.getContainer(a.currentContainerNdx)};a.getContainerById=function(b){for(var c=null,d=0;d<a.containerList.length;d++)a.containerList[d].element.id==b&&(c=a.containerList[d]);return c};a.getTabContainer=function(b){var c=null;if(b)for(var d=0;d<a.containerList.length&&null==c;d++)for(var e=0;e<a.containerList[d].childs.length&&null==c;e++)"string"==typeof b?a.containerList[d].childs[e].id==b&&(c=a.containerList[d]):a.containerList[d].childs[e]==b&&(c=a.containerList[d]);
return c};a.getFirstTabInContainer=function(b){var c=null,d;"string"==typeof b&&(b=y$(b));a.isTab(b)?d=a.getTabContainer(b):(b=a.getContainerNdx(b),0<=b&&(d=a.containerList[b]));d&&(c=d.childs[0]);return c};a.getFirstChildTab=function(b){var c=null;"string"==typeof b&&(b=y$(b));if(a.isTab(b)){var d=b.getElementsByClassName("tnContainer");d.hasOwnProperty("0")?(b=a.getContainerNdx(d[0]),0<=b&&(c=a.containerList[b].childs[0])):c=b}return c};a.getContainerFromParam=function(b,c){void 0==b?b=void 0==
c?a.getCurrentContainer():a.getTabContainer(c):"string"==typeof b?b=a.getContainerById(b):isNumber(b)?b=a.getContainer(b):"object"!=typeof b&&(_dump("getContainerFromParam() parameter is not null, valid string, object nor a number"),b=null);return b};a.getCurrentTabNdx=function(b){var c=-1;if(b=a.getContainerFromParam(b))c=b.currentTabNdx;return c};a.setCurrentContainer=function(b){0>a.initialized&&a.init();a.currentContainerNdx=b%a.containerList.length};a.getContainerNdx=function(b){for(var c=-1,
d=0;d<a.containerList.length;d++)a.containerList[d].element==b&&(c=d);return c};a.addContainer=function(b){0>a.initialized&&a.init();if(b&&0>a.getContainerNdx(b)){a.currentContainerNdx=a.containerList.length;a.containerList[a.currentContainerNdx]={childs:[],element:b,currentTabNdx:-1};b=b.getElementsByClassName("tnTab");for(var c in b)b.hasOwnProperty(c)&&"object"==typeof b[c]&&(a.containerList[a.currentContainerNdx].childs[a.containerList[a.currentContainerNdx].childs.length]=b[c])}};a.addTab=function(b){0>
a.initialized&&a.init();if(b){var c=a.getCurrentContainer().childs;0>c.indexOf(b)&&(c[c.length]=b)}};a.init=function(b){if(0>a.initialized){_dump("Initializing tabs");a.initialized=0;b=document.getElementsByClassName("tnContainer");var c=null,d=null,c=0;if(b)for(c=0;c<b.length;c++)d=b[c],a.addContainer(d);else _dump("ERROR: No containers defined. Use 'tnContainer' class on a DIV");if(b=document.getElementsByClassName("tnTab"))for(c=0;c<b.length;c++)a.hideTab(b[c]);else _dump("ERROR: No tabs defined. Use 'tnTab' class on a DIV");
0<a.containerList.length&&(c=a.containerList[0].childs[0],a.displayTab(a.getFirstChildTab(c)));a.currentContainerNdx=0;a.initialized=1}ycomm&&ycomm.setWaitIconControl(a.waitIconControl);return a};a.currentTab=function(){var b=a.getCurrentContainer();return-1<b.currentTabNdx?b.childs[b.currentTabNdx]:null};a.createTab=function(b,c){var d=null;void 0==y$(c)&&(d=document.createElement("div"),d.className="tnTab",d.style.display="none",d.id=c,b.appendChild(d),a.addTab(d),a.hideTab(d));return d};a.delTab=
function(a){};a.displayTab=function(b,c){if(!a.changingView){a.changingView=!0;try{if(!a.locked()&&b){0>a.initialized&&a.init();_dumpy(64,1,"displayTab "+b.id);var d=!0,e=0;if(d=b.dispatchEvent(a.tabchangeEvent)||d){var g=a.getContainerFromParam(c);if(g){_dumpy(64,1,"canchange");for(var d=-1,k=!1,e=0;e<g.childs.length;e++)g.childs[e]!=b?k|=!a.hideTab(g.childs[e],b,g):d=e;_dumpy(64,1,"readytochange "+!k);if(k)_dumpy(64,1,"freeze");else{a.setCurrentContainer(a.getContainerNdx(g));g.currentTabNdx=d;
a._currentTab=b.id;b.dispatchEvent(a.tabfocusEvent);b.style.display="block";for(g=b;g&&g!=document.body;)g.style.display="block",g=g.parentNode;for(var h=b.getElementsByTagName("*"),e=0;e<h.length;){if("checkbox"==h[e].type||"radio"==h[e].type||"password"==h[e].type||"hidden"==h[e].type||"text"==h[e].type||"select-one"==h[e].type||"textarea"==h[e].type){h[e].focus();break}e++}window.dispatchEvent(a.tabshowEvent)}}}_dumpy(64,1,"return")}}finally{a.changingView=!1}}};a.showWaitIcon=function(){y$("waitIcon")&&
(isPropertySupported("opacity")&&(y$("waitIcon").style.opacity=".99"),y$("waitIcon").style.display="block")};a.hideWaitIcon=function(){y$("waitIcon")&&(isPropertySupported("opacity")?y$("waitIcon").style.opacity=0:y$("waitIcon").style.display="none")};a.waitIconControl=function(b){void 0!=b&&(b?a.showWaitIcon():a.hideWaitIcon())};a.isInnerTab=function(a,c){var d=!1;if(a)for(var e=a;e&&e.parent!=e;)c==e&&(d=!0),e=e.parentNode;return d};a.hideTab=function(b,c,d){if(!a.locked()){_dumpy(64,1,"hideTab "+
b.id);var e=!0;if(d=a.getContainerFromParam(d))if(d.childs.indexOf(b)==d.currentTabNdx){if(e=b.dispatchEvent(a.tabblurEvent)||e)d.currentTabNdx=-1}else e=!0;e&&"object"==typeof b&&!a.isInnerTab(c,b)&&(b.style.display="none");return e}};a.showNext=function(b){if(b=a.getContainerFromParam(b)){var c=b.currentTabNdx;c<b.childs.length-1?a.displayTab(b.childs[c+1],b):a.displayTab(b.childs[0],b)}};a.showPrior=function(b){if(b=a.getContainerFromParam(b)){var c=b.currentTabNdx;0<c?a.displayTab(b.childs[c-
1],b):a.displayTab(b.childs[b.childs.length-1],b)}};a.getCurrentTabId=function(b){var c=null;if(b=a.getContainerFromParam(b)){var d=b.currentTabNdx;-1<d&&(c=b.childs[d].id)}return c};a.showTab=function(b,c,d){if(!a.locked()){d=a.getContainerFromParam(d,b);void 0==b&&(b=d.childs[0].id);void 0==c&&(c=!1);var e=document.getElementById(b),g="";e?(c&&(g=a.getCurrentTabId(d)),a.displayTab(e,d),c&&a.lockTab(b,g)):alert(b+" not found")}};a.locked=function(){return a.lock.locked};a.releaseLockedTabs=function(){for(var b=
0;b<a.getCurrentContainer().childs.length;b++)a.getCurrentContainer().childs[b].locked&&(a.getCurrentContainer().childs[b].locked=!1);a.lock.locked=!1;a.lock.returnTabId=null};a.lockTab=function(b,c){a.locked()&&a.releaseLockedTabs();y$(b)&&(a.lock.locked=!0,y$(b).locked=!0,a.lock.returnTabId=y$(c)?c:null)};a.unlockTab=function(b){a.locked()&&y$(b)&&y$(b).locked&&(b=a.lock.returnTabId,a.releaseLockedTabs(),null!=b&&a.showTab(b))};return a},mTabNav=tabNavBase();_dump("ytabnav");
function processError(a){var b=a.errNo,c=a.errMsg;a=a.errDetail;if("string"!=typeof a){var d=array2text(a["sys.stack"],!1);void 0!==d&&(d="\n==[stack]===================================\n"+d);var e=a["sys.sqlTrace"];void 0!==e&&(e="\n==[sql]===================================\n"+e);a=a["sys.sqlError"]+e+d}return"Err #"+b+"\n-------- "+c+"\n-------- "+a}
var yRestTimeControl=function(a){var b={setRestTime:function(a){b._restTime=Math.min(Math.max(125,a),144E5)},adjustRestTime:function(a){a=(new Date).getTime()-a;b.setRestTime(b._restTime-(b._restTime-a)/2)},init:function(){b.setRestTime(a);Object.defineProperty(b,"restTime",{get:function(){return b._restTime},set:b.setRestTime});return b}};return b.init()},ycommBase=function(){var a={urlCodification:{"%20":" ","%21":"!","%2A":"*","%27":"'","%28":"(","%29":")","%3B":";","%3A":":","%40":"@","%26":"&",
"%3D":"=","%2B":"+","%24":"$","%2C":",","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]"},_AsyncMode:!0,_dummyWaitIconControl:function(){},setAsyncMode:function(a){void 0===a&&(a=!0);_AsyncMode=a},xq_urlEncode:function(b,c){"undefined"==typeof c&&(c=!0);if("string"==typeof b&&""<b){b=b.replace(/%/g,"%25");b=b.replace(/,/g,"\\,");for(var d in a.urlCodification)if(a.urlCodification.hasOwnProperty(d)){var e=new RegExp(escapeRegExp(a.urlCodification[d]),"g");b=b.replace(e,d)}"'"!=b.substring(0,1)&&'"'!=
b.substring(0,1)&&(isNumber(b)||c&&(b='"'+b+'"'))}return b},urlJsonAsParams:function(b){var c="",d="",e="",g;for(g in b)b.hasOwnProperty(g)&&(""<c&&(c+=",",d+=","),c+=g,e=maskHTML(a.xq_urlEncode(b[g],!1)),d+=e);return["("+c+")","("+d+")"]},buildCommonURL:function(b,c,d,e){"undefined"==typeof d&&(d={});var g=a.urlJsonAsParams(d);d=g[0];g=g[1];void 0===e&&(e="");b="s={0}&a={1}&u={2}&fieldName={3}&fieldValue={4}".format(b,c,e||"",d,g);return b+="&ts="+(new Date).getTime()},setWaitIconControl:function(b){a.waitIconControl=
b||a._dummyWaitIconControl},pinger:{canPing:!1,pingerWatchdog:null,pingCount:0,pingTimeout:5E3,pingInterleave:1500,onSuccess:null,onError:null,pong:function(b,c,d){a.pinger.pingerWatchdog&&clearTimeout(a.pinger.pingerWatchdog);_dumpy(4,1,"pong answer");if(a.pinger.pingCount<=d.pingCount&&(a.pinger.pingCount=0,null!==a.pinger.onSuccess))a.pinger.onSuccess();a.pinger.canPing&&(a.pinger.pingerWatchdog=setTimeout(a.pinger.ping,a.pinger.pingInterleave))},notAnswer:function(){a.pinger.pingerWatchdog&&clearTimeout(a.pinger.pingerWatchdog);
_dumpy(4,1,"Not pong answer");if(null!==a.pinger.onError)a.pinger.onError();else _dumpy(4,1,"Not 'onError' event");a.pinger.canPing&&(a.pinger.pingerWatchdog=setTimeout(a.pinger.ping,a.pinger.pingInterleave/2))},ping:function(b,c){a.pinger.pingerWatchdog&&clearTimeout(a.pinger.pingerWatchdog);_dumpy(4,1,"Prepare to ping");a.pinger.canPing=!0;a.pinger.onSuccess=b||a.pinger.onSuccess;a.pinger.onError=c||a.pinger.onError;a.pinger.pingCount++;ycomm.crave("yeapf","ping",{pingCount:a.pinger.pingCount},
"ycomm.pinger.pong");a.pinger.pingerWatchdog=setTimeout(a.pinger.notAnswer,a.pinger.pingTimeout)},stopPing:function(){a.pinger.pingerWatchdog&&clearTimeout(a.pinger.pingerWatchdog);_dumpy(4,1,"stop pinging");a.pinger.canPing=!1}},init:function(){a._comm_timeout=12E4;a._whatchdog_interleave=250;Object.defineProperty(a,"timeout",{get:function(){return a._comm_timeout},set:function(b){b=parseInt(b||0);a._comm_timeout=Math.min(18E6,Math.max(125,b));_dumpy(4,0,"Adjusting call timeout to {0}ms".format(a._comm_timeout))}});
Object.defineProperty(a,"wd_interval",{get:function(){return a._whatchdog_interleave},set:function(b){b=parseInt(b||0);a._whatchdog_interleave=Math.min(3*a.timeout/4,Math.max(100,b));_dumpy(4,0,"Adjusting watchdog interleave to {0}ms".format(a._whatchdog_interleave))}});a.setWaitIconControl();return a}};return a.init()},ycomm=ycommBase();_dump("ycomm");
if("undefined"==typeof xAjax){console.log("Using own xAjax() implementation");var xAjax=function(){var a={};a.xmlhttp="undefined"!==typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");a.Request=function(b,c){a.xmlhttp.onreadystatechange=function(){if(0<a.xmlhttp.readyState&&"undefined"!=typeof c.onProgress)c.onProgress(a.xmlhttp);if(4==a.xmlhttp.readyState&&"undefined"!=typeof c.onComplete)c.onComplete(a.xmlhttp)};a.xmlhttp.ontimeout=function(){};yloader.isWorker?c.asynchronous=
!1:c.multipart&&(c.asynchronous=!0);if("POST"==(c.method||"POST").toUpperCase())a.xmlhttp.open(c.method||"POST",b,c.asynchronous),a.xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset=utf-8"),a.xmlhttp.send(c.parameters);else{var d;d=-1!==b.indexOf("?")?"&":"?";a.xmlhttp.open(c.method,b+d+c.parameters,c.asynchronous);a.xmlhttp.send()}};return a}}ycomm.scriptName=yloader.isWorker?"../query.php":"query.php";ycomm.defaultMethod="post";ycomm.canReceiveMessages=!0;
ycomm.explodeData=function(a){var b,c;a=xml2array(a).root||{};var d=a.dataContext||{},e=a.error||d.error||d.lastError,g=null,k=d.userMsg,h=d.sysMsg;if(h&&h.msg&&"logoff"==h.msg){ycomm.canReceiveMessages=!1;for(var l=window,m;l.opener;)m=l,l=l.opener,m.close();for(;l.parent!=l;)l=l.parent;h.banner&&(_dumpy(4,1,h.banner),alert(h.banner));l.document.location="body.php?s=yeapf&a=logoff"}if(ycomm.canReceiveMessages){if(d){if(d.requiredFields)for(h=d.requiredFields.split(","),b=0;b<h.length;b++)fieldName=
h[b],y$(fieldName)&&y$(fieldName).addClass("fieldWarning");if(d.formError){h="";for(b in d.formError)d.formError.hasOwnProperty(b)&&(""<h&&(h+="\n"),h+=d.formError[b]);alert(h)}}if(a){void 0!=d.formID&&""==formID&&(formID=d.formID);d.firstRow=parseInt(d.firstRow);d.rowCount=parseInt(d.rowCount);d.requestedRows=parseInt(d.requestedRows);h=d.rowCount;b=a.data?a.data.row:a.row;1==h&&(b=Array(b));if(b){c=[];for(var z in b)if(b.hasOwnProperty(z)){c[z]={};for(var A in b[z])b[z].hasOwnProperty(A)&&(c[z][A]=
unmaskHTML(b[z][A]))}}void 0!==a.data&&(g=a.data.geometry)}}return{data:c,geometry:g,dataContext:d,error:e,userMsg:k}};ycomm.text2data=function(a){var b={};"function"==typeof DOMParser&&(a=(new DOMParser).parseFromString(a,"application/xml"),b=ycomm.explodeData(a));return b};
ycomm.registerCall=function(a,b,c){ydbg&&0<(ydbg.logFlag&8)&&("undefined"==typeof _ycomm_stat&&(window._ycomm_stat=[]),"undefined"==typeof _ycomm_stat[a]&&(_ycomm_stat[a]=[]),"undefined"==typeof _ycomm_stat[a][b]&&(_ycomm_stat[a][b]=[]),"undefined"==typeof _ycomm_stat[a][b][c]&&(_ycomm_stat[a][b][c]={count:0}),_ycomm_stat[a][b][c].count++,_dumpy(8,2,"via: {0} s: {1} a: {2} count: {3}".format(a,b,c,_ycomm_stat[a][b][c].count)))};
ycomm.dataLength=function(a){var b=0;if(a)for(var c in a)a.hasOwnProperty(c)&&b++;return b};
ycomm.invoke=function(a,b,c,d,e){"undefined"==typeof e&&(e=!0);if("object"==typeof a){var g=a;a=g.s;b=g.a;c=g.limits;d=g.callbackFunction}g="undefined"==typeof u?"":u;e&&ycomm.waitIconControl(!0);c=ycomm.buildCommonURL(a||"",b||"",c||{},g);"undefined"!=typeof xAjax?(ycomm.registerCall("invoke",a,b),xAjax().Request(ycomm.scriptName,{method:ycomm.defaultMethod,asynchronous:!yloader.isWorker,parameters:c,onTimeout:function(){console.log("XMLHttpRequest timeout");e&&ycomm.waitIconControl(!1);d(404,{},
[{}],null,null,null)},onComplete:function(a){var b={data:null,geometry:null,dataContext:null,error:null,userMsg:null},c=null;200==a.status?(a.responseXML?c=a.responseXML:"function"==typeof DOMparser&&(c=(new DOMParser).parseFromString(a.responseText,"application/xml")),null!==c&&(b=ycomm.explodeData(c))):console.log(a.statusText);ycomm.waitIconControl(!1);if(b.error)if("string"==typeof b.error)console.error(b.error);else for(var e in b.error)b.error.hasOwnProperty(e)&&console.error(b.error[e]);"function"==
typeof d&&(yloader.isWorker?d(a.responseText):d(a.status,b.error,b.data,b.userMsg,b.dataContext,b.geometry))}})):(console.log("Not ready to call "+c),console.log("prototype library not loaded"))};_dump("ycomm-ajax");ycomm.setDataLocation=function(a,b){ycomm._dataLocation_=a;ycomm._deviceId_=b||guid()};ycomm.getDataLocation=function(){return ycomm._dataLocation_};ycomm._scriptSequence=0;ycomm._maxScriptSequenceReceived=0;ycomm._CBSeq=1E3;ycomm._CBControl={};ycomm._load=0;ycomm._queue=0;
ycomm._maxDirectCall=10;ycomm._dataLocation_=function(){var a="object"==typeof document&&document.location&&document.location.href?document.location.href:"",b=a.lastIndexOf("/");return a.substr(0,b+1)+"rest.php"}();ycomm.getLoad=function(){return ycomm._load};
ycomm._removeJSONP=function(a,b){var c=document.head,d="rest_"+a,e=document.getElementById(d);void 0!==c&&void 0!==e?(clearTimeout(e._whatchdog_),"function"===typeof e.abort&&e.abort(),c.removeChild(e),_dumpy(4,1,"Clean "+d+" after call to "+b+"()")):_dumpy(4,1,"Script not found: "+d+" adressed to "+b+"()");_dumpy(4,1,ycomm.getStatus())};
ycomm.bring=function(a,b){var c=document.head;b&&ycomm.waitIconControl(!0);var d=document.createElement("script");_dumpy(4,1,a);var e=null,g=null,k=a.substr(a.indexOf("?")+1).split("&"),h;for(h in k)if(k.hasOwnProperty(h)){var l=k[h].split("=");"scriptSequence"==l[0]&&(e=l[1]);"callback"==l[0]&&(g=l[1])}ycomm._maxScriptSequenceReceived=Math.max(ycomm._maxScriptSequenceReceived,e);d.UUID=generateUUID();d.maxWaitCount=ycomm.timeout/ycomm.wd_interval+2;d.callbackFunctionName=g;d.displayWaitIcon=b;d.onload=
function(){0<ycomm._load&&ycomm._load--;this.abort=null;this.displayWaitIcon&&ycomm.waitIconControl(!1)};d.abort=function(){_dumpy(4,1,"Calling {0}(404);".format(g));setTimeout("{0}(404,{message: 'Server do not respond ({1})'}, {})".format(g,a),100)};d.pool=function(){_dumpy(4,5,this.UUID+" : "+this.maxWaitCount);this.maxWaitCount--;0<this.maxWaitCount?this._whatchdog_=setTimeout(this.id+".pool()",ycomm.wd_interval):"function"==typeof this.abort&&this.abort()};d.setAttribute("src",a);d.id="rest_"+
e;try{_dumpy(4,2,"Creating {0} as {1}".format(d.UUID,d.src)),c.appendChild(d),setTimeout(d.id+".pool()",ycomm.wd_interval)}catch(m){_dump("Exception: {0}".format(m.message))}setTimeout("ycomm._removeJSONP("+e+",'"+g+"');",ycomm.timeout)};
ycomm.crave=function(a,b,c,d,e,g){var k="undefined"==typeof u?"":u;if("undefined"==typeof g||null===g)g=0;if("undefined"==typeof e||null===e)e=!0;ycomm.registerCall("crave",a,b);ycomm._scriptSequence++;if(ycomm.getDataLocation()){var h;"function"==typeof d?(ycomm._CBSeq++,h="ycb"+ycomm._CBSeq,ycomm._CBControl[h]={ready:!1},window[h]=function(a,b,c,e,g,k){d(a,b,c,e,g,k);_dumpy(4,1,h)}):"string"==typeof d?h=d:console.error("param callBackFunction need to be function or string");""<h&&(ycomm._load++,
a=ycomm.buildCommonURL(a||"",b||"",c||{},k),a="{0}?{1}&callback={2}&callbackId={3}&scriptSequence={4}&deviceId={5}".format(ycomm._dataLocation_,a,h,g,ycomm._scriptSequence,ycomm._deviceId_),ycomm.getLoad()<=ycomm._maxDirectCall?(_dumpy(4,1,a),ycomm.bring(a,e)):setTimeout("ycomm.bring('"+a+"');",(.5+abs(ycomm.getLoad()-ycomm._maxDirectCall))*ycomm.wd_interval*2))}else console.error("You need to define dataLocation before 'crave' it")};
ycomm.isIdle=function(){return ycomm._maxScriptSequenceReceived==ycomm._scriptSequence};ycomm.getStatus=function(){return"isIdle() = {0} getLoad() = {1}".format(ycomm.isIdle(),ycomm.getLoad())};_dump("ycomm-rest");ycomm.dom={_elem_templates:[]};ycomm.dom.fillInplaceData=function(a,b){for(var c in b)b.hasOwnProperty(c)&&("data-"==c.substr(0,5)?a.setAttribute(c,b[c]):a.setAttribute("data-"+c,b[c]))};
ycomm.dom.getInplaceData=function(a){a=a.attributes;var b={},c,d,e;for(e in a)a.hasOwnProperty(e)&&(c=a[e],d=c.nodeName,"data-"==d.substr(0,5)&&(b[d]=c.nodeValue));return b};
ycomm.dom.fillElement=function(a,b,c,d){if(void 0===c||null===c)c={};"boolean"==typeof d&&(d={deleteRows:d});d=d||{};"undefined"==typeof d.deleteRows&&(d.deleteRows=!0);"undefined"==typeof d.paintRows&&(d.paintRows=!0);var e,g,k,h,l=y$(a),m="undefined"==typeof ycomm.dom._elem_templates[a];e=c.idFieldName||"id";"boolean"==typeof d.unlearn&&(m=d.unlearn);var z=function(a){a.doc&&a.id&&a.value&&(a=a.doc);return a},A=function(a,b){if("undefined"!=typeof c.inplaceData)for(var d=0;d<c.inplaceData.length;d++)if("undefined"!==
typeof b[c.inplaceData[d]]){var e=c.inplaceData[d];a.setAttribute("data-"+e,b[e]||"")}},y=function(a){var g,h=z(b[x]);D=0;"TR"==a.nodeName&&d.paintRows&&(a.style.backgroundColor=rowColorSpec.suggestRowColor(H));if(h[e])if(y$(h[e])){for(g=0;y$(h[e]+"_"+g);)g++;a.id=h[e]+"_"+g}else a.id=h[e];A(a,h);(c.onClick||c.onSelect)&&a.addEventListener("click",c.onClick||c.onSelect,!1)},s=function(d){if(d!=e){var g=k.insertCell(D),l=z(b[x]),m=null!==d?unmaskHTML(l[d]):unmaskHTML(l);c.columns&&c.columns[d]&&(c.columns[d].align&&
(g.style.textAlign=c.columns[d].align),c.columns[d].type&&(m=yAnalise("%"+c.columns[d].type+"("+m+")")));h||g.addClass("warning");g.innerHTML=0===m.length?"&nbsp;":m;g.style.verticalAlign="top";g.id=a+"_"+D+"_"+w.rows.length;g.setAttribute("colName",d);if("function"==typeof c.onNewItem)c.onNewItem(a,g,l);D+=1}},w,x,v,D,B,E=(new Date).getTime()-1447265735470;if(l)if("TABLE"==l.nodeName){w=0<l.getElementsByTagName("tbody").length?l.getElementsByTagName("tbody")[0]:l;0<w.getElementsByTagName("tbody").length&&
(w=w.getElementsByTagName("tbody")[0]);if(m)if("undefined"==typeof(c.columns||c.rows||c.html)){if(ycomm.dom._elem_templates[a]={},0<w.rows.length)for(ycomm.dom._elem_templates[a].rows=[],l=0;l<w.rows.length;l++)ycomm.dom._elem_templates[a].rows[l]=trim(w.rows[l].innerHTML+"").replace(/\ \s+/g,"")}else ycomm.dom._elem_templates[a]={},ycomm.dom._elem_templates[a].columns=c.columns,ycomm.dom._elem_templates[a].rows=c.rows,ycomm.dom._elem_templates[a].html=c.html;mergeObject(ycomm.dom._elem_templates[a],
c,!0);if(d.deleteRows)for(;0<w.rows.length;)w.deleteRow(w.rows.length-1);var H=w.rows.length%2;D=null;for(x in b)if(b.hasOwnProperty(x)){m=z(b[x]);H++;h=!0;if(!d.deleteRows&&m[e])for(l=0;h&&l<w.rows.length;l++)if(w.rows[l].id==m[e]){for(k=w.rows[l];0<k.cells.length;)k.deleteCell(0);h=!1;m.rowid=l}h&&(k=d.insertAtTop?w.insertRow(0):w.insertRow(w.rows.length));E++;m.rowid=d.insertAtTop||"undefined"===typeof k.rowIndex?E+"":k.rowIndex;m._elementid_=a;y(k);if("function"==typeof c.onBeforeNewItem)c.onBeforeNewItem(a,
m);if("undefined"==typeof c.html&&"undefined"==typeof c.rows&&"undefined"==typeof c.columns)if("string"==typeof m)s(null);else for(g in m)m.hasOwnProperty(g)&&g!=e&&"rowid"!=g&&"_elementid_"!=g&&s(g);else if("undefined"!=typeof c.columns)if(isArray(c.columns))for(v=0;v<c.columns.length;v++)s(c.columns[v]);else for(v in c.columns)c.columns.hasOwnProperty(v)&&s(v);else if("undefined"!=typeof c.html){if(B=k.insertCell(0),B.innerHTML=yAnalise(c.html,m),B.style.verticalAlign="top",B.id=a+"_"+D+"_"+w.rows.length,
"function"==typeof c.onNewItem)c.onNewItem(a,B,m)}else if("undefined"!=typeof c.rows)for(l=!0,r=0;r<c.rows.length;r++){l||(k=w.insertRow(w.rows.length),y(k));k.innerHTML=yAnalise(c.rows[r],m);if(!h&&d.deleteRows)for(v=0;v<k.cells.length;v++)k.cells[v].style.borderLeft="solid 1px red";if("function"==typeof c.onNewItem)c.onNewItem(a,k,m);l=!1}if("function"==typeof c.onNewRowReady)c.onNewRowReady(a,k)}}else if("UL"==l.nodeName){if(d.deleteRows)for(;l.firstChild;)l.removeChild(l.firstChild);for(x in b)if(b.hasOwnProperty(x)){m=
z(b[x]);if("function"==typeof c.onBeforeNewItem)c.onBeforeNewItem(a,m);v=document.createElement("li");A(v,m);s="";E=!1;if("object"==typeof c.rows){for(r=0;r<c.rows.length;r++)s=s+yAnalise(c.rows[r],m)+"";E=!0}else if("string"==typeof c.html)s=s+yAnalise(c.html,m)+"",E=!0;else for(g in m)""===s&&m.hasOwnProperty(g)&&g!=e&&"rowid"!=g&&"_elementid_"!=g&&(s+=m[g]);y(v);E?v.innerHTML=s:v.appendChild(document.createTextNode(s));"string"==typeof c.beforeElement?(s=y$(c.beforeElement),l.insertBefore(v,s)):
l.appendChild(v);if("function"==typeof c.onNewItem)c.onNewItem(a,v,m)}}else if("LISTBOX"==l.nodeName){if(d.deleteRows)for(;0<l.childElementCount;)l.childNodes[0].remove();y=0;for(x in b)if(b.hasOwnProperty(x)){m=z(b[x]);m._elementid_=a;if("function"==typeof c.onBeforeNewItem)c.onBeforeNewItem(a,m);k=document.createElement("listitem");D=0;if("undefined"==typeof c.columns)if("string"==typeof m)_dumpy(2,1,"ERRO: yeapf-dom.js - string cell not implemented");else for(g in m){if(m.hasOwnProperty(g)&&g!=
e&&"rowid"!=g&&"_elementid_"!=g){B=document.createElement("listcell");B.innerHTML=m[g];B.id=a+"_"+D+"_"+y;if("function"==typeof c.onNewItem)c.onNewItem(a,B,m);D+=1;k.appendChild(B)}}else for(g in c.columns)if(g!=e){B=document.createElement("listcell");B.innerHTML=m[g];B.id=a+"_"+D+"_"+y;if("function"==typeof c.onNewItem)c.onNewItem(a,B,m);D+=1;k.appendChild(B)}A(k,m);l.appendChild(k);y++}}else if("SELECT"==l.nodeName||"DATALIST"==l.nodeName){if(d.deleteRows)for(;0<l.options.length;)l.removeChild(l.options[0]);
D=0;for(x in b)if(b.hasOwnProperty(x)){m=z(b[x]);m._elementid_=a;if("function"==typeof c.onBeforeNewItem)c.onBeforeNewItem(a,m);y="";if("undefined"==typeof c.columns)if("string"==typeof m)_dumpy(2,1,"ERRO: yeapf-dom.js - string cell not implemented");else for(g in m)m.hasOwnProperty(g)&&g!=e&&"rowid"!=g&&"_elementid_"!=g&&(y+=m[g]);else if(s=c.sep||"",isArray(c.columns))for(v=0;v<c.columns.length;v++)""<y&&(y+=s),y+=m[c.columns[v]];else if("string"==typeof m)_dumpy(2,1,"ERRO: yeapf-dom.js - string cell not implemented");
else for(g in c.columns)g!=e&&(y=y+m[g]+s);v=document.createElement("option");"undefined"!=typeof m[e]&&("DATALIST"==l.nodeName?v.setAttribute("data-"+e,m[e]):v.value=m[e]);v.innerHTML=y;v.id=a+"_"+D;A(v,m);if("function"==typeof c.onNewItem)c.onNewItem(a,v,m);l.appendChild(v);D++}if(l.onclick)l.onclick()}else if("FORM"==l.nodeName){var G,F,C,m=d.deleteRows?this.cleanForm(a):this.selectElements(a);if(b)if("object"==typeof b||1===b.length){y=z(b[0]||b);A(l,y);if("function"==typeof c.onBeforeNewItem)c.onBeforeNewItem(a,
y);B=c.elementPrefixName||c.prefix||"";C=c.elementPostixName||c.postfix||"";for(l=0;l<m.length;l++)if(s=m[l].getAttribute("editMask"),E=m[l].getAttribute("storageMask"),v=m[l].getAttribute("valueType")||"text",G=suggestKeyName(y,m[l].name||m[l].id,B,C),g=c.columns&&suggestKeyName(c.columns,m[l].name||m[l].id)||null,"undefined"!=typeof y[G]&&(F=unmaskHTML(y[G]),G=m[l].type.toLowerCase(),!c.columns||""<g)){""<g&&!isArray(c.columns)&&(v=c.columns[g].type,s=c.columns[g].editMask||s,E=c.columns[g].storageMask||
E);"text"!=v&&(""<s&&""<E?0<=v.indexOf("date")&&(F=dateTransform(F,E,s)):F=yAnalise("%"+v+"("+F+")"));switch(G){case "text":case "password":case "textarea":case "email":case "hidden":case "color":case "date":case "datetime":case "datetime-local":case "month":case "number":case "range":case "search":case "tel":case "time":case "url":case "week":m[l].value=F;break;case "radio":case "checkbox":m[l].value==F&&(m[l].checked=m[l].value===F);break;case "select-one":case "select-multi":for(x=0;x<m[l].options.length;x++)m[l].options[x].value==
F&&(m[l].selectedIndex=x)}if("function"==typeof c.onNewItem)c.onNewItem(a,m[l],y)}}else 1<b.length&&_dump("There are more than one record returning from the server")}else if("DIV"==l.nodeName&&(d.deleteRows&&(l.innerHTML=""),y=l.innerHTML,b)){for(x in b)if(b.hasOwnProperty(x)){m=z(b[x]);A(l,m);if("function"==typeof c.onBeforeNewItem)c.onBeforeNewItem(a,m);if(c.html)y+=yAnalise(c.html,m);else for(g in m)m.hasOwnProperty(g)&&(y+="<div><div class=tnFieldName><b><small>{0}</small></b></div>{1}".format(g,
m[g]))}l.innerHTML=y}};ycomm.dom.getRowId=function(a,b){if(a)for(;a&&a.parentNode;)a=a.parentNode};ycomm.dom.getRowByRowNo=function(a,b){var c=document.getElementById(a);return c?c.rows[b]:null};ycomm.dom.getTableRowId=function(a,b){var c=ycomm.dom.getRowByRowNo(a,b);return c?c.id:null};
ycomm.dom.highlightRow=function(a,b,c){c=c||"";b="undefined"==typeof b?-1:b;var d=document.getElementById(a);if(d)for(var e=0;e<d.rows.length;e++)if(e==b)for(d.rows[e].addClass(c),a=0;a<d.rows[e].cells.length;a++)d.rows[e].cells[a].addClass(c);else for(d.rows[e].removeClass(c),a=0;a<d.rows[e].cells.length;a++)d.rows[e].cells[a].removeClass(c)};ycomm.dom.getTableRowInplaceData=function(a,b){return a?a.getAttribute("data-"+b):null};
ycomm.dom.getTableInplaceData=function(a,b,c){return(a=document.getElementById(a))?ycomm.dom.getTableRowInplaceData(a.rows[b],c):null};ycomm.dom.deleteElement=function(a){(a=y$(a))&&a.parentNode.removeChild(a)};
ycomm.dom.selectElements=function(a,b){var c=[],d,e,g;if(d=y$(a))for(d=d.getElementsByTagName("*"),e=0;e<d.length;e++)if(d[e].type){g=d[e].type.toLowerCase();knownFieldType=!1;b&&0>b.indexOf(d[e].name||d[e].id)&&(g="--AVOID--");switch(g){case "text":case "password":case "textarea":case "hidden":case "email":case "radio":case "checkbox":case "select-one":case "select-multi":case "file":knownFieldType=!0;break;case "color":case "date":case "datetime":case "datetime-local":case "month":case "number":case "range":case "search":case "tel":case "time":case "url":case "week":knownFieldType=
!0}knownFieldType&&(c[c.length]=d[e])}return c};
ycomm.dom.cleanElement=function(a){"string"==typeof a&&(a=y$(a));if(a){var b;b=a.type?a.type.toLowerCase():a.nodeName?a.nodeName.toLowerCase():"UNKNOWN";if(0>["__cmd5p__"].indexOf(a.id))switch(b){case "text":case "password":case "textarea":case "hidden":case "color":case "date":case "datetime":case "datetime-local":case "month":case "number":case "range":case "search":case "tel":case "time":case "url":case "week":a.value="";break;case "radio":case "checkbox":a.checked=!1;break;case "select-one":case "select-multi":a.selectedIndex=
-1;break;case "table":for(0<a.getElementsByTagName("tbody").length&&(a=a.getElementsByTagName("tbody")[0]);0<a.rows.length;)a.deleteRow(a.rows.length-1);break;case "ul":for(;a.firstChild;)a.removeChild(a.firstChild)}}else _dumpy(2,1,"null element when calling cleanElement()")};ycomm.dom.cleanForm=function(a,b){var c,d;d=this.selectElements(a,b);for(c=0;c<d.length;c++)ycomm.dom.cleanElement(d[c]);return d};
ycomm.dom._scratch={t:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.;Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.;Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi.;Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat.;Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis.;At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, At accusam aliquyam diam diam dolore dolores duo eirmod eos erat, et nonumy sed tempor et et invidunt justo labore Stet clita ea et gubergren, kasd magna no rebum. sanctus sea sed takimata ut vero voluptua. est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat. ;Consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.".split(";"),d:"yahu.com hotmayl.com jmail.com yahu.com.nh hotmayl.com.nh jmail.com.nh".split(" "),
p:["http://","https://","ws://","wss://","ftp://"],mn:"James John Robert Michael William David Richard Charles".split(" "),fn:"Mary Patricia Linda Barbara Elizabeth Jennifer Maria Susan".split(" "),sn:"Smith Jones Taylor Williams Brown Davies Evans Wilson".split(" "),ch:"qwertyuiopasdfghjklzxcvbnmQAZWSXEDCRFVTGBYHNUJMIKOLP0123456789",n:"0123456789"};
ycomm.dom.testFormWithJunk=function(a){a=this.selectElements(a);var b,c,d,e,g,k=function(a,b,c){var d="",e;c=Math.floor(Math.random()*c+b);for(e=0;e<c;)b=Math.floor(Math.random()*a.length),d+=a[b],e++;return d},h=function(a,b){return Math.floor(Math.random()*(b-a)+a)},l=function(a){var b=!1;a=a.toUpperCase();for(var c=0;c<lClasses.length;c++)b=b||0<=lClasses[c].indexOf(a);return b};for(b=0;b<a.length;b++){c=a[b].type.toLowerCase();d=a[b].id;g=a[b].getAttribute("maxlength")||100;lClasses=a[b].className.split(" ");
for(e=0;e<lClasses.length;e++)lClasses[e]=lClasses[e].toUpperCase();e="";if(d){switch(c){case "password":e=k(ycomm.dom._scratch.ch,6,15);break;case "textarea":e=k(ycomm.dom._scratch.t,1,15*g);break;case "email":e=k(ycomm.dom._scratch.mn,2,3)+"@"+k(ycomm.dom._scratch.d,1,1);break;case "date":e=h(-22089816E5,25560648E5);e=new Date(e);e=e.toISOString().substr(0,10);break;case "color":case "datetime":case "datetime-local":case "month":e=h(1,12);break;case "number":case "range":e=h(1,100);break;case "search":case "tel":case "time":case "week":e=
h(1,52);break;case "url":e=k(ycomm.dom._scratch.p,1,1)+k(ycomm.dom._scratch.d,1,1)+".xyz";break;case "radio":case "checkbox":break;case "select-one":case "select-multi":break;case "hidden":fielValue="";break;default:e=l("cpf")?e.gerarCPF():l("cnpj")?e.gerarCNPJ():l("ie")?k(ycomm.dom._scratch.n,6,12):k(ycomm.dom._scratch.t,1,g),e=e.substr(0,g)}y$(d).value=e}}};
ycomm.dom.getFormElements=function(a,b,c){b=b||{};var d=b.elementPrefixName||b.prefix||"";b=b.elementPostixName||b.postfix||"";var e={};a=this.selectElements(a);for(var g,k,h,l,m,z,A=0,y,s=0;s<a.length;s++)if(a[s].getAttribute?(l=a[s].getAttribute("editMask")||"",m=a[s].getAttribute("storageMask")||"",z=a[s].getAttribute("valueType")||"text"):(m=l="",z="text"),y=!0,k=a[s].type.toLowerCase(),g=a[s].name||a[s].id,g.substr(g.length,-b.length)==b&&g.substr(0,d.length)==d&&(g=g.substr(d.length),g=g.substr(0,
g.length-b.length),""<g)){h="";if("radio"==k||"checkbox"==k)y=!1,"undefined"==typeof e[g]&&(e[g]="");switch(k){case "text":case "password":case "textarea":case "email":case "hidden":case "color":case "date":case "datetime":case "datetime-local":case "month":case "number":case "range":case "search":case "tel":case "time":case "url":case "week":h=a[s].value+"";""<l&&""<m&&0<=z.indexOf("date")&&(h=(h=dateTransform(h,l,m))?h+"":"");break;case "radio":case "checkbox":h=a[s].checked?a[s].value:"";y=""!==
h;break;case "select-one":case "select-multi":h=a[s].selectedIndex;a[s].options[h]&&(h=a[s].options[h].value);break;case "file":"function"==typeof c?(k=new FileReader,A++,k._fieldName=g,k.addEventListener("load",function(){e[this._fieldName]=this.result;A--;0>=A&&c(e)}),k.readAsDataURL(a[s].files[0]),y=!1):h="aOnReady() not present in js call to getFormElements()"}"string"==typeof h&&(isNumber(h)?h=h.toFloat():0<=h.indexOf(",")&&(h=encodeURIComponent(h)));y&&(e[g]=h)}return e};
ycomm.dom.addFormElement=function(a,b,c){b=document.createElement(b);for(var d in c)c.hasOwnProperty(d)&&b.setAttribute(d,c[d]);a.appendChild(b);return b};
ycomm.dom.URL2post=function(a,b,c){void 0!==a&&setTimeout(function(){void 0===b&&(b="_self");void 0===c&&(c=window);var d="body.php";a=a.split("?");2==a.length?(d=a[0],a=a[1]):a=a[0];a=a.split("&");c.auxForm=c.document.createElement("form");c.document.body.appendChild(c.auxForm);c.auxForm.setAttribute("method","post");c.auxForm.setAttribute("action",d);c.auxForm.setAttribute("target",b);for(d=0;d<a.length;d++){var e=a[d].split("=");1==e.length&&(e[1]="");ycomm.dom.addFormElement(c.auxForm,"input",
{type:"hidden",id:e[0],name:e[0],value:e[1]})}c.auxForm.submit()},1E3)};ycomm.dom.deleteFieldClass=function(a,b){for(var c in a)a.hasOwnProperty(c)&&y$(c).deleteClass(b)};ycomm.dom.viewport=function(){for(var a=window,b="inner";a.parent!=a;)a=a.parent;"innerWidth"in window||(b="client",a=document.documentElement||document.body);return{width:a[b+"Width"],height:a[b+"Height"]}};ycomm.dom.getLeft=function(a){for(var b=0;a;)b+=a.offsetLeft,a=a.offsetParent;return b};
ycomm.dom.getTop=function(a){for(var b=0;a;)b+=a.offsetTop,a=a.offsetParent;return b};ycomm.dom.getPos=function(a){for(var b=0,c=0;null!==a;a=a.offsetParent)b+=a.offsetLeft,c+=a.offsetTop;return{x:b,y:c}};_dump("ycomm-dom");
var ycommMsgBase=function(){var a={messagePeekerTimer:null,messageStack:[],msgProcs:[],_dbgFlag_noMessageProcessorPresent:!1,msgCount:0,serverOfflineFlag:0,grantMsgProc:function(b){if(void 0===b||0>=b)b=Math.min(2E4,2*messagePeekerInterval);void 0===a.messagePeekerTimer?(0===a.msgCount&&_dumpy(4,1,"Configuring receivers interval to "+b+"ms"),a.messagePeekerTimer=setTimeout(ycomm.msg.peek,b)):_dumpy(4,1,"Receivers interval already defined")},feedBack:function(){if(0<dRowCount){a.msgCount++;for(var b in xData)if(!isNaN(parseInt(b))){var c=
xData[b];a.messageStack.push([c.sourceUserId,c.message,c.wParam,c.lParam])}if(0<a.messageStack.length)if(0==a.msgProcs.length)a._dbgFlag_noMessageProcessorPresent||jsDumpEnabled&&window.alert("Messages arriving at  '"+_CurrentFileName+"'  but there is not\na registered message processor in order to receive it.\nUse _registerMsgProc() to register it"),a._dbgFlag_noMessageProcessorPresent=!0;else for(;0<a.messageStack.length;){b=a.messageStack.length;for(c=0;c<a.msgProcs.length;c++)("<script>"+a.msgProcs[c]+
"();\x3c/script>").evalScripts();b==a.messageStack.length&&a.messageStack.shift()}}grantMsgProc(messagePeekerInterval)},peek:function(){clearTimeout(a.messagePeekerTimer);a.messagePeekerTimer=null;var b="s=y_msg&u="+u+"&a=peekMessage&formID="+formID+"&ts="+(new Date).getTime()+"&callBackFunction=ycomm.msg.feedBack&messagePeekerInterval="+messagePeekerInterval;new Ajax.Request("query.php",{method:"get",asynchronous:!0,parameters:b,onComplete:function(a){200==a.status?_QUERY_RETURN(a):(_dumpy(4,1,"*** XMLHttpRequest call failure"),
setTimeout("_notifyServerOffline()",500))}})},postMessage:function(a,c,d,e,g){a="s=y_msg&u="+u+"&a=postMessage"+(void 0!=g?'&targetUser=*&broadcastCondition="'+g+'"':"&broadcastCondition=&targetUser="+a)+"&formID="+formID+"&message="+c+"&wParam="+d+"&lParam="+e+"&ts="+(new Date).getTime()+"&callBackFunction=ycomm.msg.feedBack";new Ajax.Request("query.php",{method:"get",asynchronous:!1,parameters:a,onComplete:_QUERY_RETURN})},cleanMsgQueue:function(){a.msgProcs.length=0},notifyServerOnline:function(){if(0<
a.serverOfflineFlag){a.serverOfflineFlag=0;var b=__getMainBody();"function"==typeof b.$&&null!=b.document.body&&(b=b.y$("notificationArea"))&&(b.style.display="none")}},notifyServerOffline:function(){a.serverOfflineFlag++;var b=__getMainBody();if("function"==typeof b.$&&null!=b.document.body){var c=b.y$("notificationArea");c||(c=b.document.createElement("div"),c.id="notificationArea",setOpacity(c,90),b.document.body.appendChild(c),existsCSS("notificationArea")?c.className="notificationArea":(c.style.zIndex=
1E3,c.style.position="absolute",c.style.left="0px",c.style.top="0px",c.style.border="1px #900 solid",c.style.backgroundColor="#fefefe"));c.style.width=b.innerWidth+"px";c.style.height=b.innerHeight+"px";c.style.display="block";c.innerHTML="<div style='padding: 32px'><big><b>Server Offline</b></big><hr>Your server has become offline or is mispeling answers when requested.<br>Wait a few minutes and try again later, or wait while YeAPF try again by itself</div>&nbsp;"}grantMsgProc()},registerMsgProc:function(b){var c=
!0;_dumpy(4,1,"Registering message receiver: "+b);for(var d=0;d<a.msgProcs.length;d++)a.msgProcs[d]==b&&(c=!1);c&&(a.msgProcs[a.msgProcs.length]=b);grantMsgProc(messagePeekerInterval)},stopMsgProc:function(){clearTimeout(a.messagePeekerTimer)}};return a};ycomm.msg=ycommMsgBase();_dump("ycomm-msg");
var ycommSSEBase=function(a,b,c,d,e){var g={pollTimeout:Math.min(6E4,Math.max("number"==typeof d?d:1E3,1E3)),prefGateway:(e||"SSE").toUpperCase(),getLocation:function(){return"object"==typeof document&&document.location&&document.location.href?document.location.href:""},getFolder:function(a){var b=a.lastIndexOf("/");return a.substr(0,b+1)},rpc:function(a,b){b=b||{};"undefined"!=typeof g.sse_session_id&&(b.sse_session_id=g.sse_session_id);return new Promise(function(c,d){g.rpcMethod("_sse",a,b,function(a,
b,e){200==a?c(e):d(a)},!1)})},poll:function(){g.pollEnabled&&g.rpc("peekMessage").then(function(a){if(a){console.log("data: "+JSON.stringify(a));for(var b=0;b<a.length;b++)g.dispatchEvent(a[b].event,{data:a[b].data})||g.message({data:a[b].data})}setTimeout(g.poll,g.pollTimeout)})},userAlive:function(){var a=function(a){console.log("User logged out");g.close(a)};g.rpc("userAlive").then(function(b){var c=!1;b&&b[0]&&(c="CLOSE"==(b[0].event||"").toUpperCase());c?a():(console.log("User is alive"),setTimeout(g.userAlive,
g.userAliveInterval))}).catch(a)},attachUser:function(b){g.rpc("attachUser",{w:a,user:g.user}).then(function(c){c&&c[0]&&c[0].ok&&(g.w=a,g.sse_session_id=c[0].sse_session_id,g.userAliveInterval=Math.min(6E4,1E3*c[0].userAliveInterval),b())})},addEventListener:function(a,b){"undefined"==typeof g.events&&(g.events={});"undefined"==typeof g.events[a]&&(g.events[a]=[]);g.events[a].push([g.state,b]);1==g.state&&(g.pollEnabled||g.evtSource.addEventListener(a,b),"ready"==trim(a.toLowerCase())&&g.dispatchEvent("ready"));
return g},dispatchEvent:function(a,b){var c=!1;if("undefined"!==typeof g.events)for(var d=0;d<(g.events[a]||[]).length;d++)g.events[a][d][1](b),c|=1;eventName1=a;eventName2="on_"+a;"function"==typeof g[eventName1]?(g[eventName1](b),c|=1):"function"==typeof g[eventName2]?(g[eventName2](b),c|=1):c|=0;return c},startPolling:function(){g.pollEnabled=!0;g.state=1;g.dispatchEvent("ready",{gateway:"Polling"});setTimeout(g.poll,125);console.log("polling for messages. pollTimeout: {0}ms".format(g.pollTimeout))},
guardianTimeout:function(a){clearTimeout(g.evtGuardian);g.evtSource.close();g.evtSource=void 0;g.startPolling()},close:function(a){g.closing||(g.closing=!0,console.log("CLOSE"),g.state=-1,g.pollEnabled=!1,g.dispatchEvent("close"),g.evtSource&&g.evtSource.close(),g.closing=!1)},open:function(a){console.log("OPEN")},error:function(a){console.error("ERROR using SSE")},message:function(a){clearTimeout(g.evtGuardian);console.log("MESSAGE");if(0===g.state){g.state=1;for(var b in g.events)if(g.events.hasOwnProperty(b))for(var c=
0;c<g.events[b].length;c++){var d=g.events[b][c];1>d[0]&&(d[0]=1,g.evtSource.addEventListener(b,d[1]))}g.dispatchEvent("ready",{gateway:"SSE"});console.log("userAliveInterval: {0}ms".format(g.userAliveInterval));setTimeout(g.userAlive,g.userAliveInterval/2)}if("function"==typeof g.onmessage)g.onmessage(a.data)},init:function(){g.state=-1;g._dataLocation_="undefined"==typeof c||null===c?function(){var a=g.getLocation(),b=a.lastIndexOf("/");return a.substr(0,b+1)+"sse.php"}():c;if("file:"==g._dataLocation_.substr(0,
5))console.error("'"+g._dataLocation_+"' is not a correct data location");else{g.user=null!==b&&"undefined"!=typeof b?b:generateUUID();var a=g.getFolder(g.getLocation()),d=g.getFolder(g._dataLocation_);g.rpcMethod=a==d?ycomm.invoke:ycomm.crave;g.attachUser(function(){g.state=0;"SSE"==g.prefGateway&&"function"==typeof window.EventSource?(g.evtSource=new EventSource(g._dataLocation_+"?si="+md5(g.sse_session_id)),g.evtSource.addEventListener("open",g.open,!1),g.evtSource.addEventListener("error",g.error,
!1),g.evtSource.addEventListener("message",g.message,!1),g.evtSource.addEventListener("close",g.close,!1),g.evtGuardian=setTimeout(g.guardianTimeout,1500)):g.startPolling()})}return g}};return g.init()};_dump("ycomm-sse");
var yCalendar=function(a){var b={};b.cfg=a||{};b.cfg.view=+(b.cfg.view||0);b.cfg.orientation=+(b.cfg.orientation||0);b.cfg.date=b.cfg.date||new Date;b.cfg.dayEntryDivision=b.cfg.dayEntryDivision||20;b.cfg.cellSize?(b.cfg.cellSize.width=b.cfg.cellSize.width||null,b.cfg.cellSize.height=b.cfg.cellSize.height||null):b.cfg.cellSize={width:null,height:null};b.cfg.divContainerName=b.cfg.divContainerName||"";b.cfg.callback=b.cfg.callback||null;b.context={};b.context.dateScope={first:"",last:""};b.context.nCols=
0;b.context.nRows=0;b.setDivContainerName=function(a){b.cfg.divContainerName=a;return b};b.setCellSize=function(a,d){b.cfg.cellSize.width=b.cfg.cellSize.width||a;b.cfg.cellSize.height=b.cfg.cellSize.height||d;return b};b.setView=function(a){b.cfg.view=+a%3;return b};b.setCallback=function(a){b.cfg.callback=a;return b};b.setDate=function(a){b.cfg.date=a||b.cfg.date;return b};b.getDate=function(){return b.cfg.date};b.setOrientation=function(a){b.cfg.orientation=+a%2;return b};b.draw=function(a){var d=
["L","P"];if(a=y$(b.cfg.divContainerName)){try{b.cfg.status=0;null!=b.cfg.callback&&b.cfg.callback(b,"DOMLocked",a);for(var e=null,g=null,k=null,h=null,l=null,m=null,z=null,A=2>b.cfg.view?864E5:6E4*b.cfg.dayEntryDivision,y=0,s=0,w="calDay"+d[b.cfg.view%2];a.hasChildNodes();)a.removeChild(a.lastChild);b.context.oCalTable=document.createElement("table");b.context.oCalTable.cellPadding=0;b.context.oCalTable.cellSpacing=0;var x=b.context.oCalTable.insertRow(-1),v=x.insertCell();v.className="calBand";
var d=!0,D=0,B={};null!=b.cfg.cellSize.height&&(B.height=parseInt(b.cfg.cellSize.height)+"px");null!=b.cfg.cellSize.width&&(B.width=parseInt(b.cfg.cellSize.width)+"px");var E=b.context.dateScope.first,H=b.context.dateScope.last;E.setHours(12);H.setHours(12);var G=function(){g=b.cfg.divContainerName+"_empty_"+D;var a=document.createElement("div");mergeObject(B,a.style);a.id=g;a.className=w+"Cell "+w+"EmptyCell";v.appendChild(a);0==b.cfg.orientation&&y++;D++;null!=b.cfg.callback&&b.cfg.callback(b,"getEmptyDayContent",
a)},F=function(a){0==a?(g=b.cfg.divContainerName+"_day_"+C.toUDate().substring(0,8),e=C.getDate()):(e=C.getHours()+":"+C.getMinutes(),g=b.cfg.divContainerName+"_day_"+C.toUDate().substring(0,12))},C=new Date(E),J=(H-C)/A+1;if(0===b.cfg.view)if(0==b.cfg.orientation)for(n=0;n<E.getDay();n++)G();else{C.setDate(C.getDate()-E.getDay());var K=[],I=new Date(C);for(n=0;n<b.context.nRows;n++)K[n]=new Date(I),I.setDate(I.getDate()+1)}for(;0<J;)d||(x=b.context.oCalTable.insertRow(-1),v=x.insertCell(),v.className=
"calBand",d=!0),e="",1==b.cfg.orientation?C<E||C>H?G():0===b.cfg.view||1===b.cfg.view?F(0):2===b.cfg.view?F(1):_dumpy(8,1,"Not implemented"):0==b.cfg.orientation&&(0===b.cfg.view||1===b.cfg.view?F(0):2===b.cfg.view?F(1):_dumpy(8,1,"Not implemented")),""<e&&(k=w+"Cell",0===C.getDay()&&(k+=" "+w+"FreeCell"),C.getDate()==b.cfg.date.getDate()&&(k+=" "+w+"Highlight"),l=document.createElement("div"),mergeObject(B,l.style),l.id=g,l.className=k,mergeObject(B,l.style),l.date=C,m=document.createElement("span"),
m.id=g+"_tag",m.className="calTag",null!=b.cfg.callback&&(h=b.cfg.callback(b,"getTagContent",m)||"",""<h&&(e=h)),m.innerHTML=e,l.appendChild(m),null!=b.cfg.callback&&(z=b.cfg.callback(b,"getCellContent",l)||"",""<z&&(l.innerHTML+=z)),v.appendChild(l)),1==b.cfg.orientation?C.setTime(C.getTime()+A*b.context.nRows):C.setTime(C.getTime()+A),y++,y>=b.context.nCols&&(y=0,s++,d=!1,1==b.cfg.orientation&&(C=K[s])),J--;if(d){for(;y<b.context.nCols;)G();y=0;d=!1}a.appendChild(b.context.oCalTable)}catch(L){_dumpy(8,
1,"ERROR: "+L.message)}b.cfg.status=1;null!=b.cfg.callback&&b.cfg.callback(b,"DOMReleased",a)}return b};b.build=function(a,d,e){b.cfg.orientation=e||b.cfg.orientation;b.cfg.view=d||b.cfg.view;b.cfg.date=a||b.cfg.date;if(y$(b.cfg.divContainerName)){a=new Date(b.cfg.date);d=null;var g=e=0;switch(b.cfg.view){case 0:e=7;g=5;a.setDate(1);d=new Date(a);d.setDate(a.daysInMonth());break;case 1:e=1;g=7;for(a=new Date(b.cfg.date);0<a.getDay();)a.setTime(a.getTime()-864E5);d=new Date(a);d.setTime(a.getTime()+
5184E5);break;case 2:e=1;g=Math.round(1440/b.cfg.dayEntryDivision);a.setHours(6);a.setMinutes(0);d=new Date(a);d.setHours(21);d.setMinutes(60-b.cfg.dayEntryDivision);break;default:_dumpy(8,1,"Not implemented")}b.context.dateScope.first=a;b.context.dateScope.last=d;1===b.cfg.orientation?(b.context.nCols=g,b.context.nRows=e):(b.context.nCols=e,b.context.nRows=g);b.draw(b);_dumpy(8,1,"Build calendar on "+b.cfg.date.toUDate()+" View: "+b.cfg.view+" Orientation: "+b.cfg.orientation+" cols: "+e+" rows: "+
g)}else _dumpy(8,1,"ERROR: "+b.cfg.divContainerName+" not found on that page");return b};b.each=function(a){if("function"==typeof a&&b.context.oCalTable){var d=b.cfg.divContainerName+"_day_",e=function(e){e=b.context.oCalTable.getElementsByTagName(e);for(var k=0;k<e.length;k++)e[k].id.substr(0,d.length)==d&&a(e[k])};e("div");e("span")}return b};return b};_dump("ycalendar");
function _dynCheckChilds(a,b){var c=b.childOpenCondition;if(""<c){var c=Parser.evaluate(c,a),d=y$(b.name+"_childs");d&&(d.style.display=c?"block":"none")}}function dynCheckChids(a,b){void 0==b&&(b=window.event||arguments.callee.caller.arguments[0]);b.target&&(b=b.target);var c=[],d;for(d in a)a.hasOwnProperty(d)&&y$(d)&&(c[d]=y$(d).value);if(a[b.id])_dynCheckChilds(c,a[b.id]);else for(d in a)a.hasOwnProperty(d)&&_dynCheckChilds(c,a[d])}
function _dynConfigOnChange(a,b){a&&a.onchange!=__cbOnChange__&&(a.dynOnChange=a.onchange,a.onchange=void 0==b?__dynOnChange__:b)}function dynConfigOnchange(a,b){var c="object"!=typeof a?a.split(","):a;if(0<c.length)for(var d=0;d<c.length;d++)_dynConfigOnChange(y$(c[d]),b);else for(d in c)c.hasOwnProperty(d)&&_dynConfigOnChange(y$(d),b)}
function dynConfigCheckBoxChilds(a,b){void 0==b&&(b=document.getElementsByTagName("input"));void 0==a&&(a=!1);for(var c,d,e=document.getElementsByTagName("*"),g=0;g<b.length;g++){c=!1;if("checkbox"==b[g].type){c=b[g].id+".";d=0;for(var k=g+1;k<e.length;k++){var h=e[k].id;"string"==typeof h&&h.substr(0,c.length)==c&&(dynSetElementDisplay(e[k].id,b[g].id,b[g].value),d++)}c=!0}else"text"==b[g].type&&(c=!0);c&&b[g].onchange!=__cbOnChange__&&(b[g].dynOnChange=b[g].onchange,b[g].onchange=__cbOnChange__,
b[g].dynSaveOnChange=a)}}function dynTableEnumerateCellElements(a,b,c){for(void 0==c&&(c=2);c<a.rows.length;c++)for(var d=0;d<a.rows[c].cells.length;d++){aCell=a.rows[c].cells[d];var e=aCell.getElementsByTagName("*"),g;for(g in e)e.hasOwnProperty(g)&&b(e[g])}}
function dynRenumberElements(a,b,c){var d=[],e=0;dynTableEnumerateCellElements(b,function(a){"undefined"!=typeof a.id&&(a=a.id.split("."),0<c.indexOf(a[0])&&(a=str2int(a[1]),0>d.indexOf(a)&&(d[e++]=a)))},1);for(var g in d)if(d.hasOwnProperty(g)){a=d[g];for(var k in c)c.hasOwnProperty(k)&&(document.getElementById(c[k]+"."+zeroPad(a,2)).id=c[k]+"."+zeroPad(g,2))}}function _dynCleanTableRow(a,b,c){for(var d=0;d<b.rows[c].childNodes.length;d++)dynCleanChilds(a,b.rows[c].childNodes[d],!0)}
function dynCleanChilds(a,b,c,d){b instanceof Text&&(b=b.nextSibling);if(void 0!=b){void 0==c&&(c=!1);void 0==d&&(d=!0);var e;e=void 0!=a&&null!=a?a.id+".":"*.";b=b.getElementsByTagName("*");for(var g=0;g<b.length;g++){var k=b[g].id;if("string"==typeof k&&(k.substr(0,e.length)==e||c||"*."==e)&&(d&&"*."!=e&&dynSetElementDisplay(b[g].id,a.id,a.value),"*."==e||!a.checked))if("checkbox"==b[g].type&&(b[g].checked=!1),"radio"==b[g].type&&(b[g].checked=!1),"text"==b[g].type&&(b[g].value=""),"number"==b[g].type&&
(b[g].value=""),void 0!=b[g].rows){for(;2<b[g].rows.length;)_dynCleanTableRow(a,b[g],2),b[g].deleteRow(2);if(1<b[g].rows.length)for(k=0;k<b[g].rows[1].childNodes.length;k++)dynCleanChilds(a,b[g].rows[1].childNodes[k],!0,!1)}else if(void 0!=b[g].cells)for(k=0;k<b[g].cells.length;k++)dynCleanChilds(a,b[g].cells[k],!0,d);else void 0!=b[g].type&&__cbOnChange__(b[g])}}}
function dynTableDelRow(a,b){for(void 0==b&&(b=2);void 0!=a&&!(a instanceof HTMLTableRowElement);)a=a.parentNode;if(a){var c=a.parentNode;c.rows.length>b?(_dynCleanTableRow(a,c,a.rowIndex),c.deleteRow(a.rowIndex)):_dynCleanTableRow(a,c,a.rowIndex)}else alert("Your button is outside a table")}function dynTableDelAllRows(a){for(;0<a.rows.length;)dynTableDelRow(a.rows[0],0)}function _dynExplodeTag(a){var b=a.match(/\d+$/)[0];return[a.substr(0,a.length-b.length),b]}
function dynTableCloneRow(a,b){for(;void 0!=a&&!(a instanceof HTMLTableRowElement);)a=a.parentNode;if(a){for(var c=a.parentNode,d=a.cloneNode(!0),e=0;e<d.cells.length;e++)for(var g=d.cells[e],k=0;k<g.childNodes.length;k++){var h=g.childNodes[k];if(""<h.id){for(var l=_dynExplodeTag(h.id),m=l[1],m=0;y$(l[0]+zeroPad(m,2));)m++;h.id=l[0]+zeroPad(m,2);h.name=h.id;h.onchange=b}h.value=null}return c.insertBefore(d,a.nextSibling)}alert("Your button is outside a table");return null}
function dynTableCloneLastRow(a){a=y$(a);0<a.rows.length&&dynTableCloneRow(a.rows[a.rows.length-1])}
function dynSetElementDisplay(a,b,c){if(a=y$(a)){var d=y$(b);if(d){var e;if("radio"==d.type)for(b=document.getElementsByName(b),void 0==c&&0<b.length&&(c=b[b.length-1].value),d=0;d<b.length;d++)b[d].checked&&(e=b[d].value);else"checkbox"==d.type?d.checked&&(e=d.value):e=d.value;void 0==c&&(c=e);c=c==e?"":"none";if("table"==a.type)for(e=0;e<a.rows.length;e++)a.rows[e].style.display=c;else a.style.display=c}}}
function dynSetDisplay(a,b){for(var c=0;c<a.length;c++)a[c].style.display=b,_dumpy(2,1,a[c].id,a[c].style.display)}function dynSetVisibility(a,b){for(var c=0;c<a.length;c++)a[c].style.visibility=b,_dumpy(2,1,a[c].id,a[c].style.visibility)}function dynRemoveElements(a){for(var b=a.length-1;0<=b;b--)a[b].parentNode.removeChild(a[b])}function dynTablePrint(a,b,c){}
function calcGridAddItem(a,b,c,d,e,g,k,h,l,m){void 0==h&&(h=!1);void 0==l&&(l="");void 0==m&&(m="2");var z=!0,A=e.split(",");if(!h)for(var y in A)A.hasOwnProperty(y)&&void 0==b[A[y]]&&(z=!1);z?void 0==a[c]?(a[c]=[],a[c].title=d,a[c].fieldList=e,a[c].calcExpr=g,a[c].resultCellPostfix=k,a[c].units=l,a[c].decimalPlaces=m):console.log("Field '"+c+"' already exists in calcGrid"):console.log("Some fields does not exists in ("+b+") list")}var _cg_rules=[];
function calcGridSetRules(a,b,c){void 0==_cg_rules[a.id]&&(_cg_rules[a.id]=[]);_cg_rules[a.id].rules=b;_cg_rules[a.id].onColumns=c}function calcGridSetCellsGuides(a,b,c){void 0==_cg_rules[a.id]&&(_cg_rules[a.id]=[]);_cg_rules[a.id].area=[];_cg_rules[a.id].area.colSet=b;_cg_rules[a.id].area.rowSet=c}function calcGridGetColsGuide(a){var b=null;void 0!=a&&void 0!=_cg_rules[a.id]&&(b=_cg_rules[a.id].area.colSet);return b}
function calcGridGetRowsGuide(a){var b=null;void 0!=a&&void 0!=_cg_rules[a.id]&&(b=_cg_rules[a.id].area.rowSet);return b}function calcGridEnumerateCells(a,b,c){var d=!1;if(d=_cg_rules[a.id]){a=d.area.colSet;var e=d.area.rowSet,g;for(g in e)if(e.hasOwnProperty(g))for(var k in a)if(a.hasOwnProperty(k)){var h=y$(g+"_"+a[k].name);h&&(void 0!=c?(d=!1,c.editable&&(d=a[k].editable&&e[g].editable),c.name&&(d=d||a[k].name==c.name||e[g].name==c.name)):d=!0,d&&b(h))}}}
function calcGridCleanContent(a){var b=[];b.value="";b.calcGridSet=a.id;calcGridEnumerateCells(a,function(a){dynSetCellValue(a.id,b)})}function calcGridCleanColumn(a,b){var c=_cg_rules[a.id];if(c){var d=c.area.rowSet,c=c.area.colSet[b],e;if(c)for(var g in d)d.hasOwnProperty(g)&&(e=y$(g+"_"+c.name))&&dynSetCellValue(e.id,"")}}function calcGridGetRules(a){return(a=_cg_rules[a.id])?a.rules:{}}
function calcGridGetAssociatedRule(a,b){var c=null,d=calcGridGetRules(a),e;for(e in d)null==c&&d.hasOwnProperty(e)&&b==e&&(c=d[e]);return c}function calcGridGetRuleTitle(a,b){var c=null,d=calcGridGetAssociatedRule(a,b);null!=d&&(c=d.title);return c}function calcGridGetNextFieldName(a,b){var c=null,d=calcGridGetRules(a),e=!1,g;for(g in d)null==c&&d.hasOwnProperty(g)&&(e&&(c=g),e=g==b);return c}
function calcGridRecalc(a,b){var c=_cg_rules[a.id];if(c){var c=c.rules,d;for(d in c)if(c.hasOwnProperty(d)){var e=c[d];if(e.fieldList&&0<=e.fieldList.indexOf(b)){var g=e.fieldList.split(","),k=[],h;for(h in g)g.hasOwnProperty(h)&&(k[g[h]]=y$(g[h]).innerHTML);var g=""<e.resultCellPrefix?e.resultCellPrefix+"_"+d:""<e.resultCellPostfix?d+"_"+e.resultCellPostfix:d,k=Parser.evaluate(e.calcExpr,k),l=0,l=l.toFixed(e.decimalPlaces),k=k.toFixed(e.decimalPlaces),k=isNaN(k)?l:isInfinity(k)?l:k+e.units;y$(g).innerHTML=
k;y$(g).style.border="solid 1px #96CBFF"}}}}function dynTableGetCellParentGrid(a){for(a=y$(a).parentNode;"TABLE"!=a.tagName;)a=a.parentNode;return"TABLE"==a.tagName?a:null}function dynTableCreate(a,b){if(a){var c=document.createElement("table");c.id=b;c.name=b;a.appendChild(c)}else console.log("Error: You cannot create a dynTable without a div to contain it");return c}
function dynTableSetRowTitles(a,b,c,d){for(var e in c)if(c.hasOwnProperty(e)&&"_context_"!=e){for(;a.rows.length<b;)var g=a.insertRow(a.rows.length),g=g.insertCell(0);g=a.insertRow(a.rows.length);g=g.insertCell(0);g.id=e;""<c[e].parent&&(g.style.paddingLeft="18px",g.style.fontSize="80%");var k=c[e].title;void 0!=d&&c[e].graph&&(k='<a href="javascript:'+d+"('"+a.id+"','"+e+"')\">"+k+"</a>");g.innerHTML=k}}
function dynTableSetColTitles(a,b,c){var d,e=b,g;for(g in c)if(c.hasOwnProperty(g)){for(var k=0;k<a.rows.length;k++){for(d=a.rows[k];d.cells.length<b;)d.insertCell(d.cells.length);d=d.insertCell(e);0==k&&(d.innerHTML=c[g].title);d.id=a.rows[k].cells[0].id+"_"+c[g].name;d.style.textAlign="center"}e++}}
function dynTableSetColWidth(a,b,c,d){void 0==c&&(c=0);void 0==d&&(d=a.rows[a.rows.length-1].cells.length);for(;c<=d;c++)for(var e=0;e<a.rows.length;e++)void 0!=a.rows[e].cells[c]&&(a.rows[e].cells[c].style.minWidth=b+"px")}function dynTableSetRowHeight(a,b,c,d){void 0==c&&(c=0);for(void 0==d&&(d=a.rows.length-1);c<=d;c++)a.rows[c].style.height=b+"px"}
function dynSetCellValue(a,b){if(y$(a)){var c=a.split("_"),d=dynTableGetCellParentGrid(a),e=calcGridGetAssociatedRule(d,c[0]);if(void 0==k){var g=calcGridGetRules(d),k=[],h;for(h in g)void 0!=h&&"_context_"!=h&&g.hasOwnProperty(h)&&(k[h]=y$(h+"_"+c[1]).innerHTML)}g=!0;""!=y$(a).innerHTML&&(void 0!=e.minVal&&""<e.minVal&&(h=str2int(b.value)+" >= "+e.minVal,g=Parser.evaluate(h,k),console.log(h+" = "+g)),g&&void 0!=e.maxVal&&""!=e.maxVal&&(h=e.maxVal+" >= "+str2int(b.value),g=Parser.evaluate(h,k),console.log(h+
" = "+g)));if(g){k=c[0]+"_total";g=str2int(y$(a).innerHTML);y$(a).innerHTML=b.value;if(y$(k)){h=str2int(y$(k).innerHTML);h=h-g+str2int(b.value);y$(k).innerHTML=h;var g=b.calcGridSet.split(","),l;for(l in g)g.hasOwnProperty(l)&&""<g[l]&&(h=y$(g[l]),calcGridRecalc(h,k))}void 0!=e&&(e=e.notificationFormId,""<e&&(e=this["fl_"+e]))&&(e._position=[],e._position.name="_position",e._position.type="hidden",e._position.value={x:100,y:0},askValue("/","javascript:dynSaveForm()",e));b.openNextField&&(c=calcGridGetNextFieldName(d,
c[0])+"_"+c[1],y$(c)&&y$(c).click())}else console.log("O Valor n\u00c3\u00a3o pode ser lan\u00c3\u00a7ado por n\u00c3\u00a3o cumprir condi\u00c3\u00a7\u00c3\u00b5es de exist\u00c3\u00aancia"),window.alert("O valor n\u00c3\u00a3o \u00c3\u00a9 consistente.\nRevise valores do campo pai e o pr\u00c3\u00b3prio valor lan\u00c3\u00a7ado\nTente novamente"),y$(a).click()}}
function showCellInfo(a,b,c){var d="";a&&(d=a.parentElement.firstChild.innerHTML+"<br><small>Dia: "+a.cellIndex+"</small>");d="<div style='"+(c?"font-weight: 800; color:black":"color:#aaa")+"'>"+d+"</div>";if(c=document.getElementById("tipDiv"))b&&(c.style.display="block",b=getX(a)+a.offsetWidth,a=getY(a)+a.offsetHeight,new Effect.Move("tipDiv",{x:b,y:a,mode:"absolute",duration:.3})),c.innerHTML=d}
function dynSetEditableCell(a,b,c,d,e,g){var k=y$(c+"_"+b);k&&(k.onmouseover=function(){showCellInfo(this,!0,e)},k.onmouseout=function(){showCellInfo(this,!1,e)},k.onclick=e?function(){var a=calcGridGetRuleTitle(this.parentNode.parentNode.parentNode,c);null==a&&(a="Valor");var e=[];e.valor=[];e.valor.title=a+" / "+b;e.valor.name="value";e.valor.type="integer";e.valor.width="4";e.valor.value=k.innerHTML;e.calcGridSet=[];e.calcGridSet.name="calcGridSet";e.calcGridSet.type="hidden";e.calcGridSet.value=
d;e.openNextField=[];e.openNextField.name="openNextField";e.openNextField.type="hidden";e.openNextField.value=1;var a=getX(k)+parseInt(k.offsetWidth),m=getY(k)+parseInt(k.offsetHeight);e._position=[];e._position.name="_position";e._position.type="hidden";e._position.value={x:a,y:m};e._position.onChangesFuncName=g;askValue("/",'javascript:dynSetCellValue("'+c+"_"+b+'")',e)}:null)}
function dynSetEditableCells(a,b,c,d){for(var e in b)if(b.hasOwnProperty(e))for(var g in c)c.hasOwnProperty(g)&&dynSetEditableCell(a,c[g].name,b[e].name,[c[g].calcGridAssoc,b[e].calcGridAssoc],c[g].editable&&b[e].editable,d)}function dynSetClickableHeaders(a,b,c,d){for(var e in c)c.hasOwnProperty(e)&&(a=y$("_"+c[e].name))&&(a.onclick=d)}function dynSetClickableRowHeaders(a,b,c,d){for(var e in b)b.hasOwnProperty(e)&&(a=y$(b[e].name))&&(a.onclick=d)}
function sequenceSetValue(a,b,c){for(var d in a)a.hasOwnProperty(d)&&(a[d][b]=c)}function sequenceAdd(a,b){a[b.name]=b}function sequenceProducer(a,b,c){var d=[];if(0<c)for(;a<=b;a+=c){var e=[];e.title=a;e.name=a;sequenceAdd(d,e)}else 0>c||console.log("You cannot create a non increment sequence");return d}
function fillTable(a,b,c,d,e,g,k,h,l){ycomm.invoke("yeapfDB","doSQL",{sql:'"'+b+'"'},function(b,h,l){console.log(b,a);b=c.split(",");h="";for(var y=0;y<b.length;y++)h+='<td><a href="{1}">%({0})</a></td>'.format(b[y],d);ycomm.dom.fillElement(a,l,{onNewItem:g,rows:[h],inplaceData:[e],onNewItem:g,onReady:k})})}function getCheckboxTable(a){return y$(a).parentElement?y$(a).parentElement.parentElement:null}
function getAllCheckboxInTable(a){var b={};a=a.getElementsByTagName("input");for(var c=a.length,d=0,e=0;e<c;e++)"checkbox"===a[e].type&&(b[d++]=a[e]);return b}function getFormSelectOptions(a,b,c,d){a.length=0;ycomm.invoke("yeapfDB","getFormSelectOptions",{formName:'"'+b+'"',formField:'"'+c+'"'},function(e,g,k){console.log(e,b+"."+c);for(var h in k)if(k.hasOwnProperty(h))for(var l in k[h])k[h].hasOwnProperty(l)&&"rowid"!=l&&(a[l]=k[h][l]);void 0!=d&&d(a,b,c)})}
function $value(a,b){var c=y$(a);return c?c.value:b}function __saveFormInfo(a){var b=$value("s",""),c=$value("a",""),c="save"+c.ucFirst(),d=$value("id",""),e;"checkbox"==a.type?e=a.checked?a.value:"":"text"==a.type&&(e=a.value);var g=a.id,g=g.replace(".","_");_dumpy(2,1,"u",u,"s",b,"a",c,"id",d,"eID",a.id,"v",e);_DO(b,c,"(id,"+g+")","("+d+","+e+")")}
function __dynOnChange__(a){void 0==a&&(a=window.event||arguments.callee.caller.arguments[0]);a.target&&(a=a.target);a.childOpenCondition&&console.log(a.childOpenCondition)}function __cbOnChange__(a,b){void 0==a&&(a=window.event||arguments.callee.caller.arguments[0]);a.target&&(a=a.target);void 0==b&&(b=a.dynSaveOnChange);_dumpy(2,1,"check ",a.id,a.checked);void 0!=a.dynOnChange&&a.dynOnChange();b&&__saveFormInfo(a);dynCleanChilds(a,document)}_dump("ydyntable");